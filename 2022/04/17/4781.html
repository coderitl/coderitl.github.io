<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <title>SpringMVC | coder-itl</title>
  <meta name="author" content="coder-itl">
  <meta name="copyright" content="coder-itl">
  <meta name="format-detection" content="telephone=no">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="SpringMVC创建项目创建使用步骤核心对象处理请求配置文件说明mvc组件 创建Java Enterprice     修改为如下(maven项目)        添加pom.xml依赖 12345678910111213141516171819202122<dependencies>    <!-- servlet -->    <dependency>">
  <meta property="og:type" content="article">
  <meta property="og:title" content="SpringMVC">
  <meta property="og:url" content="https://coderitl.github.io/2022/04/17/4781.html">
  <meta property="og:site_name" content="coder-itl">
  <meta property="og:description" content="SpringMVC创建项目创建使用步骤核心对象处理请求配置文件说明mvc组件 创建Java Enterprice     修改为如下(maven项目)        添加pom.xml依赖 12345678910111213141516171819202122<dependencies>    <!-- servlet -->    <dependency>">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:image" content="https://img-blog.csdnimg.cn/a34ec316c47a42b28b4e4454191c78b7.png">
  <meta property="article:published_time" content="2022-04-17T06:21:16.000Z">
  <meta property="article:modified_time" content="2023-06-22T11:51:59.470Z">
  <meta property="article:author" content="coder-itl">
  <meta property="article:tag" content="coder-itl,Java,HTML+CSS,Hexo,MYSQL">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:image" content="https://img-blog.csdnimg.cn/a34ec316c47a42b28b4e4454191c78b7.png">
  <link rel="shortcut icon" href="https://img-blog.csdnimg.cn/f44f454681b440f3a8ae5f086d3c07d9.png">
  <link rel="canonical" href="https://coderitl.github.io/2022/04/17/4781.html">
  <link rel="preconnect" href="//cdn.jsdelivr.net">
  <link rel="preconnect" href="//busuanzi.ibruce.info">
  <link rel="stylesheet" href="/css/index.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'">
  <script>
    const GLOBAL_CONFIG = {
      root: '/',
      algolia: undefined,
      localSearch:
      {
        "path": "/search.xml",
        "preload": false,
        "languages":
        {
          "hits_empty": "找不到您查询的内容：${query}"
        }
      },
      translate: undefined,
      noticeOutdate: undefined,
      highlight:
      {
        "plugin": "highlighjs",
        "highlightCopy": true,
        "highlightLang": false,
        "highlightHeightLimit": false
      },
      copy:
      {
        success: '复制成功',
        error: '复制错误',
        noSupport: '浏览器不支持'
      },
      relativeDate:
      {
        homepage: false,
        post: false
      },
      runtime: '',
      date_suffix:
      {
        just: '刚刚',
        min: '分钟前',
        hour: '小时前',
        day: '天前',
        month: '个月前'
      },
      copyright: undefined,
      lightbox: 'fancybox',
      Snackbar: undefined,
      source:
      {
        justifiedGallery:
        {
          js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
          css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
        }
      },
      isPhotoFigcaption: false,
      islazyload: true,
      isAnchor: false,
      percent:
      {
        toc: true,
        rightside: false,
      }
    }

  </script>
  <script id="config-diff">
    var GLOBAL_CONFIG_SITE = {
      title: 'SpringMVC',
      isPost: true,
      isHome: false,
      isHighlightShrink: false,
      isToc: true,
      postUpdate: '2023-06-22 19:51:59'
    }

  </script><noscript>
    <style type="text/css">
      #nav
      {
        opacity: 1
      }

      .justified-gallery img
      {
        opacity: 1
      }

      #recent-posts time,
      #post-meta time
      {
        display: inline !important
      }

    </style>
  </noscript>
  <script>
    (win =>
    {
      win.saveToLocal = {
        set: function setWithExpiry(key, value, ttl)
        {
          if (ttl === 0) return
          const now = new Date()
          const expiryDay = ttl * 86400000
          const item = {
            value: value,
            expiry: now.getTime() + expiryDay,
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
        get: function getWithExpiry(key)
        {
          const itemStr = localStorage.getItem(key)
          if (!itemStr)
          {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = new Date()
          if (now.getTime() > item.expiry)
          {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
      win.getScript = url => new Promise((resolve, reject) =>
      {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function ()
        {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(script)
      })
      win.getCSS = url => new Promise((resolve, reject) =>
      {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        link.onload = () => resolve()
        link.onerror = () => reject()
        document.head.appendChild(link)
      })
      win.activateDarkMode = function ()
      {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null)
        {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function ()
      {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null)
        {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
      if (t === 'dark') activateDarkMode()
      else if (t === 'light') activateLightMode()
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined)
      {
        if (asideStatus === 'hide')
        {
          document.documentElement.classList.add('hide-aside')
        }
        else
        {
          document.documentElement.classList.remove('hide-aside')
        }
      }
      const detectApple = () =>
      {
        if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent))
        {
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)

  </script>
  <link rel="stylesheet" href="/css/modify.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/l-lin/font-awesome-animation/dist/font-awesome-animation.min.css" media="defer" onload="this.media='all'">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/coderitl/FileJsDeliver@v1.1.12/css/gitcalendar.css" media="defer" onload="this.media='all'">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/coderitl/FileJsDeliver@v1.1.13/swiper/swiper.min.css" media="defer" onload="this.media='all'">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/coderitl/FileJsDeliver@v1.1.13/swiper/swiperstyle.css" media="defer" onload="this.media='all'">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/animate-css/animate.css@3.7.2/animate.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css" media="defer">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/coderitl/globalfont@v0.0.4/my.css">
  <link rel="stylesheet" href="/css/my.css">
  <meta name="referrer" content="no-referrer"><!-- hexo injector head_end start -->
  <style>
    body hanla:after
    {
      content: ' ';
      display: inline;
      font-family: inherit;
      font-size: 0.45em;
    }

    html code hanla,
    html pre hanla,
    html kbd hanla,
    html samp hanla,
    html ruby hanla,
    html .tag-list-item hanla
    {
      display: none;
    }

    html ol>hanla,
    html ul>hanla
    {
      display: none;
    }

  </style>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-card-history/baiduhistory/css/main.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css">
  <style>
    #recent-posts>.recent-post-item>.recent-post-info>.article-meta-wrap>.tags:before
    {
      content: "\A";
      white-space: pre;
    }

    #recent-posts>.recent-post-item>.recent-post-info>.article-meta-wrap>.tags>.article-meta__separator
    {
      display: none
    }

  </style>
  <link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'">
  <link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'">
  <link rel="stylesheet" href="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.css" media="print" onload="this.media='all'">
  <link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'">
  <link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'">
  <script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><!-- hexo injector head_end end -->
  <meta name="generator" content="Hexo 5.4.2">
  <link rel="alternate" href="/atom.xml" title="coder-itl" type="application/atom+xml">
</head>

<body>
  <div id="loading-box">
    <div class="loading-left-bg"></div>
    <div class="loading-right-bg"></div>
    <div class="spinner-box">
      <div class="configure-border-1">
        <div class="configure-core"></div>
      </div>
      <div class="configure-border-2">
        <div class="configure-core"></div>
      </div>
      <div class="loading-word">加载中...</div>
    </div>
  </div>
  <script>
    const preloader = {
      endLoading: () =>
      {
        document.body.style.overflow = 'auto';
        document.getElementById('loading-box').classList.add("loaded")
      },
      initLoading: () =>
      {
        document.body.style.overflow = '';
        document.getElementById('loading-box').classList.remove("loaded")
      }
    }
    window.addEventListener('load', () =>
    {
      preloader.endLoading()
    })
    if (true)
    {
      document.addEventListener('pjax:send', () =>
      {
        preloader.initLoading()
      })
      document.addEventListener('pjax:complete', () =>
      {
        preloader.endLoading()
      })
    }

  </script>
  <div id="web_bg"></div>
  <div id="sidebar">
    <div id="menu-mask"></div>
    <div id="sidebar-menus">
      <div class="avatar-img is-center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://i.328888.xyz/2023/03/19/MJUXa.jpeg" onerror="onerror=null;src='https://i.328888.xyz/2023/03/20/P3kfC.gif'" alt="avatar"></div>
      <div class="sidebar-site-data site-data is-center"><a href="/archives/">
          <div class="headline">
            <hanla></hanla>文章<hanla></hanla>
          </div>
          <div class="length-num">119</div>
        </a><a href="/tags/">
          <div class="headline">
            <hanla></hanla>标签<hanla></hanla>
          </div>
          <div class="length-num">21</div>
        </a><a href="/categories/">
          <div class="headline">
            <hanla></hanla>分类<hanla></hanla>
          </div>
          <div class="length-num">13</div>
        </a></div>
      <hr>
      <div class="menus_items">
        <div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div>
        <div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div>
        <div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div>
        <div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div>
        <div class="menus_item"><a class="site-page" href="/Timeline/"><i class="fa-fw fab fa-docker"></i><span> 日志</span></a></div>
        <div class="menus_item"><a class="site-page" href="/Java-%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF/"><i class="fa-fw fas fa-link"></i><span> 学习路线</span></a></div>
        <div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于<hanla></hanla></span></a></div>
      </div>
    </div>
  </div>
  <div class="post" id="body-wrap">
    <header class="post-bg" id="page-header" style="background-image: url('https://img-blog.csdnimg.cn/a34ec316c47a42b28b4e4454191c78b7.png')">
      <nav id="nav"><span id="blog-info"><a href="/" title="coder-itl"><span class="site-name">coder-itl</span></a></span>
        <div id="menus">
          <div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div>
          <div class="menus_items">
            <div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div>
            <div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div>
            <div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div>
            <div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div>
            <div class="menus_item"><a class="site-page" href="/Timeline/"><i class="fa-fw fab fa-docker"></i><span> 日志</span></a></div>
            <div class="menus_item"><a class="site-page" href="/Java-%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF/"><i class="fa-fw fas fa-link"></i><span> 学习路线</span></a></div>
            <div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于<hanla></hanla></span></a></div>
          </div>
          <div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div>
        </div>
      </nav>
      <div id="post-info">
        <h1 class="post-title">SpringMVC</h1>
        <div id="post-meta">
          <div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">
                <hanla></hanla>发表于<hanla></hanla>
              </span><time class="post-meta-date-created" datetime="2022-04-17T06:21:16.000Z" title="发表于 2022-04-17 14:21:16">2022-04-17</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于<hanla></hanla></span><time class="post-meta-date-updated" datetime="2023-06-22T11:51:59.470Z" title="更新于 2023-06-22 19:51:59">2023-06-22</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Java/">Java</a></span></div>
          <div class="meta-secondline"><span class="post-meta-separator">|</span><span id="" data-flag-title="SpringMVC"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="twikoo_visitors"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div>
        </div>
      </div>
    </header>
    <main class="layout" id="content-inner">
      <div id="post"><div class="top-img" style="background-image: url('https://img-blog.csdnimg.cn/a34ec316c47a42b28b4e4454191c78b7.png');"></div>
        <article class="post-content" id="article-container">
          <meta name="referrer" content="no-referrer">
          <h3 id="SpringMVC"><a href="#SpringMVC" class="headerlink" title="SpringMVC"></a>SpringMVC</h3>
          <h4 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>
            <hanla></hanla>创建项目
          </h4>
          <div class="tabs" id="springmvc">
            <ul class="nav-tabs">
              <li class="tab active"><button type="button" data-href="#springmvc-1">创建</button></li>
              <li class="tab"><button type="button" data-href="#springmvc-2">使用步骤</button></li>
              <li class="tab"><button type="button" data-href="#springmvc-3">核心对象</button></li>
              <li class="tab"><button type="button" data-href="#springmvc-4">处理请求</button></li>
              <li class="tab"><button type="button" data-href="#springmvc-5">配置文件说明<hanla></hanla></button></li>
              <li class="tab"><button type="button" data-href="#springmvc-6">mvc<hanla></hanla>组件</button></li>
            </ul>
            <div class="tab-contents">
              <div class="tab-item-content active" id="springmvc-1">
                <ul>
                  <li>
                    <p>创建<hanla></hanla><code>Java Enterprice </code></p>
                    <table>
                      <thead>
                        <tr>
                          <th align="center">修改为如下<hanla></hanla>(<code>maven<hanla></hanla>项目</code>)</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/448f3a5e3aae472c9adde5431502e219.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbG92b2Jpbi5naXRodWIuaW8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="修改为如下" style="zoom: 67%;"></td>
                        </tr>
                      </tbody>
                    </table>
                  </li>
                  <li>
                    <p>添加<hanla></hanla><code>pom.xml</code>
                      <hanla></hanla>依赖
                    </p>
                    <figure class="highlight xml">
                      <table>
                        <tbody>
                          <tr>
                            <td class="gutter">
                              <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre>
                            </td>
                            <td class="code">
                              <pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- servlet --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 单元测试 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.junit.jupiter<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit-jupiter-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>${junit.version}<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--  SpringMVC --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.5.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </figure>
                  </li>
                </ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button>
              </div>
              <div class="tab-item-content" id="springmvc-2">
                <ul>
                  <li>
                    <p>需求</p>
                    <div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i>
                      <p>需求: 用户发起一个请求,<code>spring-mvc</code>
                        <hanla></hanla>接受请求,<hanla></hanla>显示请求的处理结果
                      </p>
                    </div>
                  </li>
                </ul>
              </div>
              <ul>
                <li>
                  <p><code>Servlet</code>
                    <hanla></hanla>的实现方式
                  </p>
                  <div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i>
                    <p><code>jsp<hanla></hanla>发起请求</code>—&gt;·<code>servelt<hanla></hanla>处理请求</code>—-&gt;<code>jsp<hanla></hanla>显示处理后的结果</code></p>
                  </div>
                </li>
              </ul>
            </div>
            <ul>
              <li>
                <p><code>spring-mvc</code></p>
                <div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i>
                  <ul></ul>
                </div>
              </li>
            </ul>
            <li>新建<hanla></hanla><code>web(Java Enterprice)</code>
              <hanla></hanla>应用
            </li>
            <li>加入<hanla></hanla><code>web(spring-webmvc )</code>
              <hanla></hanla>依赖
            </li>
            <li>声明<hanla></hanla><code>springmvc</code>
              <hanla></hanla>核心依赖 <code>DispatcherServlet</code>
              <ol>
                <li><code>DispatcherServlet</code>
                  <hanla></hanla>是一个<hanla></hanla><code>servlet</code>
                  <hanla></hanla>对象
                </li>
                <li><code>DispatcherServlet</code>
                  <hanla></hanla>叫做前端控制器
                </li>
                <li><code>DispatcherServlet</code>
                  <hanla></hanla>的作用<ul>
                    <li>在<hanla></hanla><code>servlet</code>
                      <hanla></hanla>的<hanla></hanla><code>init()</code>
                      <hanla></hanla>方法中,<hanla></hanla>创建<hanla></hanla><code>springmvc</code>
                      <hanla></hanla>中的容器对象
                    </li>
                    <li>作为<hanla></hanla><code>servlet</code>,<hanla></hanla>接受请求</li>
                  </ul>
                </li>
              </ol>
            </li>
            <li>创建一个<hanla></hanla><code>jsp | html</code>，发起请求</li>
            <li>创建一个普通的类,<hanla></hanla>作为控制器使用<hanla></hanla>(<code>代替之前的<hanla></hanla>servlet</code>)<ul>
                <li>在类的上面加入<hanla></hanla><code>@Controller</code>
                  <hanla></hanla>注解
                </li>
                <li>在类中定义方法,<hanla></hanla>方法的上面加入<hanla></hanla><code>@RequestMapping</code>
                  <hanla></hanla>注解，方法是处理请求的,<hanla></hanla>相当于<hanla></hanla><code>servlet</code>
                  <hanla></hanla>的<hanla></hanla><code>doget | doPost</code>
                </li>
              </ul>
            </li>
            <li>创建作为结果的<hanla></hanla><code>jsp | html</code>
              <hanla></hanla>页面
            </li>
            <li>创建<hanla></hanla><code>spring-mvc</code>
              <hanla></hanla>的配置文件<hanla></hanla>(和<hanla></hanla><code>spring</code>
              <hanla></hanla>的配置文件一样)<ul>
                <li>声明组件扫描器,<hanla></hanla>指定<hanla></hanla><code>@Controller</code>
                  <hanla></hanla>注解所在的包名
                </li>
                <li>声明视图解析器对象</li>
              </ul>
            </li>
          </div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button>
        </article>
      </div>
      <div class="tab-item-content" id="springmvc-3">
        <ul>
          <li>
            <p>位置</p>
            <table>
              <thead>
                <tr>
                  <th align="center"><code>spring-mvc</code>
                    <hanla></hanla>核心对象
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/5641ee34af2c413a954cad292c699657.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbG92b2Jpbi5naXRodWIuaW8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="spring-mvc核心对象"></td>
                </tr>
              </tbody>
            </table>
          </li>
          <li>
            <p>本质是一个<hanla></hanla><code>sevlet</code></p>
            <table>
              <thead>
                <tr>
                  <th align="center">核心对象的本质</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/27558679a7564be79d39fff8a10ec6f6.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbG92b2Jpbi5naXRodWIuaW8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="核心对象的本质"></td>
                </tr>
              </tbody>
            </table>
          </li>
          <li>
            <p>访问<hanla></hanla><code>spring-mvc</code></p>
            <figure class="highlight xml">
              <table>
                <tbody>
                  <tr>
                    <td class="gutter">
                      <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre>
                    </td>
                    <td class="code">
                      <pre><span class="line"><span class="comment">&lt;!-- 声明中央调度器 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>coderitl<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>coderitl<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/coder-itl<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre>
                    </td>
                  </tr>
                </tbody>
              </table>
            </figure>
            <table>
              <thead>
                <tr>
                  <th align="center">访问<hanla></hanla><code>mvc</code>
                    <hanla></hanla>地址后,<hanla></hanla>报错,<hanla></hanla>文件没找到,<hanla></hanla>找的目标文件为<hanla></hanla><code>coderitl-servlet.xml</code>
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/d67e534e82134a23b5aa8ebcd2ff7ce9.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbG92b2Jpbi5naXRodWIuaW8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="coderitl-servlet.xml"></td>
                </tr>
              </tbody>
            </table>
            <ul>
              <li>
                <p>错误的原因</p>
                <div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i>
                  <p>在<hanla></hanla><code>Servlet</code>
                    <hanla></hanla>的<hanla></hanla><code>init()</code>
                    <hanla></hanla>方法中,<hanla></hanla>创建<hanla></hanla><code>spring-mvc</code>
                    <hanla></hanla>使用的容器对象<hanla></hanla><code>WebApplicationContext</code>
                  </p>
                </div>
              </li>
            </ul>
          </li>
        </ul>
        <p><code>WebApplicationContext ctx = new ClassPathXmlApplicationContext(配置文件)</code></p>
        <p>而配置文件的默认路径为:<code>/WEB-INF/&lt;servlet-name&gt;-servlet.xml</code></p>
      </div>
      <ul>
        <li>
          <p>解决方案</p>
          <ol>
            <li>
              <p>在默认路径下创建对应匹配规则的配置文件<hanla></hanla>(<code>不灵活</code>)</p>
            </li>
            <li>
              <p>自定义配置文件路径</p>
              <table>
                <thead>
                  <tr>
                    <th align="center">读取过程分析</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/2e4d5a2b2f0a435380f0cfbcbeece25b.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbG92b2Jpbi5naXRodWIuaW8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="读取过程分析"></td>
                  </tr>
                </tbody>
              </table>
            </li>
          </ol>
        </li>
        <li>
          <p><code>web.xml</code>
            <hanla></hanla>配置内容
          </p>
          <figure class="highlight xml">
            <table>
              <tbody>
                <tr>
                  <td class="gutter">
                    <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre>
                  </td>
                  <td class="code">
                    <pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">"http://xmlns.jcp.org/xml/ns/javaee"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">"4.0"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 声明中央调度器 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--  WebApplicationContext ctx = new ClassPathXmlApplicationContext(配置文件) --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>coderitl<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 自定义配置文件的位置 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:springmvc.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="comment"><!--  表示服务器 Tomcat 创建对象的顺序,<hanla></hanla>是个整数值,<hanla></hanla>大于等于 0, 数值越小,<hanla></hanla>创建对象的时间越早  --></span></span><br><span class="line">        <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>coderitl<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            url-pattern 作用: 把一些请求交给指定的 servlet 处理,<hanla></hanla>使用中央调度器<hanla></hanla>(DispatcherServlet)</span></span><br><span class="line"><span class="comment">            1. 使用扩展名方式 格式: *.xxx, xxx 是自定义的扩展名</span></span><br><span class="line"><span class="comment">                例如: *.do *.action *.mvc 不能使用 *.mvc</span></span><br><span class="line"><span class="comment">            2. 使用 /xxx</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>*.do<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre>
                  </td>
                </tr>
              </tbody>
            </table>
          </figure>
        </li>
      </ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button>
    </main>
  </div>
  <div class="tab-item-content" id="springmvc-4">
    <ul>
      <li>
        <p><code>Controller</code></p>
        <figure class="highlight java">
          <table>
            <tbody>
              <tr>
                <td class="gutter">
                  <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre>
                </td>
                <td class="code">
                  <pre><span class="line"><span class="keyword">package</span> com.example.springmvc.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Controller</span>: 创建控制器<hanla></hanla>(处理器)<hanla></hanla>对象</span></span><br><span class="line"><span class="comment"> * 控制器: 叫做后端控制器<hanla></hanla>(back controller),<hanla></hanla>自定义的类处理请求的</span></span><br><span class="line"><span class="comment"> * 位置: 在类的上面,<hanla></hanla>表示创建此类的对象,<hanla></hanla>对象放在 spring-mvc 的容器中</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyController</span> {</span><br><span class="line">    <span class="comment">// 定义方法 处理请求 public void doGet(){}</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * spring-mvc 框架,<hanla></hanla>使用控制器类中的方法,<hanla></hanla>处理请求</span></span><br><span class="line"><span class="comment">     * 方法的特点:</span></span><br><span class="line"><span class="comment">     * 1. 方法的形参,<hanla></hanla>表示请求中的参数</span></span><br><span class="line"><span class="comment">     * 2. 方法的返回值,<hanla></hanla>表示本次请求的处理请求</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@RequestMapping</span>(value = "/some.do")   请求映射</span></span><br><span class="line"><span class="comment">     * 属性: value 请求中的 uri 地址,<hanla></hanla>唯一值 以 "/"开头</span></span><br><span class="line"><span class="comment">     * 位置:</span></span><br><span class="line"><span class="comment">     * 1. 在方法的上面<hanla></hanla>(必须的)</span></span><br><span class="line"><span class="comment">     * 2. 在类定义的上面<hanla></hanla>(可选)</span></span><br><span class="line"><span class="comment">     * 作用: 把指定的请求,<hanla></hanla>交给指定的方法处理,<hanla></hanla>等同于 url-pattern</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(value = "/some.do")</span></span><br><span class="line">    <span class="keyword">public</span> ModelAndView <span class="title function_">doSome</span><span class="params">()</span> {</span><br><span class="line">        <span class="comment">// 调用 service 对象 处理请求,<hanla></hanla>返回数据</span></span><br><span class="line">        <span class="type">ModelAndView</span> <span class="variable">mv</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>();</span><br><span class="line">        <span class="comment">// 添加数据    mv.addObject(key,value) 等同于 request.setAttribute(key,value)</span></span><br><span class="line">        mv.addObject(<span class="string">"userName"</span>, <span class="string">"coder-itl"</span>);</span><br><span class="line">        <span class="comment">// 指定视图 setViewName("参数为视图的完整路径<hanla></hanla>(webapp/index.jsp)")</span></span><br><span class="line">        <span class="comment">// mv.setViewName("/WEB-INF/view/show.jsp");</span></span><br><span class="line">        <span class="comment">// 当添加视图解析器后使用文件名作为视图名使用,<hanla></hanla>叫做视图逻辑名称</span></span><br><span class="line">        <span class="comment">// 使用了逻辑名称,<hanla></hanla>框架使用配置文件中视图解析器的前缀和后缀,<hanla></hanla>拼接为完整的视图路径</span></span><br><span class="line">        mv.setViewName(<span class="string">"show"</span>);</span><br><span class="line">        <span class="comment">// 返回结果</span></span><br><span class="line">        <span class="keyword">return</span> mv;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 当框架调用完 doSome() 方法后 得到返回中 ModelAndView</span></span><br><span class="line"><span class="comment">     * 框架会在后续的处理逻辑中,<hanla></hanla>处理 mv 对象里面的数据和视图</span></span><br><span class="line"><span class="comment">     * 对数据执行 request.setAttribute("userName","coder-itl"),<hanla></hanla>把数据放入到 request 作用域</span></span><br><span class="line"><span class="comment">     * 对视图执行 forward 转发操作,<hanla></hanla>等同于<hanla></hanla>request.getRequestDispather("/index.jsp").forward(...)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 一个方法可以处理多个请求</span></span><br><span class="line">    <span class="meta">@RequestMapping(value = {"/other.do", "/book/addBook.do"})</span></span><br><span class="line">    <span class="keyword">public</span> ModelAndView <span class="title function_">doOther</span><span class="params">()</span> {</span><br><span class="line">        <span class="comment">// 调用 service 对象 处理请求,<hanla></hanla>返回数据</span></span><br><span class="line">        <span class="type">ModelAndView</span> <span class="variable">mv</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>();</span><br><span class="line">        <span class="comment">// 添加数据    mv.addObject(key,value) 等同于 request.setAttribute(key,value)</span></span><br><span class="line">        mv.addObject(<span class="string">"otherInfo"</span>, <span class="string">"处理 doOther..."</span>);</span><br><span class="line">        <span class="comment">// 指定视图 setViewName("参数为视图的完整路径<hanla></hanla>(webapp/index.jsp)")</span></span><br><span class="line">        <span class="comment">// mv.setViewName("/WEB-INF/view/show.jsp");</span></span><br><span class="line">        <span class="comment">// 当添加视图解析器后使用文件名作为视图名使用,<hanla></hanla>叫做视图逻辑名称</span></span><br><span class="line">        <span class="comment">// 使用了逻辑名称,<hanla></hanla>框架使用配置文件中视图解析器的前缀和后缀,<hanla></hanla>拼接为完整的视图路径</span></span><br><span class="line">        mv.setViewName(<span class="string">"other"</span>);</span><br><span class="line">        <span class="comment">// 返回结果</span></span><br><span class="line">        <span class="keyword">return</span> mv;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre>
                </td>
              </tr>
            </tbody>
          </table>
        </figure>
      </li>
      <li>
        <p><code>spring-mvc.xml</code></p>
        <figure class="highlight xml">
          <table>
            <tbody>
              <tr>
                <td class="gutter">
                  <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre>
                </td>
                <td class="code">
                  <pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 声明组件扫描器 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"com.example.springmvc.controller"</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 声明视图解析器 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.view.InternalResourceViewResolver"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--  前缀: 指定视图文件的路径 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"prefix"</span> <span class="attr">value</span>=<span class="string">"/WEB-INF/view/"</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 后缀: 视图文件的扩展名 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"suffix"</span> <span class="attr">value</span>=<span class="string">".jsp"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre>
                </td>
              </tr>
            </tbody>
          </table>
        </figure>
      </li>
      <li>
        <p>视图</p>
        <figure class="highlight jsp">
          <table>
            <tbody>
              <tr>
                <td class="gutter">
                  <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                </td>
                <td class="code">
                  <pre><span class="line"><h1>Other<hanla></hanla>数据: ${otherInfo}</h1></span><br><span class="line"><h1>userNmae<hanla></hanla>数据: ${userName}</h1></span><br></pre>
                </td>
              </tr>
            </tbody>
          </table>
        </figure>
      </li>
      <li>
        <p><code>@RequestMapping</code></p>
        <figure class="highlight java">
          <table>
            <tbody>
              <tr>
                <td class="gutter">
                  <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                </td>
                <td class="code">
                  <pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@RequestMapping</span>() 属性 value: 表示所有请<hanla></hanla>i<hanla></hanla>去地址的公共前缀,<hanla></hanla>相当于是模块的名称</span></span><br><span class="line"><span class="comment"> * 位置: 在类的上面</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre>
                </td>
              </tr>
            </tbody>
          </table>
        </figure>
        <table>
          <thead>
            <tr>
              <th align="center">模块前缀</th>
              <th align="center">模块前缀使用过程</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/c7edeaa2cbd54df298e6b3a2d2e90b70.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbG92b2Jpbi5naXRodWIuaW8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="模块前缀"></td>
              <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/a730142d6039404dbce51ee72e6826e7.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbG92b2Jpbi5naXRodWIuaW8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="模块前缀使用过程"></td>
            </tr>
          </tbody>
        </table>
      </li>
    </ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button>
  </div>
  <div class="tab-item-content" id="springmvc-5">
    <ul>
      <li>
        <p><code>web.xml</code></p>
        <div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i>
          <ul></ul>
        </div>
      </li>
    </ul>
    <li>
      <p><code>web.xml</code>
        <hanla></hanla>部署描述符文件,<hanla></hanla>给服务器<hanla></hanla>(<code>Tomcat</code>)
      </p>
    </li>
    <li>
      <p>作用</p>
      <p>服务器在启动的时候,<hanla></hanla>读取<hanla></hanla><code>web.xml</code>，根据文件中的声明创建各种对象,<hanla></hanla>根据文件中的声明,<hanla></hanla>知道 请求和 <code>servlet</code>
        <hanla></hanla>等对象的关系
      </p>
    </li>
  </div>
  <ul>
    <li>
      <p>使用框架,<hanla></hanla>框架<hanla></hanla>(<code>【spring-mvc】.xml</code>)<hanla></hanla>会有配置文件</p>
      <div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i>
        <p>作用: 声明框架创建的项目中的各种对象,<hanla></hanla>主要是创建<hanla></hanla><code>Controller</code>
          <hanla></hanla>对象的
        </p>
      </div>
    </li>
  </ul>
  <ul>
    <li>
      <p>配置文件的加载顺序以及功能</p>
      <ol>
        <li><code>Tomcat</code>
          <hanla></hanla>服务器启动,<hanla></hanla>读取<hanla></hanla><code>web.xml</code>
          <hanla></hanla>根据<hanla></hanla><code>web.xml</code>
          <hanla></hanla>文件中的说明,<hanla></hanla>创建对象
        </li>
        <li><code>spring-mvc</code>
          <hanla></hanla>框架,<code>new ClassPathXmlApplicationContext()</code>
          <hanla></hanla>读取<hanla></hanla><code>spring-mvc</code>
          <hanla></hanla>的配置文件,<hanla></hanla>通过组件扫描器，扫描<hanla></hanla><code>controller</code>
          <hanla></hanla>下的<hanla></hanla><code>@Controller 和 @RequestMapping</code>,<hanla></hanla>并执行方法
        </li>
        <li>用户发起请求</li>
      </ol>
    </li>
  </ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button>
  <div class="tab-item-content" id="springmvc-6">
    <ul>
      <li>
        <p>解析</p>
        <table>
          <thead>
            <tr>
              <th align="center">组件</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/d65ae0b545e6442381774dd107f3e67d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbG92b2Jpbi5naXRodWIuaW8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="组件"></td>
            </tr>
          </tbody>
        </table>
      </li>
    </ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button>
  </div>
  <h4 id="请求方式"><a href="#请求方式" class="headerlink" title="请求方式"></a>请求方式<hanla></hanla>
  </h4>
  <div class="tabs" id="">
    <ul class="nav-tabs">
      <li class="tab active"><button type="button" data-href="#-1">GET</button></li>
      <li class="tab"><button type="button" data-href="#-2">POST</button></li>
      <li class="tab"><button type="button" data-href="#-3">
          <hanla></hanla>处理任意请求
        </button></li>
      <li class="tab"><button type="button" data-href="#-4">接受参数分类<hanla></hanla></button></li>
      <li class="tab"><button type="button" data-href="#-5">RequestParam<hanla></hanla>请求参数名不一致处理</button></li>
      <li class="tab"><button type="button" data-href="#-6">对象接受</button></li>
    </ul>
    <div class="tab-contents">
      <div class="tab-item-content active" id="-1">
        <ul>
          <li>
            <p><code>get</code></p>
            <figure class="highlight java">
              <table>
                <tbody>
                  <tr>
                    <td class="gutter">
                      <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre>
                    </td>
                    <td class="code">
                      <pre><span class="line"><span class="keyword">package</span> com.example.springmvc.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMethod;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MethodsGetAndPost</span> {</span><br><span class="line">    <span class="comment">// 指定请求为 Get</span></span><br><span class="line">    <span class="meta">@RequestMapping(value = "/doGet.do", method = RequestMethod.GET)</span></span><br><span class="line">    <span class="keyword">public</span> ModelAndView <span class="title function_">useDoGet</span><span class="params">()</span> {</span><br><span class="line">        <span class="type">ModelAndView</span> <span class="variable">mv</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>();</span><br><span class="line">        mv.addObject(<span class="string">"getInfo"</span>, <span class="string">"get..."</span>);</span><br><span class="line">        <span class="comment">// 设置要显示数据的视图 /WEB-INF/view/other.jsp</span></span><br><span class="line">        mv.setViewName(<span class="string">"other"</span>);</span><br><span class="line">        <span class="keyword">return</span> mv;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre>
                    </td>
                  </tr>
                </tbody>
              </table>
            </figure>
          </li>
        </ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button>
      </div>
      <div class="tab-item-content" id="-2">
        <ul>
          <li>
            <p><code>post</code></p>
            <figure class="highlight java">
              <table>
                <tbody>
                  <tr>
                    <td class="gutter">
                      <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre>
                    </td>
                    <td class="code">
                      <pre><span class="line"><span class="keyword">package</span> com.example.springmvc.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMethod;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MethodsGetAndPost</span> {</span><br><span class="line">    <span class="comment">// 指定请求为 POST</span></span><br><span class="line">    <span class="meta">@RequestMapping(value = "/doPost.do", method = RequestMethod.POST)</span></span><br><span class="line">    <span class="keyword">public</span> ModelAndView <span class="title function_">useDoPost</span><span class="params">()</span> {</span><br><span class="line">        <span class="type">ModelAndView</span> <span class="variable">mv</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>();</span><br><span class="line">        <span class="comment">// 添加数据</span></span><br><span class="line">        mv.addObject(<span class="string">"postInfo"</span>, <span class="string">"postInfo..."</span>);</span><br><span class="line">        mv.setViewName(<span class="string">"show"</span>);</span><br><span class="line">        <span class="keyword">return</span> mv;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre>
                    </td>
                  </tr>
                </tbody>
              </table>
            </figure>
          </li>
        </ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button>
      </div>
      <div class="tab-item-content" id="-3">
        <ul>
          <li>
            <p>处理任意请求</p>
            <figure class="highlight java">
              <table>
                <tbody>
                  <tr>
                    <td class="gutter">
                      <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre>
                    </td>
                    <td class="code">
                      <pre><span class="line"><span class="comment">// 不指定 method</span></span><br><span class="line"><span class="keyword">package</span> com.example.springmvc.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMethod;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MethodsGetAndPost</span> {</span><br><span class="line">    <span class="comment">// 处理任意请求</span></span><br><span class="line">    <span class="meta">@RequestMapping(value = "/doSome.do")</span></span><br><span class="line">    <span class="keyword">public</span> ModelAndView <span class="title function_">useDoSome</span><span class="params">()</span> {</span><br><span class="line">        <span class="type">ModelAndView</span> <span class="variable">mv</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>();</span><br><span class="line">        mv.addObject(<span class="string">"doSomeInfo"</span>, <span class="string">"doSomeInfo..."</span>);</span><br><span class="line">        mv.setViewName(<span class="string">"doSome"</span>);</span><br><span class="line">        <span class="keyword">return</span> mv;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre>
                    </td>
                  </tr>
                </tbody>
              </table>
            </figure>
          </li>
        </ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button>
      </div>
      <div class="tab-item-content" id="-4">
        <ul>
          <li>
            <p>对应<hanla></hanla><code>HttpServletRequest req, HttpServletResponse resp, HttpSession session</code>
              <hanla></hanla>只需要在控制器方法的形参列表中定义就可以,<hanla></hanla>框架会给参数赋值,<hanla></hanla>在控制器方法内部可以直接使用<hanla></hanla><code>req,resp,session</code>
              <hanla></hanla>参数
            </p>
            <table>
              <thead>
                <tr>
                  <th align="center">参数问题</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/1c3e407387a444e4a64c6b8ecde868c2.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbG92b2Jpbi5naXRodWIuaW8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="参数问题"></td>
                </tr>
              </tbody>
            </table>
          </li>
          <li>
            <p>表单参数的接受</p>
            <ul>
              <li>
                <p>逐个接受请求参数</p>
                <figure class="highlight java">
                  <table>
                    <tbody>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><hanla></hanla>参数接受:</span><br><span class="line">	<span class="number">1.</span> 框架使用 request，接收参数</span><br><span class="line">        <span class="type">String</span> <span class="variable">uname</span> <span class="operator">=</span> request.getParameter(<span class="string">"uname"</span>);</span><br><span class="line">		<span class="type">String</span> <span class="variable">age</span> <span class="operator">=</span> request.getParameter(<span class="string">"age"</span>);</span><br><span class="line">	<span class="number">2.</span> 在中央调度器的内部调用<hanla></hanla>* receiveParamOneByOne<hanla></hanla>方法时<hanla></hanla>() 按名称对象传递参数 receiveParamOneByOne(unmae,integer。valueOf(age) ) 框架可以实现 请求参数 String 到 <span class="type">int</span>、<span class="type">long</span>、<span class="type">float</span>、<span class="type">double</span><hanla></hanla>等的转换</span><br></pre>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </figure>
                <table>
                  <thead>
                    <tr>
                      <th align="center">要求: 请求中的参数名和控制器方法中的形参名一样,<hanla></hanla>按名称接受请求参数</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/bb7f4fe0f3a84b88a37ea86128c21735.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbG92b2Jpbi5naXRodWIuaW8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="逐个接受请求参数"></td>
                    </tr>
                  </tbody>
                </table>
                <ul>
                  <li>不建议使用<hanla></hanla><code>int</code>，如果使用时<code>未传入 | 传入不匹配</code>的参数时,<hanla></hanla>则会报错<code>错误码: 400(客户端异常)</code></li>
                  <li><code>int =&gt; Integer(推荐使用包装类型)</code></li>
                </ul>
              </li>
              <li>
                <p><code>POST</code>
                  <hanla></hanla>中文乱码
                </p>
                <table>
                  <thead>
                    <tr>
                      <th align="center"><code>POST</code>
                        <hanla></hanla>请求中文乱码
                      </th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/c75d7ae3ac754e6ba8b757e1cfc76f55.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbG92b2Jpbi5naXRodWIuaW8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="POST请求中文乱码"></td>
                    </tr>
                  </tbody>
                </table>
                <ul>
                  <li>
                    <p>解决方案</p>
                    <ul>
                      <li>
                        <p>框架内部</p>
                        <ul>
                          <li>
                            <p>过滤器位置</p>
                            <table>
                              <thead>
                                <tr>
                                  <th align="center">过滤器位置</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr>
                                  <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/a04af6da394f4a8fb07328047e597129.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbG92b2Jpbi5naXRodWIuaW8=,size_12,color_FFFFFF,t_70,g_se,x_16" alt="过滤器位置"></td>
                                </tr>
                              </tbody>
                            </table>
                          </li>
                          <li>
                            <p>使用配置</p>
                            <ul>
                              <li>
                                <p>确定要配置的属性项</p>
                                <table>
                                  <thead>
                                    <tr>
                                      <th align="center">查看<hanla></hanla><code>org.springframework.web.filter.CharacterEncodingFilter</code>
                                        <hanla></hanla>源码后,<hanla></hanla>确定要配置的属性
                                      </th>
                                      <th></th>
                                    </tr>
                                  </thead>
                                  <tbody>
                                    <tr>
                                      <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/e233a0a1df82447c88dfa3c900c7831b.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbG92b2Jpbi5naXRodWIuaW8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></td>
                                      <td></td>
                                    </tr>
                                  </tbody>
                                </table>
                              </li>
                              <li>
                                <p>配置<hanla></hanla><code>web,xml</code></p>
                                <figure class="highlight xml">
                                  <table>
                                    <tbody>
                                      <tr>
                                        <td class="gutter">
                                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre>
                                        </td>
                                        <td class="code">
                                          <pre><span class="line"><span class="comment"><!-- 声明过滤器: 框架提供的,<hanla></hanla>解决 post 请求中乱码的问题  --></span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 推荐使用类名首字母小写 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>characterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 给过滤器属性赋值 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--  项目使用的字符编码 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>utf-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="comment"><!-- 强制请求<hanla></hanla>(request) 对象使用的 encoding 的编码方式 --></span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>forceRequestEncoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="comment"><!-- 强制应答<hanla></hanla>(response) 对象使用的 encoding 的编码方式 --></span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>forceResponseEncoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>characterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="comment"><!-- 强制所有请求,<hanla></hanla>先经过过滤器处理 --></span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre>
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </figure>
                              </li>
                              <li>
                                <p>验证是否解决乱码</p>
                                <table>
                                  <thead>
                                    <tr>
                                      <th align="center">使用框架提供的过滤器</th>
                                    </tr>
                                  </thead>
                                  <tbody>
                                    <tr>
                                      <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/eb9f1e332e674df390cdda183411d41f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbG92b2Jpbi5naXRodWIuaW8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="使用框架提供的过滤器"></td>
                                    </tr>
                                  </tbody>
                                </table>
                              </li>
                            </ul>
                          </li>
                          <li>
                            <p><code>CharacterEncodingFilter</code>
                              <hanla></hanla>的本质
                            </p>
                            <table>
                              <thead>
                                <tr>
                                  <th align="center"><code>CharacterEncodingFilter</code>
                                    <hanla></hanla>的本质
                                  </th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr>
                                  <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/c4647c3da8af4d20a0223951132c7767.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbG92b2Jpbi5naXRodWIuaW8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="CharacterEncodingFilter的本质"></td>
                                </tr>
                              </tbody>
                            </table>
                          </li>
                        </ul>
                      </li>
                      <li>
                        <p>自定义过滤器</p>
                        <figure class="highlight java">
                          <table>
                            <tbody>
                              <tr>
                                <td class="gutter">
                                  <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre>
                                </td>
                                <td class="code">
                                  <pre><span class="line"><span class="keyword">package</span> com.example.springmvc.filter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebFilter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="meta">@WebFilter("/*")</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EncodingFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> {</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest req, ServletResponse resp, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException {</span><br><span class="line">        req.setCharacterEncoding(<span class="string">"utf-8"</span>);</span><br><span class="line">        resp.setContentType(<span class="string">"text/html;charset=utf-8"</span>);</span><br><span class="line">        <span class="comment">// 控制台乱码添加: -Dfile.encoding=UTF-8 添加在 Tomcat 的 VM options</span></span><br><span class="line">        System.out.println(<span class="string">"调用...."</span>);</span><br><span class="line">        filterChain.doFilter(req, resp);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </figure>
                        <table>
                          <thead>
                            <tr>
                              <th align="center">自定义过滤器</th>
                              <th></th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/d4640d2e03bd413cb242fde9ee4de120.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbG92b2Jpbi5naXRodWIuaW8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="自定义过滤器"></td>
                              <td></td>
                            </tr>
                          </tbody>
                        </table>
                      </li>
                    </ul>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
        </ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button>
      </div>
      <div class="tab-item-content" id="-5">
        <ul>
          <li>
            <p>逐个接受请求参数,<hanla></hanla>请求中参数名和形参名不一样</p>
            <table>
              <thead>
                <tr>
                  <th align="center">逐个接受请求参数,<hanla></hanla>请求中参数名和形参名不一样</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/bd208413e56040c3889333c1f6f2c5ef.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbG92b2Jpbi5naXRodWIuaW8=,size_17,color_FFFFFF,t_70,g_se,x_16" alt="参数丢失"></td>
                </tr>
              </tbody>
            </table>
            <ul>
              <li>
                <p>解决方案</p>
                <table>
                  <thead>
                    <tr>
                      <th align="center">@RequestParam(“原始名称”) String myAge；</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/49136470a2884f0ea86d2cc62e185594.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbG92b2Jpbi5naXRodWIuaW8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="@RequestParam(&quot;age&quot;)"></td>
                    </tr>
                  </tbody>
                </table>
              </li>
              <li>
                <p>参数是否必填</p>
                <figure class="highlight java">
                  <table>
                    <tbody>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">package</span> com.example.springmvc.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestParam;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 逐个接受参数<hanla></hanla></span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ReceiveParam</span> {</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 逐个接受请求参数,<hanla></hanla>请求中参数名和形参名不一样</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@RequestParam</span>: 解决名称不一样的问题</span></span><br><span class="line"><span class="comment">     * 属性: value 请求中的参数名</span></span><br><span class="line"><span class="comment">     * 		required: boolean 类型的,<hanla></hanla>默认是 true</span></span><br><span class="line"><span class="comment">     * 		true: 请求中必须有此参数,<hanla></hanla>没有报错</span></span><br><span class="line"><span class="comment">     * 位置: 在形参定义的前面</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping({"/one-by-one-other-param.do", "/aa.do"})</span></span><br><span class="line">    <span class="keyword">public</span> ModelAndView <span class="title function_">receiveParamOneByOneOtherName</span><span class="params">(<span class="meta">@RequestParam(value = "uname", required = false)</span> String myName,</span></span><br><span class="line"><span class="params">                                                      <span class="meta">@RequestParam(value = "age", required = false)</span> Integer myAge)</span> {</span><br><span class="line">        <span class="comment">// get 请求不乱吗</span></span><br><span class="line">        <span class="comment">// post 请求表单乱码</span></span><br><span class="line">        <span class="type">ModelAndView</span> <span class="variable">mv</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>();</span><br><span class="line">        <span class="comment">// 设置数据</span></span><br><span class="line">        mv.addObject(<span class="string">"onebyone"</span>, <span class="string">"参数得到了逐个处理...."</span>);</span><br><span class="line">        mv.addObject(<span class="string">"uname"</span>, myName);</span><br><span class="line">        mv.addObject(<span class="string">"age"</span>, myAge);</span><br><span class="line">        mv.setViewName(<span class="string">"OneByOne"</span>);</span><br><span class="line">        <span class="keyword">return</span> mv;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </figure>
              </li>
            </ul>
          </li>
        </ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button>
      </div>
      <div class="tab-item-content" id="-6">
        <ul>
          <li>
            <p>创建<hanla></hanla><code>JavaBean</code></p>
          </li>
          <li>
            <p>将<hanla></hanla><code>JavaBean</code>
              <hanla></hanla>使用为参数
            </p>
            <figure class="highlight java">
              <table>
                <tbody>
                  <tr>
                    <td class="gutter">
                      <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre>
                    </td>
                    <td class="code">
                      <pre><span class="line"><span class="keyword">package</span> com.example.springmvc.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.springmvc.vo.Student;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestParam;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 使用对象接受请求中的参数</span></span><br><span class="line"><span class="comment">     * 要求: 参数名和 java 对象的属性名一样</span></span><br><span class="line"><span class="comment">     *      java 类需要有一个无参构造方法,<hanla></hanla>属性有 set 方法</span></span><br><span class="line"><span class="comment">     *  </span></span><br><span class="line"><span class="comment">     * 框架的处理:</span></span><br><span class="line"><span class="comment">     *      1. 调用 Student<hanla></hanla>的无参数构造方法 创建对象</span></span><br><span class="line"><span class="comment">     *      2. 调用对象的 set 方法,<hanla></hanla>同名的参数,<hanla></hanla>调用对应的 set 方法</span></span><br><span class="line"><span class="comment">     *      参数是 name,<hanla></hanla>调用 setName(参数值)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="comment">// 逐个接受参数<hanla></hanla></span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ReceiveParam</span> {</span><br><span class="line">    <span class="meta">@RequestMapping({"/param-object.do", "/aa.do"})</span></span><br><span class="line">    <span class="keyword">public</span> ModelAndView <span class="title function_">receiveParamOByObject</span><span class="params">(Student student)</span> {</span><br><span class="line">        System.out.println(<span class="string">"Student<hanla></hanla>对象: "</span> + student);</span><br><span class="line">        <span class="type">ModelAndView</span> <span class="variable">mv</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>();</span><br><span class="line">        <span class="comment">// 设置数据</span></span><br><span class="line">        mv.addObject(<span class="string">"onebyone"</span>, <span class="string">"参数得到了逐个处理...."</span>);</span><br><span class="line">        mv.addObject(<span class="string">"uname"</span>, student.getUname());</span><br><span class="line">        mv.addObject(<span class="string">"age"</span>, student.getAge());</span><br><span class="line">        mv.setViewName(<span class="string">"OneByOne"</span>);</span><br><span class="line">        <span class="keyword">return</span> mv;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre>
                    </td>
                  </tr>
                </tbody>
              </table>
            </figure>
          </li>
        </ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button>
      </div>
    </div>
  </div>
  <h4 id="框架返回值"><a href="#框架返回值" class="headerlink" title="框架返回值"></a>框架返回值</h4>
  <div class="tabs" id="modelandview">
    <ul class="nav-tabs">
      <li class="tab active"><button type="button" data-href="#modelandview-1">控制器方法的返回值<hanla></hanla></button></li>
      <li class="tab"><button type="button" data-href="#modelandview-2">ModelAndView</button></li>
      <li class="tab"><button type="button" data-href="#modelandview-3">String</button></li>
      <li class="tab"><button type="button" data-href="#modelandview-4">Void</button></li>
      <li class="tab"><button type="button" data-href="#modelandview-5">Object</button></li>
      <li class="tab"><button type="button" data-href="#modelandview-6">HttpMessageConverter</button></li>
    </ul>
    <div class="tab-contents">
      <div class="tab-item-content active" id="modelandview-1">
        <ul>
          <li>控制器方法的返回值表示本次请求的处理结果,<hanla></hanla>返回值有<hanla></hanla><code>ModelAndView、String、Void、object</code></li>
          <li><code>ModelAndView</code>： 请求的处理结果包含数据和视图</li>
        </ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button>
      </div>
      <div class="tab-item-content" id="modelandview-2">
        <ul>
          <li>请求的处理结果包含数据和视图，使用<hanla></hanla><code>ModelAndView </code>最方便</li>
          <li>数据: 存放在<hanla></hanla><code>request</code>
            <hanla></hanla>作用域
          </li>
          <li>视图: 执行<hanla></hanla><code>forward</code>
            <hanla></hanla>转发操作
          </li>
        </ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button>
      </div>
      <div class="tab-item-content" id="modelandview-3">
        <ul>
          <li>
            <p>控制器方法的返回是<hanla></hanla><code>String</code>，表示逻辑名称,<code>
                <hanla></hanla>需要项目中配置视图解析器
              </code></p>
          </li>
          <li>
            <p>使用</p>
            <figure class="highlight java">
              <table>
                <tbody>
                  <tr>
                    <td class="gutter">
                      <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre>
                    </td>
                    <td class="code">
                      <pre><span class="line"><span class="keyword">package</span> com.example.springmvc.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ReturnStringView</span> {</span><br><span class="line">    <span class="meta">@RequestMapping("/return-string-view.do")</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">returnStringView</span><span class="params">(HttpServletRequest req,String uname, Integer age)</span> {</span><br><span class="line">        System.out.println(<span class="string">"uname: "</span> + uname + <span class="string">" age: "</span> + age);</span><br><span class="line">        <span class="comment">// 数据处理,<hanla></hanla>使用之前的方式</span></span><br><span class="line">        req.setAttribute(<span class="string">"uname"</span>,uname);</span><br><span class="line">        req.setAttribute(<span class="string">"age"</span>,age);</span><br><span class="line">        <span class="comment">// 返回值是结果的视图页面</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"OneByOne"</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre>
                    </td>
                  </tr>
                </tbody>
              </table>
            </figure>
          </li>
          <li>
            <p>控制器方法返回 <code>String</code>,<hanla></hanla>表示完整视图路径 项目中<code>不能配置视图解析器</code></p>
            <figure class="highlight java">
              <table>
                <tbody>
                  <tr>
                    <td class="gutter">
                      <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre>
                    </td>
                    <td class="code">
                      <pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 控制器方法返回 String,<hanla></hanla>表示完整视图路径 项目中不能配置视图解析器</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@RequestMapping("/return-string-view2.do")</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">returnStringView2</span><span class="params">(HttpServletRequest req,String uname, Integer age)</span> {</span><br><span class="line">    System.out.println(<span class="string">"uname: "</span> + uname + <span class="string">" age: "</span> + age);</span><br><span class="line">    <span class="comment">// 数据处理,<hanla></hanla>使用之前的方式</span></span><br><span class="line">    req.setAttribute(<span class="string">"uname"</span>,uname);</span><br><span class="line">    req.setAttribute(<span class="string">"age"</span>,age);</span><br><span class="line">    <span class="comment">// 返回值是结果的视图页面</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"/WEB-INF/view/OneByOne.jsp"</span>;</span><br><span class="line">}</span><br></pre>
                    </td>
                  </tr>
                </tbody>
              </table>
            </figure>
          </li>
          <li>
            <p>返回<hanla></hanla><code>String</code>
              <hanla></hanla>是数据
            </p>
            <figure class="highlight java">
              <table>
                <tbody>
                  <tr>
                    <td class="gutter">
                      <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre>
                    </td>
                    <td class="code">
                      <pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 控制器方法返回 String -&gt; 数据</span></span><br><span class="line"><span class="comment">     *  区分返回值 String 是数据还是视图</span></span><br><span class="line"><span class="comment">     *      1. 方法上面有 <span class="doctag">@ResponseBody</span> 注解就是视图</span></span><br><span class="line"><span class="comment">     *      2. 方法上面没有 <span class="doctag">@ResponseBody</span> 就是视图</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     *  Content-Type: text/html;charset=ISO-8859-1 导致中文乱码</span></span><br><span class="line"><span class="comment">     *  解决中文乱码,<hanla></hanla>需要使用 <span class="doctag">@RequestMapping</span> 的 produces 属性</span></span><br><span class="line"><span class="comment">     *  produces 属性: 指定 produces = "text/html;charset=utf-8"</span></span><br><span class="line"><span class="comment">     *  </span></span><br><span class="line"><span class="comment">     *  框架处理 String 返回值</span></span><br><span class="line"><span class="comment">     *      1. 框架使用的 StringHttpMessageConverter</span></span><br><span class="line"><span class="comment">     *      2. StringHttpMessageConverter 使用的是 text/plain;charset-ISO-8859-1</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(value = "/return-string-data.do",produces = "text/html;charset=utf-8")</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">returnStringData</span><span class="params">(HttpServletResponse resp, String uname, Integer age)</span> <span class="keyword">throws</span> IOException {</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"MVC-注解驱动开发!"</span>;</span><br><span class="line">    }</span><br></pre>
                    </td>
                  </tr>
                </tbody>
              </table>
            </figure>
          </li>
        </ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button>
      </div>
      <div class="tab-item-content" id="modelandview-4">
        <ul>
          <li>
            <p><code>void</code>： 没有数据和视图,<hanla></hanla>可以使用<hanla></hanla><code>HttpServletResponse</code>
              <hanla></hanla>对象输出数据,<hanla></hanla>响应<hanla></hanla><code>ajax</code>
              <hanla></hanla>请求
            </p>
          </li>
          <li>
            <p>控制器</p>
            <figure class="highlight java">
              <table>
                <tbody>
                  <tr>
                    <td class="gutter">
                      <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre>
                    </td>
                    <td class="code">
                      <pre><span class="line"><span class="keyword">package</span> com.example.springmvc.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.springmvc.vo.Student;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.databind.ObjectMapper;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 控制器方法返回是 void 响应 ajax 请求,<hanla></hanla>使用 HttpServletResponse 输出数据</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ReturnVoidAjax</span> {</span><br><span class="line">    <span class="meta">@RequestMapping("/return-void-ajax.do")</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">returnVoidAjax</span><span class="params">(HttpServletResponse resp, String uname, Integer age)</span> <span class="keyword">throws</span> IOException {</span><br><span class="line">        System.out.println(<span class="string">"uname: "</span> + uname + <span class="string">" age: "</span> + age);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">student</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(uname, age);</span><br><span class="line">        <span class="comment">// 把对象转换为 json</span></span><br><span class="line">        <span class="type">ObjectMapper</span> <span class="variable">om</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectMapper</span>();</span><br><span class="line">        <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> om.writeValueAsString(student);</span><br><span class="line">        System.out.println(<span class="string">"服务器端对象转换为的<hanla></hanla>json "</span> + json);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 输出 json 响应 ajax</span></span><br><span class="line">        resp.setContentType(<span class="string">"application/json;charset=utf-8"</span>);</span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">pw</span> <span class="operator">=</span> resp.getWriter();</span><br><span class="line">        pw.println(json);</span><br><span class="line">        pw.flush();</span><br><span class="line">        pw.close();</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre>
                    </td>
                  </tr>
                </tbody>
              </table>
            </figure>
          </li>
          <li>
            <p><code>ajax</code>
              <hanla></hanla>请求
            </p>
            <figure class="highlight js">
              <table>
                <tbody>
                  <tr>
                    <td class="gutter">
                      <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre>
                    </td>
                    <td class="code">
                      <pre><span class="line">$(<span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">        <span class="comment">// 按钮绑定事件: 1. 获取 2. 事件绑定</span></span><br><span class="line">        $(<span class="string">"#btnAjax"</span>).<span class="title function_">on</span>(<span class="string">'click'</span>, <span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'...'</span>)</span><br><span class="line">            $.<span class="title function_">ajax</span>({</span><br><span class="line">                <span class="attr">url</span>: <span class="string">'return-void-ajax.do'</span>,</span><br><span class="line">                <span class="attr">data</span>: {</span><br><span class="line">                    <span class="attr">uname</span>: <span class="string">"zahngsan"</span>,</span><br><span class="line">                    <span class="attr">age</span>: <span class="number">12</span></span><br><span class="line">                },</span><br><span class="line">                <span class="attr">dataType</span>: <span class="string">"json"</span>,</span><br><span class="line">                <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">resp</span>) {</span><br><span class="line">                    <span class="title function_">alert</span>(<span class="string">"resp: "</span> + <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(resp))</span><br><span class="line">                }</span><br><span class="line">            })</span><br><span class="line">        })</span><br><span class="line">    })</span><br></pre>
                    </td>
                  </tr>
                </tbody>
              </table>
            </figure>
          </li>
        </ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button>
      </div>
      <div class="tab-item-content" id="modelandview-5">
        <ul>
          <li><code>Object</code>
            <ul>
              <li>返回<hanla></hanla><code>Student</code>
                <hanla></hanla>表示数据,<hanla></hanla>所以控制器方法返回对象<hanla></hanla><code>Object</code>，用来响应<hanla></hanla><code>ajax</code>
                <hanla></hanla>请求
              </li>
              <li>返回对象是<hanla></hanla><code>Object</code>，可以是<hanla></hanla><code>List、Studnet、Map、String、integer...</code>
                <hanla></hanla>这些都是数据,<hanla></hanla>而<hanla></hanla><code>ajax</code>
                <hanla></hanla>请求需要的就是数据,<hanla></hanla>在<hanla></hanla><code>ajax</code>
                <hanla></hanla>请求中,<hanla></hanla>一般需要从服务器返回的是<hanla></hanla><code>json</code>
                <hanla></hanla>格式的数据,<hanla></hanla>经常需要处理<hanla></hanla><code>java</code>
                <hanla></hanla>对象到<hanla></hanla><code>json</code>
                <hanla></hanla>的转换,<hanla></hanla>而且还需要输出数据响应<hanla></hanla><code>ajax</code>
                <hanla></hanla>请求,<hanla></hanla>框架提供了处理<hanla></hanla><code>java</code>
                <hanla></hanla>对象到<hanla></hanla><code>json</code>
                <hanla></hanla>的转换,<hanla></hanla>还是数据输出工作.
              </li>
            </ul>
          </li>
        </ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button>
      </div>
      <div class="tab-item-content" id="modelandview-6">
        <ul>
          <li>
            <p><code>HttpMessageConverter</code>
              <hanla></hanla>作用
            </p>
            <ul>
              <li>实现请求的数据转为<hanla></hanla><code>java</code>
                <hanla></hanla>对象
              </li>
              <li>把控制器方法的对象转换为<hanla></hanla><code>json、xml、text</code>
                <hanla></hanla>二进制等不同格式的数据
              </li>
            </ul>
          </li>
          <li>
            <p>分析<hanla></hanla><code>HttpMessageConverter</code>
              <hanla></hanla>中的方法
            </p>
            <figure class="highlight java">
              <table>
                <tbody>
                  <tr>
                    <td class="gutter">
                      <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre>
                    </td>
                    <td class="code">
                      <pre><span class="line"><span class="comment">// 框架自动调用以下方法<hanla></hanla></span></span><br><span class="line"><span class="keyword">package</span> org.springframework.http.converter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.http.HttpInputMessage;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.HttpOutputMessage;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.MediaType;</span><br><span class="line"><span class="keyword">import</span> org.springframework.lang.Nullable;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">HttpMessageConverter</span>&lt;T&gt; {</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 作用: 检查 clazz 这个类型的对象,<hanla></hanla>能否转换为 mediaType 表示的数据格式</span></span><br><span class="line"><span class="comment">     * 如果能转换为 mediaType 表示的类型,<hanla></hanla>返回 true,<hanla></hanla>返回 true 调用 read()</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">	<span class="type">boolean</span> <span class="title function_">canRead</span><span class="params">(Class&lt;?&gt; clazz, <span class="meta">@Nullable</span> MediaType mediaType)</span>;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 作用: 接受请求中的数据,<hanla></hanla>把数据转换为 clazz 表示的对象</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    T <span class="title function_">read</span><span class="params">(Class&lt;? extends T&gt; clazz, HttpInputMessage inputMessage)</span></span><br><span class="line">			<span class="keyword">throws</span> IOException, HttpMessageNotReadableException;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 作用: 检查 clazz 这种数据类型,<hanla></hanla>能否转换为 mediaType 表示的数据格式</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">	<span class="type">boolean</span> <span class="title function_">canWrite</span><span class="params">(Class&lt;?&gt; clazz, <span class="meta">@Nullable</span> MediaType mediaType)</span>;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 作用: 把 t 对象,<hanla></hanla>按照 contentType 说明的格式,<hanla></hanla>把对象转换为 json 或 xml </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">	<span class="keyword">void</span> <span class="title function_">write</span><span class="params">(T t, <span class="meta">@Nullable</span> MediaType contentType, HttpOutputMessage outputMessage)</span></span><br><span class="line">			<span class="keyword">throws</span> IOException, HttpMessageNotWritableException;</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br></pre>
                    </td>
                  </tr>
                </tbody>
              </table>
            </figure>
          </li>
          <li>
            <p><code>MediaType</code>:<hanla></hanla>媒体类型,<hanla></hanla>表示互联网中数据的格式,<hanla></hanla>例如<hanla></hanla><code>application/json,text/html,image/gif</code></p>
            <table>
              <thead>
                <tr>
                  <th align="center"><code>MediaType</code></th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/ae79723f8c594b10a9959dc70509fee3.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbG92b2Jpbi5naXRodWIuaW8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="MediaType"></td>
                </tr>
              </tbody>
            </table>
          </li>
          <li>
            <p><code>HttpMessageConverter </code>接口的实现类</p>
            <ul>
              <li>
                <p><code>MappingJackson2HttpMessageConverter</code>: 用<hanla></hanla><code>jackson</code>
                  <hanla></hanla>工具库的<hanla></hanla><code>ObjectMapper</code>
                  <hanla></hanla>把<hanla></hanla><code>java</code>
                  <hanla></hanla>对象转换为<hanla></hanla><code>json</code>
                  <hanla></hanla>数据格式
                </p>
                <table>
                  <thead>
                    <tr>
                      <th align="center">简化如下操作</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/3dce199d4004445cba2b8dfb0c664b76.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbG92b2Jpbi5naXRodWIuaW8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="简化如下操作"></td>
                    </tr>
                  </tbody>
                </table>
              </li>
              <li>
                <p><code>StringHttpMessageConverter</code>: 把字符串类型的数据,<hanla></hanla>进行格式转换和编码</p>
              </li>
              <li>
                <p>怎么使用实现类</p>
                <blockquote>
                  <p>框架根据控制器方法的返回类型,<hanla></hanla>自动查找使用的实现类</p>
                </blockquote>
                <blockquote>
                  <table>
                    <thead>
                      <tr>
                        <th align="center"><code>未配置之前,<hanla></hanla>不会出现<hanla></hanla>jsackson</code></th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/3c993e8d65fb42b79717210f0467d2c4.png" alt="未配置之前,不会出现jsackson"></td>
                      </tr>
                    </tbody>
                  </table>
                  <p>默认情况下： <code>spring-mvc</code>
                    <hanla></hanla>使用了<hanla></hanla><code>HttpMessageConverter </code>接口的四个实现类，包括了<hanla></hanla><code>StringHttpMessageConverter</code>,<hanla></hanla>需要在<hanla></hanla><code>spring-mvc</code>
                    <hanla></hanla>的配置文件,<hanla></hanla>加入注解驱动的标签:<code>mvc:annontation-driven</code>
                    <hanla></hanla>加入这个标签后,<code>spring-mvc</code>
                    <hanla></hanla>项目启动后,<hanla></hanla>会创建<hanla></hanla><code>HttpMessageConverter</code>
                    <hanla></hanla>接口的<hanla></hanla><code>7</code>
                    <hanla></hanla>个实现类对象,<hanla></hanla>包括<hanla></hanla><code>StringHttpMessageConverter</code>
                    <hanla></hanla>和<hanla></hanla><code>MappingJackson2HttpMessageConverter</code>
                  </p>
                  <table>
                    <thead>
                      <tr>
                        <th align="center">配置</th>
                        <th align="center">查看配置后情况</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/a600fb8ac6a4472fbcbca48c764f397f.png" alt="配置"></td>
                        <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/b66d364792c34409b755ba1b5398e3b6.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbG92b2Jpbi5naXRodWIuaW8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="查看配置后情况"></td>
                      </tr>
                    </tbody>
                  </table>
                </blockquote>
              </li>
            </ul>
          </li>
          <li>
            <p><code>@ResponseBody</code></p>
            <ul>
              <li>
                <p>作用: <code>@ResponseBody</code>
                  <hanla></hanla>注解的作用,<hanla></hanla>就是把<hanla></hanla><code>Student</code>
                  <hanla></hanla>转换后的<hanla></hanla><code>json</code>
                  <hanla></hanla>通过<hanla></hanla><code>HttpServletResponse</code>
                  <hanla></hanla>对象输出给浏览器
                </p>
                <table>
                  <thead>
                    <tr>
                      <th align="center"><code>@Response</code></th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/57a876ae4b1d49ffb0a9ad71ceeaa47c.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbG92b2Jpbi5naXRodWIuaW8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="@Response"></td>
                    </tr>
                  </tbody>
                </table>
              </li>
            </ul>
          </li>
          <li>
            <p>控制器返回对象转换为<hanla></hanla><code>JSON</code>
              <hanla></hanla>的步骤
            </p>
            <ol>
              <li>在<hanla></hanla><code>pom.xml</code>
                <hanla></hanla>加入<hanla></hanla><code>jackson</code>
                <hanla></hanla>依赖,<code>spring-mvc</code>
                <hanla></hanla>框架,<hanla></hanla>默认处理<hanla></hanla><code>json</code>
                <hanla></hanla>就是使用<hanla></hanla><code>jackson</code>
              </li>
              <li>在<hanla></hanla><code>spring-mvc</code>
                <hanla></hanla>的配置文件中,<hanla></hanla>加入注解驱动的标签<hanla></hanla><code>mvc:annotation-driven</code>
              </li>
              <li>在控制器方法的上面加入<hanla></hanla><code>@responseBody</code>
                <hanla></hanla>注解,<hanla></hanla>表示返回值数据,<hanla></hanla>输出到浏览器
              </li>
            </ol>
            <ul>
              <li>
                <p>使用结果</p>
                <table>
                  <thead>
                    <tr>
                      <th align="center">用例使用</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/b0dc843617b54f79a8c152228f53c38f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbG92b2Jpbi5naXRodWIuaW8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="用例使用"></td>
                    </tr>
                  </tbody>
                </table>
              </li>
              <li>
                <p>框架的处理模式</p>
                <ol>
                  <li>框架根据控制器方法的返回值类型,<hanla></hanla>找到<hanla></hanla><code>HttpMessageConverter</code>
                    <hanla></hanla>接口的实现类,<hanla></hanla>最后找到的是<hanla></hanla><code>MappingJackson2HttpMessageConverter</code>
                  </li>
                  <li>使用实现类<hanla></hanla><code>MappingJackson2HttpMessageConverter</code>
                    <hanla></hanla>执行他的<hanla></hanla><code>write()</code>
                    <hanla></hanla>方法,<code>Student</code>
                    <hanla></hanla>对象就转换为了<hanla></hanla><code>JSON</code>
                    <hanla></hanla>格式的数据
                  </li>
                  <li>框架使用<hanla></hanla><code>@ResponseBody</code>
                    <hanla></hanla>注解,<hanla></hanla>把<hanla></hanla><code>2</code>
                    <hanla></hanla>中的<hanla></hanla><code>json</code>
                    <hanla></hanla>输出给浏览器
                  </li>
                </ol>
              </li>
            </ul>
          </li>
          <li>
            <p>返回值是<hanla></hanla><code>List&lt;xx&gt;</code></p>
            <figure class="highlight java">
              <table>
                <tbody>
                  <tr>
                    <td class="gutter">
                      <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre>
                    </td>
                    <td class="code">
                      <pre><span class="line"><span class="meta">@RequestMapping("/return-ajax-list.do")</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> List&lt;Student&gt; <span class="title function_">returnAjaxList</span><span class="params">(HttpServletResponse resp, String uname, Integer age)</span> <span class="keyword">throws</span> IOException {</span><br><span class="line">    System.out.println(<span class="string">"uname: "</span> + uname + <span class="string">" age: "</span> + age);</span><br><span class="line">    <span class="comment">// 可以保证顺序</span></span><br><span class="line">    <span class="type">Student</span> <span class="variable">student1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"小明"</span>, <span class="number">12</span>);</span><br><span class="line">    <span class="type">Student</span> <span class="variable">student2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"小红"</span>, <span class="number">18</span>);</span><br><span class="line">    List&lt;Student&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    list.add(student1);</span><br><span class="line">    list.add(student2);</span><br><span class="line">    <span class="keyword">return</span> list;</span><br><span class="line">}</span><br></pre>
                    </td>
                  </tr>
                </tbody>
              </table>
            </figure>
          </li>
        </ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button>
      </div>
    </div>
  </div>
  <h4 id="静态资源的处理"><a href="#静态资源的处理" class="headerlink" title="静态资源的处理"></a>静态资源的处理</h4>
  <ul>
    <li>
      <p>中央调度器处理静态资源访问</p>
      <ul>
        <li>
          <p>中央调度器设置为<hanla></hanla><code>/</code> 会导致中央调度器成为<hanla></hanla><code>Tomcat<hanla></hanla>的<hanla></hanla>default Servlet</code>
            <hanla></hanla>需要处理静态资源和其他未映射的请求，默认中央调度去没有处理静态资源的控制器对象,<hanla></hanla>所以静态资源都是<hanla></hanla><code>404</code>，只有<code>自定义的控制器</code>对象,<hanla></hanla>才能访问
          </p>
        </li>
        <li>
          <p>解决资源访问</p>
          <ul>
            <li>
              <p>第一种方式</p>
              <figure class="highlight xml">
                <table>
                  <tbody>
                    <tr>
                      <td class="gutter">
                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre>
                      </td>
                      <td class="code">
                        <pre><span class="line"><hanla></hanla>在 spring-mvc 的配置文件中加入 mvc:default-servlet-handler<hanla></hanla>标签,spring-mvc 框架会在项目运行时,<hanla></hanla>加入 DefaultServletHttpRequestHandler 对象,<hanla></hanla>让这个对象处理静态资源的访问<hanla></hanla></span><br><span class="line"><span class="comment">&lt;!-- 声明注解驱动: 创建 HttpMessageConvert 接口的 7 个实现类对象 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:annotation-driven</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"><!-- 声明第一种静态资源访问问题 会与<hanla></hanla>@RequestMapping<hanla></hanla>冲突  --></span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:default-servlet-handler</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><hanla></hanla>过程分析:</span><br><span class="line">	创建 DefaultServletHttpRequestHandler 处理静态资源</span><br><span class="line">	     DefaultServletHttpRequestHandler 把接受的静态资源的地址,<hanla></hanla>转发给了 Tomcat 的 default </span><br><span class="line">优点: 解决方式简单</span><br><span class="line">缺点: 依赖 Tomcat 服务器提供的能力</span><br><span class="line"></span><br></pre>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </figure>
            </li>
            <li>
              <p>第二种方式</p>
              <figure class="highlight xml">
                <table>
                  <tbody>
                    <tr>
                      <td class="gutter">
                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre>
                      </td>
                      <td class="code">
                        <pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        声明静态资源的第二种处理方式:</span></span><br><span class="line"><span class="comment">            mapping: 访问静态资源的 uri 地址,<hanla></hanla>可以使用通配符<hanla></hanla>(**)</span></span><br><span class="line"><span class="comment">                **: 表示任意的目录和目录和资源名称</span></span><br><span class="line"><span class="comment">            location: 静态资源在项目中的位置,<hanla></hanla>不要使用 /WEB-INF 目录</span></span><br><span class="line"><span class="comment">            配置: &lt;mvc:resources mapping="/images/**" location="/images/"/&gt;</span></span><br><span class="line"><span class="comment">            使用: &lt;img src="images/xx.png" alt&gt;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">           一句话解决: &lt;mvc:resources mapping="/static/" location="/static/"/&gt;</span></span><br><span class="line"><span class="comment">           使用:  &lt;img src="static/images/xx.png" alt&gt;</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:resources</span> <span class="attr">mapping</span>=<span class="string">"/images/**"</span> <span class="attr">location</span>=<span class="string">"/images/"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:resources</span> <span class="attr">mapping</span>=<span class="string">"/html/**"</span> <span class="attr">location</span>=<span class="string">"/html/"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 一句话解决 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:resources</span> <span class="attr">mapping</span>=<span class="string">"/static/"</span> <span class="attr">location</span>=<span class="string">"/static/"</span>/&gt;</span></span><br><span class="line"></span><br></pre>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </figure>
            </li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
  <h4 id="前端提交数据"><a href="#前端提交数据" class="headerlink" title="前端提交数据"></a>前端提交数据</h4>
  <ul>
    <li>
      <p>表单提交: 输入框需要提供<hanla></hanla><code>name</code>
        <hanla></hanla>属性,<code>SpringMVC</code>
        <hanla></hanla>控制器是通过<hanla></hanla><code>name</code>
        <hanla></hanla>属性取值的
      </p>
      <figure class="highlight html">
        <table>
          <tbody>
            <tr>
              <td class="gutter">
                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre>
              </td>
              <td class="code">
                <pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span><hanla></hanla>数据测试<hanla></hanla><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"book/add"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">        书籍名称:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"bookName"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"提交"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre>
              </td>
            </tr>
          </tbody>
        </table>
      </figure>
    </li>
    <li>
      <p><code>URL</code>
        <hanla></hanla>提交: <code><a href="book/add?bookName=Java">
            <hanla></hanla>添加<hanla></hanla>
          </a></code>
      </p>
    </li>
    <li>
      <p><code>Ajax</code>
        <hanla></hanla>提交: 请求行、请求头、请求体都可以用来传值
      </p>
      <figure class="highlight javascript">
        <table>
          <tbody>
            <tr>
              <td class="gutter">
                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre>
              </td>
              <td class="code">
                <pre><span class="line"><span class="comment">// 发起一个<hanla></hanla>post<hanla></hanla>请求<hanla></hanla></span></span><br><span class="line"><span class="title function_">axios</span>({</span><br><span class="line">  <span class="attr">method</span>: <span class="string">'post'</span>,</span><br><span class="line">  <span class="attr">url</span>: <span class="string">'/user/12345'</span>, <span class="comment">// 请求行</span></span><br><span class="line">  <span class="comment">// 请求体</span></span><br><span class="line">  <span class="attr">data</span>: {</span><br><span class="line">    <span class="attr">firstName</span>: <span class="string">'Fred'</span>,</span><br><span class="line">    <span class="attr">lastName</span>: <span class="string">'Flintstone'</span></span><br><span class="line">  },</span><br><span class="line">  <span class="comment">// 请求头 </span></span><br><span class="line">  <span class="attr">headers</span>: {</span><br><span class="line">     <span class="string">'Content-Type'</span>: <span class="string">'application/json'</span></span><br><span class="line">    },</span><br><span class="line">});</span><br></pre>
              </td>
            </tr>
          </tbody>
        </table>
      </figure>
    </li>
  </ul>
  <h4 id="控制器接受前端提交的数据"><a href="#控制器接受前端提交的数据" class="headerlink" title="控制器接受前端提交的数据"></a>控制器接受前端提交的数据</h4>
  <ul>
    <li>
      <p>请求行<hanla></hanla>(<code>URL 和 表单提交的数据、Ajax<hanla></hanla>请求的<hanla></hanla>url<hanla></hanla>传值...</code>)</p>
      <figure class="highlight java">
        <table>
          <tbody>
            <tr>
              <td class="gutter">
                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre>
              </td>
              <td class="code">
                <pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 请求行数据接受</span></span><br><span class="line"><span class="comment">     * <h3><hanla></hanla>数据测试<hanla></hanla></h3></span></span><br><span class="line"><span class="comment">     * &lt;form action="" method="post"&gt;</span></span><br><span class="line"><span class="comment">     * 用户名:&lt;input type="text" name="bookName"&gt;</span></span><br><span class="line"><span class="comment">     * &lt;input type="submit" value="提交"&gt;</span></span><br><span class="line"><span class="comment">     * &lt;/form&gt;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@RequestMapping("/add/book")</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addBook</span><span class="params">(<span class="meta">@RequestParam("bookName")</span> String bookName)</span> {</span><br><span class="line">    log.info(<span class="string">"请求行数据接受测试: {}"</span>, bookName);</span><br><span class="line">}</span><br></pre>
              </td>
            </tr>
          </tbody>
        </table>
      </figure>
      <table>
        <thead>
          <tr>
            <th align="center"><code>@RequestParam</code>
              <hanla></hanla>用于接受请求行传递的数据,<hanla></hanla>如果参数名与<code>表单<hanla></hanla>name</code>
              <hanla></hanla>一致,<hanla></hanla>则可以省略
            </th>
            <th align="center">（控制器中方法接受的参请求行的·key<hanla></hanla>一致）注解省略</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/98054243d0ae4abc9b70ab581acc645e.png" alt="请求行数据测试"></td>
            <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/12388fd948d6457c828c34590fd02178.png" alt="注解省略"></td>
          </tr>
        </tbody>
      </table>
    </li>
    <li>
      <p>请求头传值</p>
      <figure class="highlight javascript">
        <table>
          <tbody>
            <tr>
              <td class="gutter">
                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre>
              </td>
              <td class="code">
                <pre><span class="line"><span class="comment">// 发起一个<hanla></hanla>post<hanla></hanla>请求<hanla></hanla></span></span><br><span class="line"><span class="title function_">axios</span>({</span><br><span class="line">	...</span><br><span class="line">  <span class="comment">// 请求头 </span></span><br><span class="line">  <span class="attr">headers</span>: {</span><br><span class="line">     <span class="string">'Content-Type'</span>: <span class="string">'application/json'</span></span><br><span class="line">    },</span><br><span class="line">    ...</span><br><span class="line">});</span><br></pre>
              </td>
            </tr>
          </tbody>
        </table>
      </figure>
      <figure class="highlight java">
        <table>
          <tbody>
            <tr>
              <td class="gutter">
                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
              </td>
              <td class="code">
                <pre><span class="line"><span class="meta">@RequestMapping("/add/book")</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addBook</span><span class="params">(<span class="meta">@RequestHeader("tooken")</span> String tooken)</span> {</span><br><span class="line">       log.info(<span class="string">"请求头数据: {}"</span>, tooken);</span><br><span class="line">   }</span><br></pre>
              </td>
            </tr>
          </tbody>
        </table>
      </figure>
      <table>
        <thead>
          <tr>
            <th align="center">请求头未加注解时测试</th>
            <th align="center"><code>@RequestHeader</code>
              <hanla></hanla>请求头获取数据测试
            </th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/12a63fd41d3c488b81b32c5a6fee1487.png" alt="请求头未加注解时测试"></td>
            <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/c72a9bb7d001418faac38a503252a0bd.png" alt="请求头获取数据测试"></td>
          </tr>
        </tbody>
      </table>
    </li>
    <li>
      <p>请求体传值</p>
      <figure class="highlight javascript">
        <table>
          <tbody>
            <tr>
              <td class="gutter">
                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre>
              </td>
              <td class="code">
                <pre><span class="line"><span class="comment">// 发起一个<hanla></hanla>post<hanla></hanla>请求<hanla></hanla></span></span><br><span class="line"><span class="title function_">axios</span>({</span><br><span class="line">	...</span><br><span class="line">    <span class="comment">// 请求体传值</span></span><br><span class="line"> 	<span class="attr">data</span>:{}</span><br><span class="line">    ...</span><br><span class="line">});</span><br></pre>
              </td>
            </tr>
          </tbody>
        </table>
      </figure>
    </li>
  </ul>
  <h4 id="5种类型参数传递"><a href="#5种类型参数传递" class="headerlink" title="5种类型参数传递"></a>5<hanla></hanla>种类型参数传递</h4>
  <ul>
    <li>
      <p>请求参数名与形参名不同</p>
      <figure class="highlight java">
        <table>
          <tbody>
            <tr>
              <td class="gutter">
                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
              </td>
              <td class="code">
                <pre><span class="line"><span class="meta">@RequestMapping("/commonParamDifferentName")</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">commonParamDifferentName</span><span class="params">(<span class="meta">@RequestParam("name")</span> String userName,<span class="type">int</span> age)</span>{</span><br><span class="line">    System.out.println(<span class="string">"userName: "</span>+userName);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"ok"</span>;</span><br><span class="line">}</span><br></pre>
              </td>
            </tr>
          </tbody>
        </table>
      </figure>
    </li>
    <li>
      <p><code>POJO</code>
        <hanla></hanla>参数
      </p>
      <figure class="highlight java">
        <table>
          <tbody>
            <tr>
              <td class="gutter">
                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre>
              </td>
              <td class="code">
                <pre><span class="line"><span class="comment">// POJO 参数<hanla></hanla></span></span><br><span class="line"><span class="meta">@GetMapping("/pojoParam")</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">pojoParam</span><span class="params">(User user)</span> {</span><br><span class="line">    <span class="comment">// 未传递的参数为 null</span></span><br><span class="line">    System.out.println(<span class="string">"user = "</span> + user);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"ok"</span>;</span><br><span class="line">}</span><br></pre>
              </td>
            </tr>
          </tbody>
        </table>
      </figure>
    </li>
    <li>
      <p>嵌套<hanla></hanla><code>POJO</code></p>
      <figure class="highlight java">
        <table>
          <tbody>
            <tr>
              <td class="gutter">
                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre>
              </td>
              <td class="code">
                <pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Accessors(chain = true)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> {</span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> Address address;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Address</span> {</span><br><span class="line">    <span class="keyword">private</span> String dateInfo;</span><br><span class="line">    <span class="keyword">private</span> String addressInfo;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// user = User(userName=null, age=null, address=Address(dateInfo=aa, addressInfo=bb))</span></span><br><span class="line"><span class="comment">// 参数传递通过 address.dateInfo </span></span><br><span class="line"><span class="meta">@GetMapping("/morePojoParam")</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">morePojoParam</span><span class="params">(User user)</span> {</span><br><span class="line">    System.out.println(<span class="string">"user = "</span> + user);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"ok"</span>;</span><br><span class="line">}   </span><br></pre>
              </td>
            </tr>
          </tbody>
        </table>
      </figure>
    </li>
    <li>
      <p>数组参数</p>
      <figure class="highlight java">
        <table>
          <tbody>
            <tr>
              <td class="gutter">
                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre>
              </td>
              <td class="code">
                <pre><span class="line"><span class="comment">// 传递参数时 参数名保持一致<hanla></hanla></span></span><br><span class="line"><span class="meta">@GetMapping("/arrayParams")</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">arrayParams</span><span class="params">(String[] likes)</span> {</span><br><span class="line">    <span class="keyword">for</span> (String like : likes) {</span><br><span class="line">        System.out.println(<span class="string">"like = "</span> + like);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"ok"</span>;</span><br><span class="line">}</span><br></pre>
              </td>
            </tr>
          </tbody>
        </table>
      </figure>
    </li>
    <li>
      <p>集合参数</p>
      <figure class="highlight java">
        <table>
          <tbody>
            <tr>
              <td class="gutter">
                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>
              </td>
              <td class="code">
                <pre><span class="line"><span class="comment">// likes = [aa, bb, cc] 需要通过 @RequestParam 注解标注<hanla></hanla></span></span><br><span class="line"><span class="meta">@GetMapping("/listParams")</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">listParams</span><span class="params">(<span class="meta">@RequestParam</span> List&lt;String&gt; likes)</span> {</span><br><span class="line">    System.out.println(<span class="string">"likes = "</span> + likes);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"ok"</span>;</span><br><span class="line">}</span><br></pre>
              </td>
            </tr>
          </tbody>
        </table>
      </figure>
    </li>
    <li>
      <p><code>JSOn</code>
        <hanla></hanla>数据传参<hanla></hanla>(其他类型参数转换为<hanla></hanla><code>json<hanla></hanla>步骤基础上对参数添加</code> <code>@RequestBody</code>)
      </p>
      <ul>
        <li>
          <p>加依赖</p>
          <figure class="highlight xml">
            <table>
              <tbody>
                <tr>
                  <td class="gutter">
                    <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                  </td>
                  <td class="code">
                    <pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre>
                  </td>
                </tr>
              </tbody>
            </table>
          </figure>
        </li>
        <li>
          <p>配置类</p>
          <figure class="highlight java">
            <table>
              <tbody>
                <tr>
                  <td class="gutter">
                    <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre>
                  </td>
                  <td class="code">
                    <pre><span class="line"><span class="comment">// 1. 配置类<hanla></hanla></span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan("com.coderitl.controller")</span></span><br><span class="line"><span class="meta">@EnableWebMvc</span> <span class="comment">// 开启 json 转换对象的功能<hanla></hanla></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringMvcConfig</span> {</span><br><span class="line">}</span><br><span class="line"></span><br></pre>
                  </td>
                </tr>
              </tbody>
            </table>
          </figure>
        </li>
        <li>
          <p>控制器</p>
          <figure class="highlight java">
            <table>
              <tbody>
                <tr>
                  <td class="gutter">
                    <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>
                  </td>
                  <td class="code">
                    <pre><span class="line"><span class="comment">// 2. JSON 属于请求体 =&gt; @RequestBody 注解标注<hanla></hanla></span></span><br><span class="line"><span class="meta">@GetMapping("/listParams")</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">listParams</span><span class="params">(<span class="meta">@RequestBody</span> List&lt;String&gt; likes)</span> {</span><br><span class="line">    System.out.println(<span class="string">"likes = "</span> + likes);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"ok"</span>;</span><br><span class="line">}</span><br></pre>
                  </td>
                </tr>
              </tbody>
            </table>
          </figure>
        </li>
      </ul>
    </li>
    <li>
      <p>日期类型参数</p>
      <ul>
        <li>
          <p>日期类型数据基于传统不同格式也不尽相同</p>
          <ul>
            <li><code>2022-02-02</code></li>
            <li><code>2022/02/02</code></li>
            <li><code>02/02/2022</code></li>
          </ul>
        </li>
        <li>
          <p>接受参数时,<hanla></hanla>根据不用的日期格式设置不同的接受方式</p>
          <figure class="highlight java">
            <table>
              <tbody>
                <tr>
                  <td class="gutter">
                    <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre>
                  </td>
                  <td class="code">
                    <pre><span class="line"></span><br><span class="line"><span class="meta">@GetMapping("/dateParams")</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">dateParams</span><span class="params">(Date date,</span></span><br><span class="line"><span class="params">                         <span class="meta">@DateTimeFormat(pattern = "yyyy-MM-dd")</span> Date patternDate1,</span></span><br><span class="line"><span class="params">                         <span class="meta">@DateTimeFormat(pattern = "yyyy/MM/dd HH:mm:ss")</span> Date patternDate2</span></span><br><span class="line"><span class="params">                        )</span> {</span><br><span class="line">    System.out.println(<span class="string">"date = "</span> + date);</span><br><span class="line">    System.out.println(<span class="string">"patternDate1 = "</span> + patternDate1);</span><br><span class="line">    System.out.println(<span class="string">"patternDate2 = "</span> + patternDate2);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"ok"</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// http://localhost:8080/params/dateParams?date=2022/02/02</span></span><br><span class="line"><span class="comment">// http://localhost:8080/params/dateParams?patternDate1=2022-02-02</span></span><br><span class="line"><span class="comment">// http://localhost:8080/params/dateParams?patternDate2=2022/02/02 8:08:08</span></span><br><span class="line"></span><br></pre>
                  </td>
                </tr>
              </tbody>
            </table>
          </figure>
        </li>
        <li>
          <p>类型转换器</p>
          <figure class="highlight java">
            <table>
              <tbody>
                <tr>
                  <td class="gutter">
                    <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                  </td>
                  <td class="code">
                    <pre><span class="line"><span class="keyword">public</span> insterface Convert&lt;S,T&gt;{</span><br><span class="line">    <span class="meta">@Nullable</span></span><br><span class="line">    T <span class="title function_">convert</span><span class="params">(S var1)</span>;</span><br><span class="line">}</span><br></pre>
                  </td>
                </tr>
              </tbody>
            </table>
          </figure>
          <ul>
            <li>请求参数年龄数据</li>
            <li>日期格式转换</li>
            <li><code>@EnableWebMvc</code>
              <hanla></hanla>功能之一: 根据类型匹配对应的类型转换器
            </li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
  <h4 id="SSM整合开发"><a href="#SSM整合开发" class="headerlink" title="SSM整合开发"></a>SSM<hanla></hanla>整合开发</h4>
  <ul>
    <li>
      <p><code>spring</code>
        <hanla></hanla>容器的创建
      </p>
      <figure class="highlight xml">
        <table>
          <tbody>
            <tr>
              <td class="gutter">
                <pre><span class="line">1</span><br></pre>
              </td>
              <td class="code">
                <pre><span class="line">spring<hanla></hanla>容器创建: 在 web.xml 声明了 监听器 ContextLoaderListener，这个功能框架写好了,<hanla></hanla>功能是创建 spring 的 容器对象 WebApplicationContext 在创建 WebApplicationContext 对象时,<hanla></hanla>读取 spring 的配置文件,<hanla></hanla>读取文件的时候,<hanla></hanla>遇到 bean 标签或注解,<hanla></hanla>就能创建 service dao 等对象,<hanla></hanla>放到容器中</span><br></pre>
              </td>
            </tr>
          </tbody>
        </table>
      </figure>
    </li>
    <li>
      <p><code>spring-mvc</code>
        <hanla></hanla>容器的创建
      </p>
      <figure class="highlight xml">
        <table>
          <tbody>
            <tr>
              <td class="gutter">
                <pre><span class="line">1</span><br></pre>
              </td>
              <td class="code">
                <pre><span class="line">spring-mvc<hanla></hanla>容器创建: 在 web.xml 声明了中央调度器 DispatcheServlet 在这个 servlet 的 init() 方法中,<hanla></hanla>创建了容器对象 WebApplicationContext 在创建 WebApplicationContext 对象,<hanla></hanla>读取 spring-mvc 的配置文件,<hanla></hanla>读取文件的时候,<hanla></hanla>遇到 @Controller 注解,<hanla></hanla>创建控制器 controller 对象,<hanla></hanla>放大容器中.</span><br></pre>
              </td>
            </tr>
          </tbody>
        </table>
      </figure>
    </li>
    <li>
      <p>两个容器之间的关系</p>
      <ul>
        <li><code>Spring-MVC</code>
          <hanla></hanla>容器和<hanla></hanla><code>Spring</code>
          <hanla></hanla>容器的关系,<hanla></hanla>在设计上<hanla></hanla><code>Spring-MVC</code>
          <hanla></hanla>容器对象是<hanla></hanla><code>Spring</code>
          <hanla></hanla>容器的子容器
        </li>
        <li><code>Spring</code>
          <hanla></hanla>是父容器,<code>SpringMVC</code>
          <hanla></hanla>是子容器,<hanla></hanla>相当于<hanla></hanla><code>Java</code>
          <hanla></hanla>中的继承关系
        </li>
      </ul>
    </li>
    <li>
      <p><code>SSM</code>
        <hanla></hanla>整合的步骤
      </p>
      <div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i>
        <ol>
          <li>使用的<hanla></hanla><code>xx</code>
            <hanla></hanla>表
          </li>
          <li>创建<hanla></hanla><code>maven web</code>
            <hanla></hanla>项目
          </li>
          <li>修改<hanla></hanla><code>pom.xml</code>
            <hanla></hanla>加入依赖:<code>spring、springmvc、mybatis、mybatis-spring、mysql<hanla></hanla>驱动、druid、jackson、</code>
          </li>
          <li>写<hanla></hanla><code>web.xml</code>
            <hanla></hanla>声明容器对象<ol>
              <li>声明<hanla></hanla><code>spring</code>
                <hanla></hanla>的监听器<hanla></hanla><code>ContextLoaderListener</code>,<hanla></hanla>创建<hanla></hanla><code>spring</code>
                <hanla></hanla>的容器对象,<hanla></hanla>创建<hanla></hanla><code>service、dao</code>
                <hanla></hanla>对象
              </li>
              <li>声明<hanla></hanla><code>springmvc</code>
                <hanla></hanla>的中央调度器<hanla></hanla><code>DispatherServlet</code>： 创建<hanla></hanla><code>springmvc</code>
                <hanla></hanla>容器对象,<hanla></hanla>创建<hanla></hanla><code>controller</code>
              </li>
              <li>声明字符集的过滤器<hanla></hanla><code>CharsetEncodingFilter</code>,<hanla></hanla>解决<hanla></hanla><code>post</code>
                <hanla></hanla>请求乱码的问题
              </li>
            </ol>
          </li>
          <li>创建程序中的包<hanla></hanla><code>dao、service、controller、entity</code></li>
          <li>写<hanla></hanla><code>spring、spring-mvc，mybatis</code>
            <hanla></hanla>配置文件
          </li>
          <li>写<hanla></hanla><code>java</code>
            <hanla></hanla>代码,<hanla></hanla>实体类,<code>dao</code>
            <hanla></hanla>接口和<hanla></hanla><code>mapper</code>
            <hanla></hanla>文件,<code>service</code>
            <hanla></hanla>类,<code>controller</code>
            <hanla></hanla>类,<hanla></hanla>使用注解声明对象和赋值
          </li>
          <li>创建视图文件</li>
        </ol>
      </div>
    </li>
  </ul>
  <h4 id="显示转发"><a href="#显示转发" class="headerlink" title="显示转发"></a>显示转发</h4>
  <ul>
    <li>
      <p>使用</p>
      <figure class="highlight java">
        <table>
          <tbody>
            <tr>
              <td class="gutter">
                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre>
              </td>
              <td class="code">
                <pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 控制器方法返回是 ModelAndView 实现转发<hanla></hanla></span></span><br><span class="line"><span class="comment">* 语法: mv.setViewName("forward:/<hanla></hanla>视图完整路径")</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">*  forward<hanla></hanla>特点: 不和视图解析器一同工作,<hanla></hanla>就当项目中没有视图解析器<hanla></hanla></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">mv.setViewName(<span class="string">"forward:/<hanla></hanla>视图"</span>)</span><br></pre>
              </td>
            </tr>
          </tbody>
        </table>
      </figure>
    </li>
  </ul>
  <h4 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h4>
  <ul>
    <li>
      <p>使用</p>
      <figure class="highlight java">
        <table>
          <tbody>
            <tr>
              <td class="gutter">
                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre>
              </td>
              <td class="code">
                <pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 控制器方法返回是 ModelAndView 实现转发<hanla></hanla></span></span><br><span class="line"><span class="comment">* 语法: mv.setViewName("redirect:/<hanla></hanla>视图完整路径")</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">*  redirect: 不和视图解析器一同工作,<hanla></hanla>就当项目中没有视图解析器<hanla></hanla></span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* 框架提供的重定向功能:</span></span><br><span class="line"><span class="comment">*	框架可以实现两次请求之间的数据传递,<hanla></hanla>把第一个请求中的 Model 里面的简单类型的数据,<hanla></hanla>转为字符串,<hanla></hanla>附加到目标页面的后面,<hanla></hanla>做 get * 参数传递,<hanla></hanla>可以在目标页面中获取参数值使用<hanla></hanla></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">mv.setViewName(<span class="string">"forward:/<hanla></hanla>视图"</span>)</span><br></pre>
              </td>
            </tr>
          </tbody>
        </table>
      </figure>
    </li>
  </ul>
  <h4 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h4>
  <ul>
    <li>
      <p>框架的处理方式</p>
      <div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i>
        <p>框架中的是集中的异常处理,<hanla></hanla>把各个<hanla></hanla><code>Controller</code>
          <hanla></hanla>中抛出的异常集中到一个地方处理,<hanla></hanla>处理异常的叫做异常处理器
        </p>
        <p>框架中使用两个注解完成异常的集中处理,<hanla></hanla>这样每个<hanla></hanla><code>controller</code>
          <hanla></hanla>不用单独处理异常了
        </p>
        <p>注解是:</p>
        <ul>
          <li><code>@ExceptionHandler</code>： 放在方法上面,<hanla></hanla>表示此方法可以处理某个类型的异常,<hanla></hanla>当异常发生时,<hanla></hanla>执行这个方法</li>
          <li><code>@ControllerAdvice</code>： 放在类的上面,<hanla></hanla>表示这个类中有异常的处理方法,<hanla></hanla>相当于<hanla></hanla><code>aop</code>
            <hanla></hanla>中的<hanla></hanla><code>@Aspect</code>，<code>@controllerAdvice</code>
            <hanla></hanla>看作是控制增强,<hanla></hanla>就是给<hanla></hanla><code>Controller</code>
            <hanla></hanla>类增加异常<hanla></hanla>(切面)<hanla></hanla>的处理功能
          </li>
        </ul>
      </div>
    </li>
    <li>
      <p>使用</p>
      <div class="tabs" id="异常">
        <ul class="nav-tabs">
          <li class="tab active"><button type="button" data-href="#异常-1">自定义异常</button></li>
          <li class="tab"><button type="button" data-href="#异常-2">异常统一处理</button></li>
          <li class="tab"><button type="button" data-href="#异常-3">抛出异常</button></li>
          <li class="tab"><button type="button" data-href="#异常-4">扫描器配置</button></li>
        </ul>
        <div class="tab-contents">
          <div class="tab-item-content active" id="异常-1">
            <ul>
              <li>
                <p>自定义异常</p>
                <figure class="highlight java">
                  <table>
                    <tbody>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.coderitl.springmvc.exception;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 自定义异常</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyUserException</span> <span class="keyword">extends</span> <span class="title class_">Exception</span> {</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyUserException</span><span class="params">()</span> {</span><br><span class="line">        <span class="built_in">super</span>();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyUserException</span><span class="params">(String message)</span> {</span><br><span class="line">        <span class="built_in">super</span>(message);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.coderitl.springmvc.exception;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 自定义异常子类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AgeException</span> <span class="keyword">extends</span> <span class="title class_">MyUserException</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">AgeException</span><span class="params">()</span> {</span><br><span class="line">        <span class="built_in">super</span>();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">AgeException</span><span class="params">(String message)</span> {</span><br><span class="line">        <span class="built_in">super</span>(message);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.coderitl.springmvc.exception;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 自定义异常子类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">NameException</span> <span class="keyword">extends</span> <span class="title class_">MyUserException</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">NameException</span><span class="params">()</span> {</span><br><span class="line">        <span class="built_in">super</span>();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">NameException</span><span class="params">(String message)</span> {</span><br><span class="line">        <span class="built_in">super</span>(message);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br></pre>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </figure>
              </li>
            </ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button>
          </div>
          <div class="tab-item-content" id="异常-2">
            <ul>
              <li>
                <p>统一处理异常</p>
                <figure class="highlight java">
                  <table>
                    <tbody>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">package</span> com.coderitl.springmvc.handle;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.coderitl.springmvc.exception.AgeException;</span><br><span class="line"><span class="keyword">import</span> com.coderitl.springmvc.exception.NameException;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ControllerAdvice;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ExceptionHandler;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"></span><br><span class="line"><span class="meta">@ControllerAdvice</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GlobalHandleException</span> {</span><br><span class="line">    <span class="comment">// 定义处理异常的方法,<hanla></hanla>当发生异常时,<hanla></hanla>执行此方法</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 处理 NameException 类型的异常</span></span><br><span class="line"><span class="comment">     * 参数:</span></span><br><span class="line"><span class="comment">     * Exception: 表示 Controller 抛出的异常对象</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@ExceptionHandler</span>: 表示此方法处理异常</span></span><br><span class="line"><span class="comment">     * 属性: value 时异常的类型</span></span><br><span class="line"><span class="comment">     * 位置: 方法的上面</span></span><br><span class="line"><span class="comment">     *  value = Class&lt;? extends Throwable&gt;[] value() default {};</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@ExceptionHandler(value = NameException.class)</span></span><br><span class="line">    <span class="keyword">public</span> ModelAndView <span class="title function_">nameExceptionHandler</span><span class="params">(Exception e)</span> {</span><br><span class="line">        <span class="type">ModelAndView</span> <span class="variable">mv</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>();</span><br><span class="line">        mv.addObject(<span class="string">"tip"</span>, <span class="string">"用户名必须是: coder-itl"</span>);</span><br><span class="line">        mv.setViewName(<span class="string">"NameError"</span>);</span><br><span class="line">        <span class="keyword">return</span> mv;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ExceptionHandler(value = AgeException.class)</span></span><br><span class="line">    <span class="keyword">public</span> ModelAndView <span class="title function_">ageExceptionHandler</span><span class="params">(Exception e)</span> {</span><br><span class="line">        <span class="type">ModelAndView</span> <span class="variable">mv</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>();</span><br><span class="line">        mv.addObject(<span class="string">"tip"</span>, <span class="string">"年龄必须是小于<hanla></hanla>35!"</span>);</span><br><span class="line">        mv.setViewName(<span class="string">"AgeError"</span>);</span><br><span class="line">        <span class="keyword">return</span> mv;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ExceptionHandler</span></span><br><span class="line">    <span class="keyword">public</span> ModelAndView <span class="title function_">defaultExceptionHandler</span><span class="params">(Exception e)</span> {</span><br><span class="line">        <span class="type">ModelAndView</span> <span class="variable">mv</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>();</span><br><span class="line">        mv.addObject(<span class="string">"tip"</span>, <span class="string">"default: uname=coder-itl,age=18"</span>);</span><br><span class="line">        mv.setViewName(<span class="string">"DefaultError"</span>);</span><br><span class="line">        <span class="keyword">return</span> mv;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </figure>
              </li>
            </ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button>
          </div>
          <div class="tab-item-content" id="异常-3">
            <ul>
              <li>
                <p>异常抛出</p>
                <figure class="highlight java">
                  <table>
                    <tbody>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="keyword">package</span> com.coderitl.springmvc.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.coderitl.springmvc.exception.AgeException;</span><br><span class="line"><span class="keyword">import</span> com.coderitl.springmvc.exception.NameException;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping("/exception")</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThrowsExceptionController</span> {</span><br><span class="line">    <span class="meta">@RequestMapping("/exception.do")</span></span><br><span class="line">    <span class="keyword">public</span> ModelAndView <span class="title function_">throwsMyException</span><span class="params">(String uname, Integer age)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="type">ModelAndView</span> <span class="variable">mv</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>();</span><br><span class="line">        <span class="comment">// 抛出异常</span></span><br><span class="line">        <span class="keyword">if</span> (!uname.equals(<span class="string">"coder-itl"</span>)) {</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">NameException</span>(<span class="string">"用户名不正确!"</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span> (age &gt; <span class="number">80</span>) {</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">AgeException</span>(<span class="string">"您需要休息了!"</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// 添加数据</span></span><br><span class="line">        mv.addObject(<span class="string">"uname"</span>, uname);</span><br><span class="line">        mv.addObject(<span class="string">"age"</span>, age);</span><br><span class="line">        <span class="comment">// 没有异常显示的页面</span></span><br><span class="line">        mv.setViewName(<span class="string">"show"</span>);</span><br><span class="line">        <span class="keyword">return</span> mv;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </figure>
              </li>
            </ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button>
          </div>
          <div class="tab-item-content" id="异常-4">
            <ul>
              <li>
                <p>配置扫描器</p>
                <figure class="highlight xml">
                  <table>
                    <tbody>
                      <tr>
                        <td class="gutter">
                          <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                        </td>
                        <td class="code">
                          <pre><span class="line"><span class="comment">&lt;!-- 异常处理 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"com.coderitl.springmvc.handle"</span>/&gt;</span></span><br></pre>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </figure>
              </li>
              <li>
                <p>结果</p>
                <table>
                  <thead>
                    <tr>
                      <th align="center">异常处理</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/09c7ed5e023f4f09a6412e7468352ce2.gif#pic_center" alt="异常处理"></td>
                    </tr>
                  </tbody>
                </table>
              </li>
            </ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button>
          </div>
        </div>
      </div>
    </li>
  </ul>
  <h4 id="拦截器"><a href="#拦截器" class="headerlink" title="拦截器"></a>拦截器</h4>
  <div class="tabs" id="拦截器">
    <ul class="nav-tabs">
      <li class="tab active"><button type="button" data-href="#拦截器-1">介绍</button></li>
      <li class="tab"><button type="button" data-href="#拦截器-2">拦截器</button></li>
      <li class="tab"><button type="button" data-href="#拦截器-3">拦截器使用</button></li>
    </ul>
    <div class="tab-contents">
      <div class="tab-item-content active" id="拦截器-1">
        <ul>
          <li>
            <p>拦截器介绍</p>
            <div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i>
              <p><code>spring-mvc</code>
                <hanla></hanla>中的<hanla></hanla><code>Interceptot</code>
                <hanla></hanla>拦截器是非常中国要和相当有用的,<hanla></hanla>他的主要作用是拦截指定的用户请求,<hanla></hanla>并进行相应的预处理与后处理,<hanla></hanla>其拦截的时间点在<code>处理器映射根据用户提交的请求映射出了所有执行的处理器类,<hanla></hanla>并且也知道了要执行该处理器类的处理器适配器,<hanla></hanla>在处理适配器执行处理器之前</code>,<hanla></hanla>在处理器映射器射出所有执行的处理器类时,<hanla></hanla>已经将拦截器与处理器组合给了一个处理器执行链,<hanla></hanla>并返回给了中央调度器
              </p>
            </div>
          </li>
        </ul>
      </div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button>
    </div>
    <div class="tab-item-content" id="拦截器-2">
      <ul>
        <li>
          <p>拦截器</p>
          <blockquote>
            <p>是<hanla></hanla><code>spring-mvc</code>
              <hanla></hanla>框架中的一种对象,<hanla></hanla>需要实现接口<hanla></hanla><code>HandlerInterceptor</code>
              <hanla></hanla>拦截用户的请求,<hanla></hanla>拦截到<hanla></hanla><code>controller</code>
              <hanla></hanla>的请求
            </p>
          </blockquote>
        </li>
        <li>
          <p>作用</p>
          <blockquote>
            <p>拦截用户的请求,<hanla></hanla>可以预先对请求做处理,<hanla></hanla>根据处理的结果,<hanla></hanla>决定是否执行<hanla></hanla><code>controller</code>，也可以把多个<hanla></hanla><code>controller</code>
              <hanla></hanla>中公用的功能定义到<code>拦截器</code>
            </p>
          </blockquote>
        </li>
        <li>
          <p>特点</p>
          <ol>
            <li>拦截器可以分为系统拦截器和自定义拦截器</li>
            <li>一个项目可以多个拦截器<hanla></hanla><code>0</code>
              <hanla></hanla>或多个自定义拦截器
            </li>
            <li>拦截器侧重拦截用户的请求</li>
            <li>拦截器是在请求处理之前先执行的</li>
          </ol>
        </li>
        <li>
          <p>拦截器的定义</p>
          <ol>
            <li>创建类实现拦截器接口<hanla></hanla><code>HandlerInterceptor</code>
              <hanla></hanla>实现接口中的方法<hanla></hanla>(<code>3<hanla></hanla>个</code>)
            </li>
            <li>在<hanla></hanla><code>spring-mvc</code>
              <hanla></hanla>配置文件中,<hanla></hanla>声明拦截器对象,<hanla></hanla>并指定拦截的<hanla></hanla><code>uri</code>
              <hanla></hanla>地址
            </li>
          </ol>
        </li>
      </ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button>
    </div>
    <div class="tab-item-content" id="拦截器-3">
      <ul>
        <li>
          <p>方法介绍</p>
          <figure class="highlight java">
            <table>
              <tbody>
                <tr>
                  <td class="gutter">
                    <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre>
                  </td>
                  <td class="code">
                    <pre><span class="line"><span class="keyword">package</span> com.coderitl.springmvc.handle;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.HandlerInterceptor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 实现的接口方法有默认方法</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyInterceptor</span> <span class="keyword">implements</span> <span class="title class_">HandlerInterceptor</span> {</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * preHandle: 预先处理请求的方法</span></span><br><span class="line"><span class="comment">     * 参数:</span></span><br><span class="line"><span class="comment">     *      Object handler 被拦截的控制器对象<hanla></hanla>(自定义的<hanla></hanla>xxxController)</span></span><br><span class="line"><span class="comment">     * 返回值: boolean</span></span><br><span class="line"><span class="comment">     *      为<hanla></hanla>true<hanla></hanla>的执行结果: 也说明请求是正确的 可以被 controller 处理的</span></span><br><span class="line"><span class="comment">     *          ************** preHandle ****************</span></span><br><span class="line"><span class="comment">     *          controller...</span></span><br><span class="line"><span class="comment">     *          ************** postHandle ****************</span></span><br><span class="line"><span class="comment">     *          ************** afterCompletion ****************</span></span><br><span class="line"><span class="comment">     *      false: 请求不能被处理,<hanla></hanla>控制器方法不会被执行,<hanla></hanla>请求到此截至</span></span><br><span class="line"><span class="comment">     *          ************** preHandle ****************</span></span><br><span class="line"><span class="comment">     * 特点:</span></span><br><span class="line"><span class="comment">     *      1. 预处理方法它的执行时间,<hanla></hanla>在控制器方法之前先执行的</span></span><br><span class="line"><span class="comment">     *      2. 可以对请求做处理,<hanla></hanla>可以做登录检查,<hanla></hanla>权限的判断,<hanla></hanla>统计数据等等</span></span><br><span class="line"><span class="comment">     *      3. 决定请求是否执行</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preHandle</span><span class="params">(HttpServletRequest request,</span></span><br><span class="line"><span class="params">                             HttpServletResponse response,</span></span><br><span class="line"><span class="params">                             Object handler)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        System.out.println(<span class="string">"************** preHandle ****************"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * postHandle: 后处理方法</span></span><br><span class="line"><span class="comment">     * 参数:</span></span><br><span class="line"><span class="comment">     *      Object handler 被拦截的控制器对象<hanla></hanla>(自定义的<hanla></hanla>xxxController)</span></span><br><span class="line"><span class="comment">     *      ModelAndView modelAndView: 控制器方法的返回值<hanla></hanla>(xxxController&lt;= 请求的执行结果)</span></span><br><span class="line"><span class="comment">     * 特点:</span></span><br><span class="line"><span class="comment">     *      1. 在控制器方法之后执行的</span></span><br><span class="line"><span class="comment">     *      2. 能获取到控制器方法的执行结果,<hanla></hanla>可以修改原来的执行结果,<hanla></hanla>可以修改数据,<hanla></hanla>也可以修改视图</span></span><br><span class="line"><span class="comment">     *      3. 可以做对请求的二次处理</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">postHandle</span><span class="params">(HttpServletRequest request,</span></span><br><span class="line"><span class="params">                           HttpServletResponse response,</span></span><br><span class="line"><span class="params">                           Object handler,</span></span><br><span class="line"><span class="params">                           ModelAndView modelAndView)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        System.out.println(<span class="string">"************** postHandle ****************"</span>);</span><br><span class="line">        <span class="comment">// 修改数据</span></span><br><span class="line">        <span class="keyword">if</span>(modelAndView!=<span class="literal">null</span>){</span><br><span class="line">            <span class="comment">// 原始数据: ModelAndView [view="show"; model={uname=coder-itl, age=12}]</span></span><br><span class="line">            System.out.println(modelAndView);</span><br><span class="line">            modelAndView.addObject(<span class="string">"uname"</span>,<span class="string">"里斯"</span>);</span><br><span class="line">            modelAndView.addObject(<span class="string">"age"</span>,<span class="string">"12"</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 修改数据</span></span><br><span class="line">            modelAndView.addObject(<span class="string">"date"</span>,<span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line">            <span class="comment">// 修改视图</span></span><br><span class="line">            modelAndView.setViewName(<span class="string">"other"</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * afterCompletion: 最后执行的方法</span></span><br><span class="line"><span class="comment">     * 参数:</span></span><br><span class="line"><span class="comment">     *   Object handler:  被拦截的控制器对象<hanla></hanla>(自定义的<hanla></hanla>xxxController)</span></span><br><span class="line"><span class="comment">     *   Exception ex: 异常对象</span></span><br><span class="line"><span class="comment">     * 特点:</span></span><br><span class="line"><span class="comment">     *      1. 在请求处理完成后执行的 请求处理完成的标志是"视图处理完成"对视图执行 forward 操作后</span></span><br><span class="line"><span class="comment">     *      2. 可以做程序最后要做的工作,<hanla></hanla>释放内存,<hanla></hanla>清理临时变量</span></span><br><span class="line"><span class="comment">     *      3. 方法的执行条件:</span></span><br><span class="line"><span class="comment">     *          1. 当前的拦截器它的 preHandle() 方法必执行</span></span><br><span class="line"><span class="comment">     *          2. preHandle() 必须返回 true</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterCompletion</span><span class="params">(HttpServletRequest request,</span></span><br><span class="line"><span class="params">                                HttpServletResponse response,</span></span><br><span class="line"><span class="params">                                Object handler,</span></span><br><span class="line"><span class="params">                                Exception ex)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        System.out.println(<span class="string">"************** afterCompletion ****************"</span>);</span><br><span class="line">        <span class="comment">// 获取临时数据 tempData</span></span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> request.getSession();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">tempData</span> <span class="operator">=</span> session.getAttribute(<span class="string">"tempData"</span>);</span><br><span class="line">        System.out.println(<span class="string">"get temp data: "</span>+tempData);</span><br><span class="line">        <span class="comment">// 清理该数据</span></span><br><span class="line">        session.removeAttribute(<span class="string">"tempData"</span>);</span><br><span class="line">        <span class="comment">// 确定是否删除</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">twoGet</span> <span class="operator">=</span> session.getAttribute(<span class="string">"tempData"</span>);</span><br><span class="line">        System.out.println(<span class="string">"second get temp data : "</span>+twoGet);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre>
                  </td>
                </tr>
              </tbody>
            </table>
          </figure>
        </li>
        <li>
          <p>添加<hanla></hanla><code>spring-mvc</code>
            <hanla></hanla>拦截器配置
          </p>
          <figure class="highlight xml">
            <table>
              <tbody>
                <tr>
                  <td class="gutter">
                    <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre>
                  </td>
                  <td class="code">
                    <pre><span class="line"><span class="comment">&lt;!-- 声明拦截器 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:interceptors</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 声明第一个拦截器 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:interceptor</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">                指定拦截器的拦截地址</span></span><br><span class="line"><span class="comment">                path: 拦截的 uri 地址,<hanla></hanla>使用 ** 通配符</span></span><br><span class="line"><span class="comment">                例如: path="/user/**"</span></span><br><span class="line"><span class="comment">                http://localhost:8080/user/listUser.do</span></span><br><span class="line"><span class="comment">                http://localhost:8080/user/query/listUser.do 等请求都可以被拦截器拦截</span></span><br><span class="line"><span class="comment">            --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mvc:mapping</span> <span class="attr">path</span>=<span class="string">"/**"</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 指定使用的拦截器 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"com.coderitl.springmvc.handle.MyInterceptor"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mvc:interceptor</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 声明第 ... 个拦截器 --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mvc:interceptors</span>&gt;</span></span><br></pre>
                  </td>
                </tr>
              </tbody>
            </table>
          </figure>
        </li>
        <li>
          <p>验证使用时机</p>
          <table>
            <thead>
              <tr>
                <th align="center">拦截器的使用时机验证</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/7936b613ac824dc6b262af62e386eedb.png" alt="拦截器的使用时机验证"></td>
              </tr>
            </tbody>
          </table>
        </li>
        <li>
          <p>二次请求处理验证</p>
          <table>
            <thead>
              <tr>
                <th align="center">数据与视图的修改</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/6d6dd5d49ef24912b2cd1e12c40cdd4b.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbG92b2Jpbi5naXRodWIuaW8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="数据与视图的修改"></td>
              </tr>
            </tbody>
          </table>
        </li>
        <li>
          <p>验证<hanla></hanla><code>afterCompletion</code></p>
          <table>
            <thead>
              <tr>
                <th align="center">验证<hanla></hanla><code>afterCompletion</code></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/c0d4a464b0da400589bfd75eb9906bca.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbG92b2Jpbi5naXRodWIuaW8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="afterCompletion"></td>
              </tr>
            </tbody>
          </table>
        </li>
        <li>
          <p>多拦截器的执行顺序</p>
          <table>
            <thead>
              <tr>
                <th align="center">多拦截器的执行顺序: <code>1 2 2 1</code></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/4cc35c7fa014445ab387fbbd8d785dcd.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbG92b2Jpbi5naXRodWIuaW8=,size_18,color_FFFFFF,t_70,g_se,x_16" alt="多拦截器的执行顺序"></td>
              </tr>
            </tbody>
          </table>
          <ul>
            <li>
              <p>总结</p>
              <blockquote>
                <p>多个拦截器串在一个链条上,<hanla></hanla>多个拦截器和一个控制器对象在一个链条上,<hanla></hanla>框架中使用<hanla></hanla><code>HandlerExecutionChain(处理器执行链)</code>，表示这个执行链条</p>
              </blockquote>
            </li>
            <li>
              <p><code>HandlerExecutionChain</code></p>
              <figure class="highlight java">
                <table>
                  <tbody>
                    <tr>
                      <td class="gutter">
                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre>
                      </td>
                      <td class="code">
                        <pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HandlerExecutionChain</span> {</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Log</span> <span class="variable">logger</span> <span class="operator">=</span> LogFactory.getLog(HandlerExecutionChain.class);</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Object handler; <span class="comment">// 存放控制器对象的, xxxController</span></span><br><span class="line">    <span class="meta">@Nullable</span></span><br><span class="line">    <span class="keyword">private</span> HandlerInterceptor[] interceptors; <span class="comment">// 存放多个拦截器对象的 ,xxxInterceptor 1 ,2 </span></span><br><span class="line">    <span class="meta">@Nullable</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;HandlerInterceptor&gt; interceptorList;</span><br><span class="line">}</span><br></pre>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </figure>
            </li>
            <li>
              <p>拦截器怎么实现<hanla></hanla><code>1,2 2,1</code>
                <hanla></hanla>顺序的执行顺序,<hanla></hanla>遍历<hanla></hanla><code>HandlerInterceptor[] interceptors</code>
                <hanla></hanla>数组
              </p>
              <figure class="highlight java">
                <table>
                  <tbody>
                    <tr>
                      <td class="gutter">
                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre>
                      </td>
                      <td class="code">
                        <pre><span class="line"><hanla></hanla>实现原理:</span><br><span class="line">	HandlerInterceptor [] interceptors = {xxxInterceptor1,xxxInterceptor2};</span><br><span class="line">	<span class="comment">// 循环调用方法 执行顺序为 1 ，2</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;interceptors.length;i++){</span><br><span class="line">        <span class="comment">// i = 0 =&gt;xxxInterceptor1,i=1 =&gt;xxxInterceptor2</span></span><br><span class="line">        <span class="type">HandlerInterceptor</span> <span class="variable">obj</span> <span class="operator">=</span> interceptors[i];</span><br><span class="line">        obj.preHandle();</span><br><span class="line">    }</span><br><span class="line">	<span class="comment">// 执行控制器</span></span><br><span class="line">	xxxController.xx();</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 2,1</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=interceptors.length-<span class="number">1</span>;i&gt;=<span class="number">0</span>;i--){</span><br><span class="line">        <span class="comment">// i = 1 =&gt;xxxInterceptor2,i=0 =&gt;xxxInterceptor1</span></span><br><span class="line">        <span class="type">HandlerInterceptor</span> <span class="variable">obj</span> <span class="operator">=</span> interceptors[i];</span><br><span class="line">        obj.preHandle();</span><br><span class="line">    }</span><br></pre>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </figure>
            </li>
          </ul>
        </li>
      </ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button>
    </div>
  </div>
  <h4 id="拦截器与过滤器的比较"><a href="#拦截器与过滤器的比较" class="headerlink" title="拦截器与过滤器的比较"></a>拦截器与过滤器的比较</h4>
  <ul>
    <li>拦截器是<hanla></hanla><code>spring-mvc</code>
      <hanla></hanla>框架中的对象,<hanla></hanla>过滤器是<hanla></hanla><code>servlet</code>
      <hanla></hanla>中的对象
    </li>
    <li>拦截器对象是框架容器创建的,<hanla></hanla>过滤器对象是<hanla></hanla><code>tomcat</code>
      <hanla></hanla>创建的对象
    </li>
    <li>拦截器是侧重对请求做判断、处理的,<hanla></hanla>可以截断请求,<hanla></hanla>过滤器是侧重对<hanla></hanla><code>request</code>
      <hanla></hanla>对象的属性,<hanla></hanla>参数设置值的,<hanla></hanla>例如<hanla></hanla><code>req.setCharsetEncoding("utf-8")</code>
    </li>
    <li>拦截器的执行时间有三个,<hanla></hanla>控制器方法之前，之后，请求完成后，过滤器实在请求之前</li>
    <li>拦截器是拦截<hanla></hanla><code>controller</code>，动态资源请求的,<hanla></hanla>过滤器可以过滤所有请求动态的和静态的</li>
    <li>拦截器和过滤器一起执行的,<hanla></hanla>先执行的过滤器,<hanla></hanla>后面是中央调度器，后面才是拦截器，再后面是控制器方法</li>
  </ul>
  <h4 id="spring-mvc内部执行流程"><a href="#spring-mvc内部执行流程" class="headerlink" title="spring-mvc内部执行流程"></a>spring-mvc<hanla></hanla>内部执行流程</h4>
  <ul>
    <li>暂时遗留</li>
  </ul>
  <div class="post-copyright">
    <div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://coderitl.github.io">coder-itl</a></span></div>
    <div class="post-copyright__type"><span class="post-copyright-meta">
        <hanla></hanla>文章链接:
      </span><span class="post-copyright-info"><a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.nesxc.com/post/hexocc.html">https://www.nesxc.com/post/hexocc.html</a></span></div>
    <div class="post-copyright__notice"><span class="post-copyright-meta">
        <hanla></hanla>版权声明:
      </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="external nofollow noopener noreferrer">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://coderitl.github.io" target="_blank">coder-itl</a>！</span></div>
  </div>
  <div class="tag_share">
    <div class="post-meta__tag-list"></div>
    <div class="post_share">
      <div class="social-share" data-image="https://img-blog.csdnimg.cn/a34ec316c47a42b28b4e4454191c78b7.png" data-sites="facebook,twitter,wechat,weibo,qq"></div>
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'">
      <script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer=""></script>
    </div>
  </div>
  <nav class="pagination-post" id="pagination">
    <div class="prev-post pull-left"><a href="/2022/04/21/33757.html" title="SpringBoot"><img class="cover" src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://i.328888.xyz/2023/04/01/i2XxEX.jpeg" onerror="onerror=null;src='/null'" alt="cover of previous post">
        <div class="pagination-info">
          <div class="label">上一篇<hanla></hanla>
          </div>
          <div class="prev_info">SpringBoot</div>
        </div>
      </a></div>
    <div class="next-post pull-right"><a href="/2022/04/14/63999.html" title="JavaWeb-Vue-Axios-ElementUI"><img class="cover" src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/coderitl/hiddenContent@v1.0.4/re-16.jpg" onerror="onerror=null;src='/null'" alt="cover of next post">
        <div class="pagination-info">
          <div class="label">
            <hanla></hanla>下一篇<hanla></hanla>
          </div>
          <div class="next_info">JavaWeb-Vue-Axios-ElementUI</div>
        </div>
      </a></div>
  </nav>
  <hr>
  <div id="post-comment">
    <div class="comment-head">
      <div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论<hanla></hanla></span></div>
    </div>
    <div class="comment-wrap">
      <div>
        <div id="twikoo-wrap"></div>
      </div>
    </div>
  </div>
  <div class="aside-content" id="aside-content">
    <div class="card-widget card-info">
      <div class="is-center">
        <div class="avatar-img"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://i.328888.xyz/2023/03/19/MJUXa.jpeg" onerror="this.onerror=null;this.src='https://i.328888.xyz/2023/03/20/P3kfC.gif'" alt="avatar"></div>
        <div class="author-info__name">coder-itl</div>
        <div class="author-info__description">To read without reflecting is like eating without digesting.</div>
      </div>
      <div class="card-info-data site-data is-center"><a href="/archives/">
          <div class="headline">
            <hanla></hanla>文章<hanla></hanla>
          </div>
          <div class="length-num">119</div>
        </a><a href="/tags/">
          <div class="headline">
            <hanla></hanla>标签<hanla></hanla>
          </div>
          <div class="length-num">21</div>
        </a><a href="/categories/">
          <div class="headline">
            <hanla></hanla>分类<hanla></hanla>
          </div>
          <div class="length-num">13</div>
        </a></div><a id="card-info-btn" target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a>
    </div>
    <div class="card-widget card-announcement">
      <div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>
          <hanla></hanla>公告
        </span></div>
      <div class="announcement_content">本站所有图片来源于网络,<hanla></hanla>侵权请添加管理员删除【3327511395@qq.com】!</div>
    </div>
    <div class="sticky_layout">
      <div class="card-widget" id="card-toc">
        <div class="item-headline"><i class="fas fa-stream"></i><span>
            <hanla></hanla>目录<hanla></hanla>
          </span><span class="toc-percentage"></span></div>
        <div class="toc-content">
          <ol class="toc">
            <li class="toc-item toc-level-3"><a class="toc-link" href="#SpringMVC"><span class="toc-number">1.</span> <span class="toc-text">SpringMVC</span></a>
              <ol class="toc-child">
                <li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span class="toc-number">1.1.</span> <span class="toc-text">创建项目<hanla></hanla></span></a></li>
                <li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E6%96%B9%E5%BC%8F"><span class="toc-number">1.2.</span> <span class="toc-text">请求方式<hanla></hanla></span></a></li>
                <li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A1%86%E6%9E%B6%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-number">1.3.</span> <span class="toc-text">框架返回值<hanla></hanla></span></a></li>
                <li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E7%9A%84%E5%A4%84%E7%90%86"><span class="toc-number">1.4.</span> <span class="toc-text">静态资源的处理<hanla></hanla></span></a></li>
                <li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%E6%8F%90%E4%BA%A4%E6%95%B0%E6%8D%AE"><span class="toc-number">1.5.</span> <span class="toc-text">前端提交数据<hanla></hanla></span></a></li>
                <li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E5%99%A8%E6%8E%A5%E5%8F%97%E5%89%8D%E7%AB%AF%E6%8F%90%E4%BA%A4%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="toc-number">1.6.</span> <span class="toc-text">控制器接受前端提交的数据<hanla></hanla></span></a></li>
                <li class="toc-item toc-level-4"><a class="toc-link" href="#5%E7%A7%8D%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92"><span class="toc-number">1.7.</span> <span class="toc-text">5<hanla></hanla>种类型参数传递<hanla></hanla></span></a></li>
                <li class="toc-item toc-level-4"><a class="toc-link" href="#SSM%E6%95%B4%E5%90%88%E5%BC%80%E5%8F%91"><span class="toc-number">1.8.</span> <span class="toc-text">SSM<hanla></hanla>整合开发<hanla></hanla></span></a></li>
                <li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E8%BD%AC%E5%8F%91"><span class="toc-number">1.9.</span> <span class="toc-text">显示转发<hanla></hanla></span></a></li>
                <li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">1.10.</span> <span class="toc-text">重定向<hanla></hanla></span></a></li>
                <li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="toc-number">1.11.</span> <span class="toc-text">异常处理<hanla></hanla></span></a></li>
                <li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8B%A6%E6%88%AA%E5%99%A8"><span class="toc-number">1.12.</span> <span class="toc-text">拦截器<hanla></hanla></span></a></li>
                <li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8B%A6%E6%88%AA%E5%99%A8%E4%B8%8E%E8%BF%87%E6%BB%A4%E5%99%A8%E7%9A%84%E6%AF%94%E8%BE%83"><span class="toc-number">1.13.</span> <span class="toc-text">拦截器与过滤器的比较<hanla></hanla></span></a></li>
                <li class="toc-item toc-level-4"><a class="toc-link" href="#spring-mvc%E5%86%85%E9%83%A8%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B"><span class="toc-number">1.14.</span> <span class="toc-text">spring-mvc<hanla></hanla>内部执行流程</span></a></li>
              </ol>
            </li>
          </ol>
        </div>
      </div>
    </div>
  </div>
  <footer id="footer" style="background: transparent">
    <div id="footer-wrap">
      <div class="copyright">©2020 - 2023 By coder-itl</div>
      <div class="framework-info"><span>
          <hanla></hanla>框架
        </span><a target="_blank" rel="external nofollow noopener noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div>
      <div class="footer_custom_text">
        <p><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img.shields.io/badge/Frame-Hexo-orange">&nbsp;<img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img.shields.io/badge/Theme-Buffterfly-blue">&nbsp;<img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img.shields.io/badge/CDN-jsDeliver-blueviolet">&nbsp;<img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img.shields.io/badge/Source-Github-9cf">&nbsp;<img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img.shields.io/badge/Theme-Matery-ff69b4">&nbsp;<img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img.shields.io/badge/Python-Python-success">&nbsp;<img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img.shields.io/badge/Python-Flask-red"></p>
        <p><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img.shields.io/badge/Theme-Butterfly-red?logo=Castorama&amp;logoWidth=18">&nbsp;<img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img.shields.io/badge/Frame-Hexo-blue?logo=Grunt&amp;logoWidth=18"></p>
      </div>
    </div>
  </footer>
  <div id="rightside">
    <div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div>
    <div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div>
  </div>
  <div id="local-search">
    <div class="search-dialog">
      <nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav>
      <div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span> 数据库加载中<hanla></hanla></span></div>
      <div class="search-wrap">
        <div id="local-search-input">
          <div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div>
        </div>
        <hr>
        <div id="local-search-results"></div>
      </div>
    </div>
    <div id="search-mask"></div>
  </div>
  <div>
    <script src="/js/utils.js"></script>
    <script src="/js/main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script>
    <script src="/js/search/local-search.js"></script>
    <div class="js-pjax">
      <script>
        (() =>
        {
          const init = () =>
          {
            twikoo.init(Object.assign(
            {
              el: '#twikoo-wrap',
              envId: 'https://twikoo-jlw0ln3jv-coderitl.vercel.app/',
              region: 'ap-shanghai',
              onCommentLoaded: function ()
              {
                btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
              }
            }, null))
          }
          const getCount = () =>
          {
            const countELement = document.getElementById('twikoo-count')
            if (!countELement) return
            twikoo.getCommentsCount(
            {
              envId: 'https://twikoo-jlw0ln3jv-coderitl.vercel.app/',
              region: 'ap-shanghai',
              urls: [window.location.pathname],
              includeReply: false
            }).then(function (res)
            {
              countELement.innerText = res[0].count
            }).catch(function (err)
            {
              console.error(err);
            });
          }
          const runFn = () =>
          {
            init()
          }
          const loadTwikoo = () =>
          {
            if (typeof twikoo === 'object')
            {
              setTimeout(runFn, 0)
              return
            }
            getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(runFn)
          }
          if ('Twikoo' === 'Twikoo' || !false)
          {
            if (false) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
            else loadTwikoo()
          }
          else
          {
            window.loadOtherComment = () =>
            {
              loadTwikoo()
            }
          }
        })()

      </script>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script>
    <script defer="" src="https://cdn.jsdelivr.net/npm/hexo-theme-volantis@latest/source/js/issues.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script>
    <script data-pjax="" src="https://cdn.jsdelivr.net/gh/coderitl/FileJsDeliver@v1.1.13/swiper/swiper.min.js"></script>
    <script data-pjax="" src="https://cdn.jsdelivr.net/gh/coderitl/FileJsDeliver@v1.1.13/swiper/swiperindex.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/graingert/wow@1.3.0/dist/wow.min.js"></script>
    <script src="https://www.youxiaohou.com/mactype.user.js"></script>
    <script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script>
    <script>
      let pjaxSelectors = ["head > title", "#config-diff", "#body-wrap", "#rightside-config-hide", "#rightside-config-show", ".js-pjax"]
      var pjax = new Pjax(
      {
        elements: 'a:not([target="_blank"])',
        selectors: pjaxSelectors,
        cacheBust: false,
        analytics: false,
        scrollRestoration: false
      })
      document.addEventListener('pjax:send', function ()
      {
        // removeEventListener scroll 
        window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
        window.scrollCollect && window.removeEventListener('scroll', scrollCollect)
        document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
        if (window.aplayers)
        {
          for (let i = 0; i < window.aplayers.length; i++)
          {
            if (!window.aplayers[i].options.fixed)
            {
              window.aplayers[i].destroy()
            }
          }
        }
        typeof typed === 'object' && typed.destroy()
        //reset readmode
        const $bodyClassList = document.body.classList
        $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
        typeof disqusjs === 'object' && disqusjs.destroy()
      })
      document.addEventListener('pjax:complete', function ()
      {
        window.refreshFn()
        document.querySelectorAll('script[data-pjax]').forEach(item =>
        {
          const newScript = document.createElement('script')
          const content = item.text || item.textContent || item.innerHTML || ""
          Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
          newScript.appendChild(document.createTextNode(content))
          item.parentNode.replaceChild(newScript, item)
        })
        GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()
        typeof chatBtnFn === 'function' && chatBtnFn()
        typeof panguInit === 'function' && panguInit()
        // google analytics
        typeof gtag === 'function' && gtag('config', '',
        {
          'page_path': window.location.pathname
        });
        // baidu analytics
        typeof _hmt === 'object' && _hmt.push(['_trackPageview', window.location.pathname]);
        typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()
        // prismjs
        typeof Prism === 'object' && Prism.highlightAll()
      })
      document.addEventListener('pjax:error', (e) =>
      {
        if (e.request.status === 404)
        {
          pjax.loadUrl('/404.html')
        }
      })

    </script>
    <script async="" data-pjax="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  </div><!-- hexo injector body_end start -->
  <script data-pjax="">
    function history_calendar_injector_config()
    {
      var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
      var item_html = '<div class="card-widget card-history"><div class="card-content"><div class="item-headline"><i class="fas fa-clock fa-spin"></i><span><hanla></hanla>那年今日<hanla></hanla></span></div><div id="history-baidu" style="height: 100px;overflow: hidden"><div class="history_swiper-container" id="history-container" style="width: 100%;height: 100%"><div class="swiper-wrapper" id="history_container_wrapper" style="height:20px"></div></div></div></div>';
      console.log('已挂载<hanla></hanla>history_calendar')
      // parent_div_git.innerHTML=item_html+parent_div_git.innerHTML // 无报错，但不影响使用<hanla></hanla>(支持<hanla></hanla>pjax<hanla></hanla>跳转)
      parent_div_git.insertAdjacentHTML("afterbegin", item_html) // 有报错，但不影响使用<hanla></hanla>(支持<hanla></hanla>pjax<hanla></hanla>跳转)
    }
    if (document.getElementsByClassName('sticky_layout')[0] & amp; & amp;
      (location.pathname === 'all' || 'all' === 'all'))
    {
      history_calendar_injector_config()
    } < /div>

  </script>
  <script data-pjax="" src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>
  <script data-pjax="" src="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-card-history/baiduhistory/js/main.js"></script>
  <script data-pjax="">
    function butterfly_swiper_injector_config()
    {
      var parent_div_git = document.getElementById('recent-posts');
      var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2022/08/13/15497.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/coderitl/Access@v1.0/medias/featureimages/7.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"></a><div class="blog-slider__content"><span class="blog-slider__code">2022-08-13</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2022/08/13/15497.html&quot;);" href="javascript:void(0);" alt=""><hanla></hanla>文件上传下载实战<hanla></hanla></a><div class="blog-slider__text"><hanla></hanla>再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2022/08/13/15497.html&quot;);" href="javascript:void(0);" alt=""><hanla></hanla>详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2022/09/04/27324.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/coderitl/Access@v1.0/medias/featureimages/8.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"></a><div class="blog-slider__content"><span class="blog-slider__code">2022-09-04</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2022/09/04/27324.html&quot;);" href="javascript:void(0);" alt="">Docker<hanla></hanla>安装<hanla></hanla>Oracle</a><div class="blog-slider__text"><hanla></hanla>再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2022/09/04/27324.html&quot;);" href="javascript:void(0);" alt=""><hanla></hanla>详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2022/11/30/42622.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://i.328888.xyz/2023/04/01/i2p4AN.jpeg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"></a><div class="blog-slider__content"><span class="blog-slider__code">2022-11-30</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2022/11/30/42622.html&quot;);" href="javascript:void(0);" alt="">SpringCloud</a><div class="blog-slider__text"><hanla></hanla>再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2022/11/30/42622.html&quot;);" href="javascript:void(0);" alt=""><hanla></hanla>详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2022/12/29/2485.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/coderitl/Access@v1.0/medias/featureimages/2.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"></a><div class="blog-slider__content"><span class="blog-slider__code">2022-12-29</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2022/12/29/2485.html&quot;);" href="javascript:void(0);" alt="">Ubuntu-系统<hanla></hanla></a><div class="blog-slider__text"><hanla></hanla>再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2022/12/29/2485.html&quot;);" href="javascript:void(0);" alt=""><hanla></hanla>详情       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
      console.log('已挂载<hanla></hanla>butterfly_swiper')
      parent_div_git.insertAdjacentHTML("afterbegin", item_html)
    }
    var elist = 'undefined'.split(',');
    var cpage = location.pathname;
    var epage = 'all';
    var flag = 0;
    for (var i = 0; i

  </script>
  <script defer="" src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script>
  <script defer="" data-pjax="" src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script>
  <script data-pjax="" src="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.js"></script>
  <script data-pjax="">
    function gitcalendar_injector_config()
    {
      var parent_div_git = document.getElementById('recent-posts');
      var item_html = '<div class="recent-post-item" id="gitcalendarBar" style="width:100%;height:auto;padding:10px;"><style>#git_container{min-height: 280px}@media screen and (max-width:650px) {#git_container{min-height: 0px}}</style><div id="git_loading" style="width:10%;height:100%;margin:0 auto;display: block;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animateTransform></path></svg><style>#git_container{display: none;}</style></div><div id="git_container"></div></div>';
      parent_div_git.insertAdjacentHTML("afterbegin", item_html)
      console.log('已挂载<hanla></hanla>gitcalendar')
    }
    if (document.getElementById('recent-posts') && (location.pathname === '/' || '/' === 'all'))
    {
      gitcalendar_injector_config()
      GitCalendarInit("https://python-github-calenda-4cx5gxbnc-coderitl.vercel.app/api?coderitl", ['#e4dfd7', '#f9f4dc', '#f7e8aa', '#f7e8aa', '#f8df72', '#fcd217', '#fcc515', '#f28e16', '#fb8b05', '#d85916', '#f43e06'], 'coderitl')
    }

  </script>
  <script async="" src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script><!-- hexo injector body_end end -->
  <script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script>
  <script>
    L2Dwidget.init(
    {
      "pluginModelPath": "assets/",
      "model":
      {
        "jsonPath": "/live2dw/assets/shizuku.model.json"
      },
      "display":
      {
        "position": "left",
        "width": 150,
        "height": 300
      },
      "mobile":
      {
        "show": false
      },
      "rect":
      {
        "opacity": 0.7
      },
      "log": false,
      "pluginJsPath": "lib/",
      "pluginRootPath": "live2dw/",
      "tagMode": false
    });

  </script>



</body></html>