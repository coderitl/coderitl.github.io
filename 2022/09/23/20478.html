<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <title>尚融宝 | coder-itl</title>
  <meta name="author" content="coder-itl">
  <meta name="copyright" content="coder-itl">
  <meta name="format-detection" content="telephone=no">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="尚融宝MP 创建数据库 1234CREATE DATABASEIF	NOT EXISTS `mybatis_plus` CHARACTER 	SET &quot;utf8&quot;;  创建表 123456789101112131415create table user(    id    bigint(20)  not null comment &amp;#x27;主键&amp;#x27;,    nam">
  <meta property="og:type" content="article">
  <meta property="og:title" content="尚融宝">
  <meta property="og:url" content="https://coderitl.github.io/2022/09/23/20478.html">
  <meta property="og:site_name" content="coder-itl">
  <meta property="og:description" content="尚融宝MP 创建数据库 1234CREATE DATABASEIF	NOT EXISTS `mybatis_plus` CHARACTER 	SET &quot;utf8&quot;;  创建表 123456789101112131415create table user(    id    bigint(20)  not null comment &amp;#x27;主键&amp;#x27;,    nam">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:image" content="https://cdn.jsdelivr.net/gh/coderitl/hiddenContent@v1.10/day321/48.jpg">
  <meta property="article:published_time" content="2022-09-23T15:07:38.000Z">
  <meta property="article:modified_time" content="2023-06-22T11:51:59.474Z">
  <meta property="article:author" content="coder-itl">
  <meta property="article:tag" content="coder-itl,Java,HTML+CSS,Hexo,MYSQL">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/coderitl/hiddenContent@v1.10/day321/48.jpg">
  <link rel="shortcut icon" href="https://img-blog.csdnimg.cn/f44f454681b440f3a8ae5f086d3c07d9.png">
  <link rel="canonical" href="https://coderitl.github.io/2022/09/23/20478.html">
  <link rel="preconnect" href="//cdn.jsdelivr.net">
  <link rel="preconnect" href="//busuanzi.ibruce.info">
  <link rel="stylesheet" href="/css/index.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'">
  <script>
    const GLOBAL_CONFIG = {
      root: '/',
      algolia: undefined,
      localSearch:
      {
        "path": "/search.xml",
        "preload": false,
        "languages":
        {
          "hits_empty": "找不到您查询的内容：${query}"
        }
      },
      translate: undefined,
      noticeOutdate: undefined,
      highlight:
      {
        "plugin": "highlighjs",
        "highlightCopy": true,
        "highlightLang": false,
        "highlightHeightLimit": false
      },
      copy:
      {
        success: '复制成功',
        error: '复制错误',
        noSupport: '浏览器不支持'
      },
      relativeDate:
      {
        homepage: false,
        post: false
      },
      runtime: '',
      date_suffix:
      {
        just: '刚刚',
        min: '分钟前',
        hour: '小时前',
        day: '天前',
        month: '个月前'
      },
      copyright: undefined,
      lightbox: 'fancybox',
      Snackbar: undefined,
      source:
      {
        justifiedGallery:
        {
          js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
          css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
        }
      },
      isPhotoFigcaption: false,
      islazyload: true,
      isAnchor: false,
      percent:
      {
        toc: true,
        rightside: false,
      }
    }

  </script>
  <script id="config-diff">
    var GLOBAL_CONFIG_SITE = {
      title: '尚融宝',
      isPost: true,
      isHome: false,
      isHighlightShrink: false,
      isToc: true,
      postUpdate: '2023-06-22 19:51:59'
    }

  </script><noscript>
    <style type="text/css">
      #nav
      {
        opacity: 1
      }

      .justified-gallery img
      {
        opacity: 1
      }

      #recent-posts time,
      #post-meta time
      {
        display: inline !important
      }

    </style>
  </noscript>
  <script>
    (win =>
    {
      win.saveToLocal = {
        set: function setWithExpiry(key, value, ttl)
        {
          if (ttl === 0) return
          const now = new Date()
          const expiryDay = ttl * 86400000
          const item = {
            value: value,
            expiry: now.getTime() + expiryDay,
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
        get: function getWithExpiry(key)
        {
          const itemStr = localStorage.getItem(key)
          if (!itemStr)
          {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = new Date()
          if (now.getTime() > item.expiry)
          {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
      win.getScript = url => new Promise((resolve, reject) =>
      {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function ()
        {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(script)
      })
      win.getCSS = url => new Promise((resolve, reject) =>
      {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        link.onload = () => resolve()
        link.onerror = () => reject()
        document.head.appendChild(link)
      })
      win.activateDarkMode = function ()
      {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null)
        {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function ()
      {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null)
        {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
      if (t === 'dark') activateDarkMode()
      else if (t === 'light') activateLightMode()
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined)
      {
        if (asideStatus === 'hide')
        {
          document.documentElement.classList.add('hide-aside')
        }
        else
        {
          document.documentElement.classList.remove('hide-aside')
        }
      }
      const detectApple = () =>
      {
        if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent))
        {
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)

  </script>
  <link rel="stylesheet" href="/css/modify.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/l-lin/font-awesome-animation/dist/font-awesome-animation.min.css" media="defer" onload="this.media='all'">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/coderitl/FileJsDeliver@v1.1.12/css/gitcalendar.css" media="defer" onload="this.media='all'">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/coderitl/FileJsDeliver@v1.1.13/swiper/swiper.min.css" media="defer" onload="this.media='all'">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/coderitl/FileJsDeliver@v1.1.13/swiper/swiperstyle.css" media="defer" onload="this.media='all'">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/animate-css/animate.css@3.7.2/animate.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css" media="defer">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/coderitl/globalfont@v0.0.4/my.css">
  <link rel="stylesheet" href="/css/my.css">
  <meta name="referrer" content="no-referrer"><!-- hexo injector head_end start -->
  <style>
    body hanla:after
    {
      content: ' ';
      display: inline;
      font-family: inherit;
      font-size: 0.45em;
    }

    html code hanla,
    html pre hanla,
    html kbd hanla,
    html samp hanla,
    html ruby hanla,
    html .tag-list-item hanla
    {
      display: none;
    }

    html ol>hanla,
    html ul>hanla
    {
      display: none;
    }

  </style>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-card-history/baiduhistory/css/main.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css">
  <style>
    #recent-posts>.recent-post-item>.recent-post-info>.article-meta-wrap>.tags:before
    {
      content: "\A";
      white-space: pre;
    }

    #recent-posts>.recent-post-item>.recent-post-info>.article-meta-wrap>.tags>.article-meta__separator
    {
      display: none
    }

  </style>
  <link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'">
  <link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'">
  <link rel="stylesheet" href="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.css" media="print" onload="this.media='all'">
  <link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'">
  <link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'">
  <script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><!-- hexo injector head_end end -->
  <meta name="generator" content="Hexo 5.4.2">
  <link rel="alternate" href="/atom.xml" title="coder-itl" type="application/atom+xml">
</head>

<body>
  <div id="loading-box">
    <div class="loading-left-bg"></div>
    <div class="loading-right-bg"></div>
    <div class="spinner-box">
      <div class="configure-border-1">
        <div class="configure-core"></div>
      </div>
      <div class="configure-border-2">
        <div class="configure-core"></div>
      </div>
      <div class="loading-word">加载中...</div>
    </div>
  </div>
  <script>
    const preloader = {
      endLoading: () =>
      {
        document.body.style.overflow = 'auto';
        document.getElementById('loading-box').classList.add("loaded")
      },
      initLoading: () =>
      {
        document.body.style.overflow = '';
        document.getElementById('loading-box').classList.remove("loaded")
      }
    }
    window.addEventListener('load', () =>
    {
      preloader.endLoading()
    })
    if (true)
    {
      document.addEventListener('pjax:send', () =>
      {
        preloader.initLoading()
      })
      document.addEventListener('pjax:complete', () =>
      {
        preloader.endLoading()
      })
    }

  </script>
  <div id="web_bg"></div>
  <div id="sidebar">
    <div id="menu-mask"></div>
    <div id="sidebar-menus">
      <div class="avatar-img is-center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://i.328888.xyz/2023/03/19/MJUXa.jpeg" onerror="onerror=null;src='https://i.328888.xyz/2023/03/20/P3kfC.gif'" alt="avatar"></div>
      <div class="sidebar-site-data site-data is-center"><a href="/archives/">
          <div class="headline">
            <hanla></hanla>文章<hanla></hanla>
          </div>
          <div class="length-num">119</div>
        </a><a href="/tags/">
          <div class="headline">
            <hanla></hanla>标签<hanla></hanla>
          </div>
          <div class="length-num">21</div>
        </a><a href="/categories/">
          <div class="headline">
            <hanla></hanla>分类<hanla></hanla>
          </div>
          <div class="length-num">13</div>
        </a></div>
      <hr>
      <div class="menus_items">
        <div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div>
        <div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div>
        <div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div>
        <div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div>
        <div class="menus_item"><a class="site-page" href="/Timeline/"><i class="fa-fw fab fa-docker"></i><span> 日志</span></a></div>
        <div class="menus_item"><a class="site-page" href="/Java-%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF/"><i class="fa-fw fas fa-link"></i><span> 学习路线</span></a></div>
        <div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于<hanla></hanla></span></a></div>
      </div>
    </div>
  </div>
  <div class="post" id="body-wrap">
    <header class="post-bg" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/gh/coderitl/hiddenContent@v1.10/day321/48.jpg')">
      <nav id="nav"><span id="blog-info"><a href="/" title="coder-itl"><span class="site-name">coder-itl</span></a></span>
        <div id="menus">
          <div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div>
          <div class="menus_items">
            <div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div>
            <div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div>
            <div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div>
            <div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div>
            <div class="menus_item"><a class="site-page" href="/Timeline/"><i class="fa-fw fab fa-docker"></i><span> 日志</span></a></div>
            <div class="menus_item"><a class="site-page" href="/Java-%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF/"><i class="fa-fw fas fa-link"></i><span> 学习路线</span></a></div>
            <div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div>
          </div>
          <div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div>
        </div>
      </nav>
      <div id="post-info">
        <h1 class="post-title">尚融宝</h1>
        <div id="post-meta">
          <div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于<hanla></hanla></span><time class="post-meta-date-created" datetime="2022-09-23T15:07:38.000Z" title="发表于 2022-09-23 23:07:38">2022-09-23</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于<hanla></hanla></span><time class="post-meta-date-updated" datetime="2023-06-22T11:51:59.474Z" title="更新于 2023-06-22 19:51:59">2023-06-22</time></span></div>
          <div class="meta-secondline"><span class="post-meta-separator">|</span><span id="" data-flag-title="尚融宝"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="twikoo_visitors"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div>
        </div>
      </div>
    </header>
    <main class="layout" id="content-inner">
      <div id="post"><div class="top-img" style="background-image: url('https://cdn.jsdelivr.net/gh/coderitl/hiddenContent@v1.10/day321/48.jpg');"></div>
        <article class="post-content" id="article-container">
          <meta name="referrer" content="no-referrer">
          <h3 id="尚融宝"><a href="#尚融宝" class="headerlink" title="尚融宝"></a>
            <hanla></hanla>尚融宝<hanla></hanla>
          </h3>
          <h4 id="MP"><a href="#MP" class="headerlink" title="MP"></a>MP</h4>
          <ul>
            <li>
              <p>创建数据库</p>
              <figure class="highlight sql">
                <table>
                  <tbody>
                    <tr>
                      <td class="gutter">
                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                      </td>
                      <td class="code">
                        <pre><span class="line"><span class="keyword">CREATE</span> DATABASE</span><br><span class="line">IF</span><br><span class="line">	<span class="keyword">NOT</span> <span class="keyword">EXISTS</span> `mybatis_plus` <span class="type">CHARACTER</span> </span><br><span class="line">	<span class="keyword">SET</span> "utf8";</span><br></pre>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </figure>
            </li>
            <li>
              <p>创建表</p>
              <figure class="highlight sql">
                <table>
                  <tbody>
                    <tr>
                      <td class="gutter">
                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre>
                      </td>
                      <td class="code">
                        <pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">user</span></span><br><span class="line">(</span><br><span class="line">    id    <span class="type">bigint</span>(<span class="number">20</span>)  <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">'主键'</span>,</span><br><span class="line">    name  <span class="type">varchar</span>(<span class="number">30</span>) <span class="keyword">null</span> <span class="keyword">default</span> <span class="keyword">null</span> comment <span class="string">'姓名'</span>,</span><br><span class="line">    age   <span class="type">int</span>(<span class="number">11</span>)     <span class="keyword">null</span> <span class="keyword">default</span> <span class="keyword">null</span> comment <span class="string">'年龄'</span>,</span><br><span class="line">    email <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">null</span> <span class="keyword">default</span> <span class="keyword">null</span> comment <span class="string">'邮箱'</span>,</span><br><span class="line">    <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">user</span>(id, name, age, email)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">1</span>, <span class="string">'Jone'</span>, <span class="number">18</span>, <span class="string">'jone@qq.com'</span>),</span><br><span class="line">       (<span class="number">2</span>, <span class="string">'Jack'</span>, <span class="number">20</span>, <span class="string">'jack@qq.com'</span>),</span><br><span class="line">       (<span class="number">3</span>, <span class="string">'Tom'</span>, <span class="number">28</span>, <span class="string">'tom@qq.com'</span>),</span><br><span class="line">       (<span class="number">4</span>, <span class="string">'Sandy'</span>, <span class="number">21</span>, <span class="string">'sandy@qq.com'</span>),</span><br><span class="line">       (<span class="number">5</span>, <span class="string">'Billie'</span>, <span class="number">24</span>, <span class="string">'billie@qq.com'</span>);</span><br></pre>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </figure>
            </li>
            <li>
              <p><code>MP</code>
                <hanla></hanla>使用步骤
              </p>
              <ol>
                <li>
                  <p>引入<hanla></hanla><code>Mybatis-Plus</code>
                    <hanla></hanla>之后请不要再次引入<hanla></hanla><code>Mybatis</code>
                    <hanla></hanla>以及<hanla></hanla><code>Mybatis-Spring</code>，以避免因版本误差导致的问题
                  </p>
                  <table>
                    <thead>
                      <tr>
                        <th align="center"><code>Mybatis-Plus</code></th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/6033d82e4ab549a89e5862322b5d0996.png"></td>
                      </tr>
                    </tbody>
                  </table>
                </li>
                <li>
                  <p>配置数据源</p>
                  <figure class="highlight yml">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/mybatis_plus?serverTimezone=UTC</span></span><br><span class="line"></span><br><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="attr">log-impl:</span> <span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br><span class="line"></span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                </li>
                <li>
                  <p>编写业务逻辑类，自定义<hanla></hanla><code>mapper</code>
                    <hanla></hanla>接口继承<hanla></hanla><code>BaseMapper&lt;T&gt;</code>，继承了<hanla></hanla><code>BaseMapper</code>
                    <hanla></hanla>中的增删改查方法
                  </p>
                </li>
                <li>
                  <p>启动类添加包扫描<hanla></hanla><code>@MapperScan("com.example.demo.mapper")</code></p>
                </li>
                <li>
                  <p>在使用的地方直接注入<hanla></hanla><code>mapper</code></p>
                  <figure class="highlight java">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="keyword">package</span> com.example.demo;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DemoApplicationTests</span> {</span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">contextLoads</span><span class="params">()</span> {</span><br><span class="line">        List&lt;User&gt; users = userMapper.selectList(<span class="literal">null</span>);</span><br><span class="line">        <span class="keyword">for</span> (User user : users) {</span><br><span class="line">            System.out.println(user);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                </li>
              </ol>
            </li>
            <li>
              <p>表问题</p>
              <ul>
                <li>
                  <p><code>MP</code>
                    <hanla></hanla>如何确定是查询那个表的
                  </p>
                  <table>
                    <thead>
                      <tr>
                        <th align="center">是通过继承<hanla></hanla><code>BaseMapper</code>
                          <hanla></hanla>时指定的实体类
                        </th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/62051f022d184247a347cbc38164f7af.png"></td>
                      </tr>
                    </tbody>
                  </table>
                </li>
                <li>
                  <p>表名称不一致问题</p>
                  <table>
                    <thead>
                      <tr>
                        <th align="center">通过<hanla></hanla><code>mybatis-plus</code>
                          <hanla></hanla>提供的注解进行配置，也可以在配置文件中全局配置
                        </th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/d471484627d145bdb4a402dc09fbdd18.png"></td>
                      </tr>
                    </tbody>
                  </table>
                </li>
                <li>
                  <p>数据库字段映射</p>
                  <figure class="highlight java">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="meta">@TableField("user_info")</span></span><br><span class="line"><span class="keyword">private</span> String aa;</span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                </li>
                <li>
                  <p>主键映射</p>
                  <figure class="highlight java">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="meta">@TableId(value = "id", type = IdType.AUTO)</span></span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                </li>
                <li>
                  <p>自动填充</p>
                  <figure class="highlight sql">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> <span class="keyword">user</span> <span class="keyword">add</span> <span class="keyword">column</span> create_time datetime;</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> <span class="keyword">user</span> <span class="keyword">add</span> <span class="keyword">column</span> update_time datetime;</span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                  <figure class="highlight java">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="comment">// 1. 添加注解<hanla></hanla></span></span><br><span class="line"><span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line"><span class="keyword">private</span> Date createTime;</span><br><span class="line"></span><br><span class="line"><span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line"><span class="keyword">private</span> Date updateTime;</span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                  <figure class="highlight java">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="comment">// 2. 实现对应的接口<hanla></hanla></span></span><br><span class="line"><span class="keyword">package</span> com.example.demo.autofill;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyMetaObjectHandler</span> <span class="keyword">implements</span> <span class="title class_">MetaObjectHandler</span> {</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insertFill</span><span class="params">(MetaObject metaObject)</span> {</span><br><span class="line">        <span class="built_in">this</span>.setFieldValByName(<span class="string">"createTime"</span>,<span class="keyword">new</span> <span class="title class_">Date</span>(),metaObject);</span><br><span class="line">        <span class="built_in">this</span>.setFieldValByName(<span class="string">"updateTime"</span>,<span class="keyword">new</span> <span class="title class_">Date</span>(),metaObject);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateFill</span><span class="params">(MetaObject metaObject)</span> {</span><br><span class="line">        <span class="built_in">this</span>.setFieldValByName(<span class="string">"updateTime"</span>,<span class="keyword">new</span> <span class="title class_">Date</span>(),metaObject);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                  <figure class="highlight java">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="comment">// 3. 测试添加<hanla></hanla></span></span><br><span class="line">userMapper.insert(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">8l</span>, <span class="string">"auto fill"</span>, <span class="number">8</span>, <span class="string">"autofill@qq.com"</span>,<span class="literal">null</span>,<span class="literal">null</span>));</span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                </li>
                <li>
                  <p>主键生成策略</p>
                  <div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i>
                    <ol>
                      <li><code>none</code> <code>mp</code>
                        <hanla></hanla>默认的主键生成策略,<hanla></hanla>默认使用的是雪花算法生成递增的数值类型的<hanla></hanla><code>19</code>
                        <hanla></hanla>位唯一的标识符
                      </li>
                      <li><code>input</code>
                        <hanla></hanla>表示自己动手输入<hanla></hanla><code>id</code>
                      </li>
                      <li><code>auto</code>
                        <hanla></hanla>表示使用数据表的自增主键，要求表的列必须是<hanla></hanla><code>int、bigint、auto increment</code>
                      </li>
                      <li><code>assign_id</code> 表示如果用户自己指定了<hanla></hanla><code>id</code>，就用用户自己指定的<hanla></hanla><code>id</code>，如果用户没有指定<hanla></hanla><code>id</code>，就使用默认的雪花算法生成的<hanla></hanla><code>19</code>
                        <hanla></hanla>位唯一标识
                      </li>
                      <li><code>assign_uuid</code>
                        <hanla></hanla>表示使用<hanla></hanla><code>mp</code>
                        <hanla></hanla>生成的<hanla></hanla><code>uuid</code>
                        <hanla></hanla>作为表的主键
                      </li>
                    </ol>
                  </div>
                </li>
              </ul>
            </li>
            <li>
              <p>乐观锁<hanla></hanla>(使用与配置流程)</p>
              <ul>
                <li>
                  <p>主要使<hanla></hanla>=<hanla></hanla>适用场景: 当要更新一条新记录的时候,<hanla></hanla>希望这条记录没有被别人更新，也就是实现线程安全的数据更新</p>
                </li>
                <li>
                  <p>乐观锁实现方式</p>
                  <ul>
                    <li>
                      <p>取出记录时,<hanla></hanla>获取当前的<hanla></hanla><code>version</code></p>
                    </li>
                    <li>
                      <p>更新时,<hanla></hanla>带上这个<hanla></hanla><code>version</code></p>
                    </li>
                    <li>
                      <p>执行更新时<hanla></hanla>L <code>set version = newVersion where version = oldVersion</code></p>
                    </li>
                    <li>
                      <p>如果<hanla></hanla><code>version</code>
                        <hanla></hanla>不对，就更新失败
                      </p>
                    </li>
                    <li>
                      <p>数据库中添加<hanla></hanla><code>version</code>
                        <hanla></hanla>字段
                      </p>
                      <figure class="highlight sql">
                        <table>
                          <tbody>
                            <tr>
                              <td class="gutter">
                                <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                              </td>
                              <td class="code">
                                <pre><span class="line"><span class="comment">-- 1. 添加字段<hanla></hanla></span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> <span class="keyword">user</span> <span class="keyword">add</span> <span class="keyword">column</span> `version` <span class="type">int</span>;</span><br></pre>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </figure>
                      <figure class="highlight java">
                        <table>
                          <tbody>
                            <tr>
                              <td class="gutter">
                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                              </td>
                              <td class="code">
                                <pre><span class="line"><span class="comment">// 2. 标记这个乐观锁的版本号<hanla></hanla></span></span><br><span class="line"><span class="meta">@Version</span></span><br><span class="line"><span class="keyword">private</span> Integer version;</span><br></pre>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </figure>
                      <figure class="highlight java">
                        <table>
                          <tbody>
                            <tr>
                              <td class="gutter">
                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre>
                              </td>
                              <td class="code">
                                <pre><span class="line"><span class="comment">// 3. 配置<hanla></hanla>(新版本 mp 配置)</span></span><br><span class="line"><span class="keyword">package</span> com.example.demo.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.plugins.inner.OptimisticLockerInnerInterceptor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MpConfig</span> {</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> MybatisPlusInterceptor <span class="title function_">mybatisPlusInterceptor</span><span class="params">()</span> {</span><br><span class="line">        <span class="type">MybatisPlusInterceptor</span> <span class="variable">interceptor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MybatisPlusInterceptor</span>();</span><br><span class="line">        interceptor.addInnerInterceptor(<span class="keyword">new</span> <span class="title class_">OptimisticLockerInnerInterceptor</span>());</span><br><span class="line">        <span class="keyword">return</span> interceptor;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br></pre>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </figure>
                      <figure class="highlight java">
                        <table>
                          <tbody>
                            <tr>
                              <td class="gutter">
                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre>
                              </td>
                              <td class="code">
                                <pre><span class="line"><span class="comment">// 自动填充配置<hanla></hanla></span></span><br><span class="line"><span class="meta">@Version</span></span><br><span class="line"><span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line"><span class="keyword">private</span> Integer version;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">this</span>.setFieldValByName(<span class="string">"version"</span>,<span class="number">1</span>,metaObject);</span><br><span class="line"></span><br></pre>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </figure>
                      <figure class="highlight java">
                        <table>
                          <tbody>
                            <tr>
                              <td class="gutter">
                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre>
                              </td>
                              <td class="code">
                                <pre><span class="line"><span class="comment">// 测试 乐观锁<hanla></hanla></span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testOptimisticLocker</span><span class="params">()</span> {</span><br><span class="line">    <span class="comment">// 使用新增数据的 id</span></span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> userMapper.selectById(<span class="number">9l</span>);</span><br><span class="line">    <span class="comment">// 修改</span></span><br><span class="line">    user.setName(<span class="string">"李四"</span>);</span><br><span class="line">    <span class="comment">// 不需要手动设置: user.setVersion(user.getVersion()+1) MP =&gt; 已实现</span></span><br><span class="line">    userMapper.updateById(user);</span><br><span class="line">}</span><br></pre>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </figure>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>
              <p>批量查询</p>
              <figure class="highlight java">
                <table>
                  <tbody>
                    <tr>
                      <td class="gutter">
                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre>
                      </td>
                      <td class="code">
                        <pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 批量查询<hanla></hanla>(1) </span></span><br><span class="line"><span class="comment">     SELECT id,name,age,email,create_time,update_time,version FROM user WHERE id IN ( ? , ? , ? )</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">textSelectAsList</span><span class="params">()</span> {</span><br><span class="line">    List&lt;User&gt; users = userMapper.selectBatchIds(Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>));</span><br><span class="line">    System.out.println(<span class="string">"users = "</span> + users);</span><br><span class="line">}</span><br></pre>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </figure>
              <figure class="highlight java">
                <table>
                  <tbody>
                    <tr>
                      <td class="gutter">
                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre>
                      </td>
                      <td class="code">
                        <pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * SELECT id,name,age,email,create_time,update_time,version FROM user WHERE name = ? AND age = ?</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">textSelectMap</span><span class="params">()</span> {</span><br><span class="line">    Map&lt;String,Object&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    map.put(<span class="string">"name"</span>,<span class="string">"李四"</span>);</span><br><span class="line">    map.put(<span class="string">"age"</span>,<span class="string">"18"</span>);</span><br><span class="line">    List&lt;User&gt; users = userMapper.selectByMap(map);</span><br><span class="line">    System.out.println(<span class="string">"users = "</span> + users);</span><br><span class="line">}</span><br></pre>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </figure>
            </li>
            <li>
              <p>分页查询</p>
              <ul>
                <li>
                  <p>配置<hanla></hanla>(这里是拦截器,<hanla></hanla>切勿配置重复<hanla></hanla><code>MybatisPlusInterceptor</code>，不能创建在两个类中使用此名称)</p>
                  <figure class="highlight java">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="keyword">package</span> com.example.demo.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.DbType;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.autoconfigure.ConfigurationCustomizer;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.plugins.inner.OptimisticLockerInnerInterceptor;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.plugins.inner.PaginationInnerInterceptor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 新的分页插件,<hanla></hanla>一缓和二缓遵循<hanla></hanla>mybatis<hanla></hanla>的规则,<hanla></hanla>需要设置 MybatisConfiguration#useDeprecatedExecutor = false 避免缓存出现问题<hanla></hanla>(该属性会在旧插件移除后一同移除)</span></span><br><span class="line"><span class="comment">     </span></span><br><span class="line"><span class="comment">   官网地址: https://baomidou.com/pages/2976a3/#spring-boot</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MpConfig</span> {</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> MybatisPlusInterceptor <span class="title function_">mybatisPlusInterceptor</span><span class="params">()</span> {</span><br><span class="line">        <span class="type">MybatisPlusInterceptor</span> <span class="variable">interceptor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MybatisPlusInterceptor</span>();</span><br><span class="line">        <span class="comment">// 乐观锁配置</span></span><br><span class="line">        interceptor.addInnerInterceptor(<span class="keyword">new</span> <span class="title class_">OptimisticLockerInnerInterceptor</span>());</span><br><span class="line">        <span class="comment">// 分页插件配置</span></span><br><span class="line">        interceptor.addInnerInterceptor(<span class="keyword">new</span> <span class="title class_">PaginationInnerInterceptor</span>(DbType.MYSQL));</span><br><span class="line">        <span class="keyword">return</span> interceptor;</span><br><span class="line">    }</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> ConfigurationCustomizer <span class="title function_">configurationCustomizer</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> configuration -&gt; configuration.setUseDeprecatedExecutor(<span class="literal">false</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                </li>
                <li>
                  <p>使用</p>
                  <figure class="highlight java">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">textSelectLimit</span><span class="params">()</span> {</span><br><span class="line">        Page&lt;User&gt; page = <span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;(<span class="number">1</span>,<span class="number">3</span>);</span><br><span class="line">        Page&lt;User&gt; userPage = userMapper.selectPage(page,<span class="literal">null</span>);</span><br><span class="line">        System.out.println(<span class="string">"userPage = "</span> + userPage);</span><br><span class="line">        <span class="comment">// 返回对象得到分页所有数据</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">pages</span> <span class="operator">=</span> userPage.getPages(); <span class="comment">// 总页数</span></span><br><span class="line">        System.out.println(<span class="string">"pages = "</span> + pages);</span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> <span class="variable">current</span> <span class="operator">=</span> userPage.getCurrent(); <span class="comment">// 当前页</span></span><br><span class="line">        System.out.println(<span class="string">"current = "</span> + current);</span><br><span class="line"></span><br><span class="line">        List&lt;User&gt; records = userPage.getRecords(); <span class="comment">// 查询数据集合</span></span><br><span class="line">        <span class="keyword">for</span> (User record : records) {</span><br><span class="line">            System.out.println(<span class="string">"record = "</span> + record);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> <span class="variable">total</span> <span class="operator">=</span> userPage.getTotal();<span class="comment">// 总记录数</span></span><br><span class="line">        System.out.println(<span class="string">"total = "</span> + total);</span><br><span class="line"></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">hasNext</span> <span class="operator">=</span> userPage.hasNext(); <span class="comment">// 下一条</span></span><br><span class="line">        System.out.println(<span class="string">"hasNext = "</span> + hasNext);</span><br><span class="line"></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">hasPrevious</span> <span class="operator">=</span> userPage.hasPrevious(); <span class="comment">// 上一条</span></span><br><span class="line">        System.out.println(<span class="string">"hasPrevious = "</span> + hasPrevious);</span><br><span class="line"></span><br><span class="line">    }</span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                  <table>
                    <thead>
                      <tr>
                        <th align="center">实现分页</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/b82fad639b314ac7a0afddf99669cfc5.png"></td>
                      </tr>
                    </tbody>
                  </table>
                </li>
              </ul>
            </li>
            <li>
              <p>删除</p>
              <ul>
                <li>
                  <p>根据<hanla></hanla><code>id</code>
                    <hanla></hanla>删除
                  </p>
                  <figure class="highlight java">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="type">int</span> <span class="variable">deleteById</span> <span class="operator">=</span> userMapper.deleteById(<span class="number">9l</span>);</span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                </li>
                <li>
                  <p>批量删除</p>
                  <figure class="highlight java">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * DELETE FROM user WHERE id IN ( ? , ? , ? )</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testDeleteById</span><span class="params">()</span> {</span><br><span class="line">    <span class="type">int</span> <span class="variable">deleteAsList</span> <span class="operator">=</span> userMapper.deleteBatchIds(Arrays.asList(<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>));</span><br><span class="line">    System.out.println(<span class="string">"deleteAsList = "</span> + deleteAsList);</span><br><span class="line">}</span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                </li>
                <li>
                  <p>逻辑删除</p>
                  <figure class="highlight sql">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="comment">-- 1. 添加标识字段<hanla></hanla></span></span><br><span class="line"><span class="keyword">alter</span>  <span class="keyword">table</span>  <span class="keyword">user</span> <span class="keyword">add</span> <span class="keyword">column</span> is_delete <span class="type">int</span> <span class="keyword">default</span> <span class="number">0</span> comment <span class="string">'1: 已经被删除，0: 未被删除'</span>;</span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                  <figure class="highlight yml">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="comment"># 默认配置<hanla></hanla></span></span><br><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">  <span class="attr">global-config:</span></span><br><span class="line">    <span class="attr">db-config:</span></span><br><span class="line">      <span class="attr">logic-not-delete-value:</span> <span class="number">0</span> <span class="comment"># 数据库未删除<hanla></hanla>(0 实现逻辑删除)</span></span><br><span class="line">      <span class="attr">logic-delete-value:</span> <span class="number">1</span> <span class="comment"># 删除后的数据标志<hanla></hanla></span></span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                  <figure class="highlight java">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="comment">// 2. 实体类<hanla></hanla></span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 逻辑删除标识字段</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@TableLogic</span></span><br><span class="line"><span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line"><span class="keyword">private</span> Integer isDelete;</span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                  <figure class="highlight java">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="comment">// 3. 使用<hanla></hanla></span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * UPDATE user SET is_delete=1 WHERE id=? AND is_delete=0</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testDeleteById</span><span class="params">()</span> {</span><br><span class="line">    <span class="type">int</span> <span class="variable">deleteById</span> <span class="operator">=</span> userMapper.deleteById(<span class="number">5l</span>);</span><br><span class="line">    System.out.println(<span class="string">"deleteById = "</span> + deleteById);</span><br><span class="line">}</span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                </li>
              </ul>
            </li>
          </ul>
          <h4 id="数据库设计规范"><a href="#数据库设计规范" class="headerlink" title="数据库设计规范"></a>数据库设计规范</h4>
          <ol>
            <li>
              <p>库名与应用名称尽量一致</p>
            </li>
            <li>
              <p>表名、字段名必须使用小写字母或数字，禁止出现数字开头，</p>
            </li>
            <li>
              <p>表名不使用复数名词</p>
            </li>
            <li>
              <p>表的命名最好是加上<hanla></hanla>“业务名称<hanla></hanla>_<hanla></hanla>表的作用”。如，<code>edu_teacher</code></p>
            </li>
            <li>
              <p>表必备三字段：<code>id, gmt_create, gmt_modified</code></p>
              <div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i>
                <p>说明：</p>
                <p>其中<hanla></hanla><code>id</code> 必为主键，类型为 <code>bigint unsigned</code>、单表时自增、步长为<code> 1</code>。</p>
                <p>（如果使用分库分表集群部署，则<hanla></hanla><code>id</code>
                  <hanla></hanla>类型为<hanla></hanla><code>verchar</code>，非自增，业务中使用分布式<hanla></hanla><code>id</code>
                  <hanla></hanla>生成器）
                </p>
                <p><code>gmt_create, gmt_modified </code>的类型均为 <code>datetime</code> 类型，前者现在时表示主动创建，后者过去分词表示被 动更新。</p>
              </div>
            </li>
            <li>
              <p>单表行数超过 <code>500</code> 万行或者单表容量超过<code> 2GB</code>，才推荐进行分库分表。 说明：如果预计三年后的数据量根本达不到这个级别，请不要在创建表时就分库分表。 </p>
            </li>
            <li>
              <p>表达是与否概念的字段，必须使用 <code>is_xxx</code> 的方式命名，数据类型是 <code>unsigned tinyint</code>（<code>1</code> 表示是，<code>0</code> 表示否）。 </p>
              <div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i>
                <p>说明：任何字段如果为非负数，必须是<code> unsigned</code>。 </p>
                <p>注意：<code>POJO </code>类中的任何布尔类型的变量，都不要加<hanla></hanla><code>is</code>
                  <hanla></hanla>前缀。数据库表示是与否的值，使用 <code>tinyint </code>类型，坚持<hanla></hanla><code>is_xxx</code>
                  <hanla></hanla>的 命名方式是为了明确其取值含义与取值范围。
                </p>
                <p>正例：表达逻辑删除的字段名<code> is_deleted</code>，<code>1</code> 表示删除，<code>0 </code>表示未删除。 </p>
              </div>
            </li>
            <li>
              <p>小数类型为 <code>decima</code>l，禁止使用 <code>float </code>和<code> double</code>。 说明：<code>float </code>和 <code>double </code>在存储的时候，存在精度损失的问题，很可能在值的比较时，得到不 正确的结果。如果存储的数据范围超过 <code>decimal </code>的范围，建议将数据拆成整数和小数分开存储。</p>
            </li>
            <li>
              <p>如果存储的字符串长度几乎相等，使用<hanla></hanla><code>char</code>
                <hanla></hanla>定长字符串类型。
              </p>
            </li>
            <li>
              <p><code>varchar</code> 是可变长字符串，不预先分配存储空间，长度不要超过<code> 5000</code>，如果存储长度大于此值，定义字段类型为 <code>text</code>，独立出来一张表，用主键来对应，避免影响其它字段索 引效率。</p>
            </li>
            <li>
              <p>唯一索引名为 <code>uk</code>_<hanla></hanla>字段名；普通索引名则为 <code>idx</code>_<hanla></hanla>字段名。</p>
            </li>
            <li>
              <p>不得使用外键与级联，一切外键概念必须在应用层解决。外键与级联更新适用于单机低并发，不适合分布式、高并发集群；级联更新是强阻塞，存在数据库更新风暴的风险；外键影响数据库的插入速度。</p>
            </li>
          </ol>
          <h4 id="代码生成器"><a href="#代码生成器" class="headerlink" title="代码生成器"></a>代码生成器</h4>
          <ul>
            <li>
              <p>添加代码生成器依赖</p>
              <figure class="highlight xml">
                <table>
                  <tbody>
                    <tr>
                      <td class="gutter">
                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre>
                      </td>
                      <td class="code">
                        <pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-generator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.velocity<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>velocity-engine-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </figure>
            </li>
            <li>
              <p>修改代码中<code>路径、数据库、包和表</code>，复制到<hanla></hanla><code>test</code>
                <hanla></hanla>目录下
              </p>
            </li>
            <li>
              <p><code>MP</code>
                <hanla></hanla>代码生成器
              </p>
              <figure class="highlight java">
                <table>
                  <tbody>
                    <tr>
                      <td class="gutter">
                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre>
                      </td>
                      <td class="code">
                        <pre><span class="line"><span class="keyword">package</span> core;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.DbType;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.IdType;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.AutoGenerator;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.config.DataSourceConfig;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.config.GlobalConfig;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.config.PackageConfig;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.config.StrategyConfig;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.config.rules.NamingStrategy;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CodeGenerator</span> {</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">genCode</span><span class="params">()</span> {</span><br><span class="line">        <span class="comment">// 1、创建代码生成器</span></span><br><span class="line">        <span class="type">AutoGenerator</span> <span class="variable">mpg</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AutoGenerator</span>();</span><br><span class="line">        <span class="comment">// 2、全局配置</span></span><br><span class="line">        <span class="type">GlobalConfig</span> <span class="variable">gc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GlobalConfig</span>();</span><br><span class="line">        <span class="type">String</span> <span class="variable">projectPath</span> <span class="operator">=</span> System.getProperty(<span class="string">"user.dir"</span>);</span><br><span class="line">        gc.setOutputDir(<span class="string">"E:\\code\\srb\\service-core"</span> + <span class="string">"/src/main/java"</span>);</span><br><span class="line">        gc.setAuthor(<span class="string">"coder-itl"</span>);</span><br><span class="line">        gc.setOpen(<span class="literal">false</span>);</span><br><span class="line">        <span class="comment">// 生成后是否打开资源管理器</span></span><br><span class="line">        gc.setServiceName(<span class="string">"%sService"</span>);</span><br><span class="line">        <span class="comment">// 去掉<hanla></hanla>Service<hanla></hanla>接口的首字母<hanla></hanla>I</span></span><br><span class="line">        gc.setIdType(IdType.AUTO);</span><br><span class="line">        <span class="comment">// 主键策略</span></span><br><span class="line">        gc.setSwagger2(<span class="literal">true</span>);</span><br><span class="line">        <span class="comment">// 开启<hanla></hanla>Swagger2<hanla></hanla>模式</span></span><br><span class="line">        mpg.setGlobalConfig(gc);</span><br><span class="line">        <span class="comment">// 3、数据源配置</span></span><br><span class="line">        <span class="type">DataSourceConfig</span> <span class="variable">dsc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataSourceConfig</span>();</span><br><span class="line">        dsc.setUrl(<span class="string">"jdbc:mysql://localhost:3306/srb_core?serverTimezone=GMT%2B8&amp;characterEncoding=utf-8"</span>);</span><br><span class="line">        dsc.setDriverName(<span class="string">"com.mysql.cj.jdbc.Driver"</span>);</span><br><span class="line">        dsc.setUsername(<span class="string">"root"</span>);</span><br><span class="line">        dsc.setPassword(<span class="string">"root"</span>);</span><br><span class="line">        dsc.setDbType(DbType.MYSQL);</span><br><span class="line">        mpg.setDataSource(dsc);</span><br><span class="line">        <span class="comment">// 4、包配置</span></span><br><span class="line">        <span class="type">PackageConfig</span> <span class="variable">pc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PackageConfig</span>();</span><br><span class="line">        pc.setParent(<span class="string">"com.coderitl.srb.core"</span>);</span><br><span class="line">        pc.setEntity(<span class="string">"pojo.entity"</span>);</span><br><span class="line">        <span class="comment">// 此对象与数据库表结构一一对应，通过 DAO 层向上传输数据源对象。</span></span><br><span class="line">        mpg.setPackageInfo(pc);</span><br><span class="line">        <span class="comment">// 5、策略配置</span></span><br><span class="line">        <span class="type">StrategyConfig</span> <span class="variable">strategy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StrategyConfig</span>();</span><br><span class="line">        strategy.setNaming(NamingStrategy.underline_to_camel);</span><br><span class="line">        <span class="comment">// 数据库表映射到实体的命名策略</span></span><br><span class="line">        strategy.setColumnNaming(NamingStrategy.underline_to_camel);</span><br><span class="line">        <span class="comment">// 数据库表字段映射到实体的命名策略</span></span><br><span class="line">        strategy.setEntityLombokModel(<span class="literal">true</span>);</span><br><span class="line">        <span class="comment">// lombok</span></span><br><span class="line">        strategy.setLogicDeleteFieldName(<span class="string">"is_deleted"</span>);</span><br><span class="line">        <span class="comment">//<hanla></hanla>逻辑删除字段名</span></span><br><span class="line">        strategy.setEntityBooleanColumnRemoveIsPrefix(<span class="literal">true</span>);</span><br><span class="line">        <span class="comment">//<hanla></hanla>去掉布尔值的<hanla></hanla>is_<hanla></hanla>前缀（确保<hanla></hanla>tinyint(1)）</span></span><br><span class="line">        strategy.setRestControllerStyle(<span class="literal">true</span>);</span><br><span class="line">        <span class="comment">//restful api<hanla></hanla>风格控制器</span></span><br><span class="line">        mpg.setStrategy(strategy);</span><br><span class="line">        <span class="comment">// 6、执行</span></span><br><span class="line">        mpg.execute();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </figure>
            </li>
          </ul>
          <h4 id="在线工具"><a href="#在线工具" class="headerlink" title="在线工具"></a>在线工具</h4>
          <ul>
            <li>
              <p>格式化</p>
              <blockquote>
                <p><a target="_blank" rel="external nofollow noopener noreferrer" href="http://tools.jb51.net/code/java_format">http://tools.jb51.net/code/java_format</a></p>
              </blockquote>
            </li>
          </ul>
          <h4 id="阿里云短信业务的开通"><a href="#阿里云短信业务的开通" class="headerlink" title="阿里云短信业务的开通"></a>阿里云短信业务的开通</h4>
          <ul>
            <li>
              <p>前提</p>
              <blockquote>
                <p><code>不支持个人用户申请未上线业务</code>，若产品未上线建议使用<hanla></hanla><a target="_blank" rel="external nofollow noopener noreferrer" href="https://dysms.console.aliyun.com/quickstart?spm=5176.25163407.domtextsigncreate-index-1ec3c_58c50_0.1.53f7bb6eoj30B7">API<hanla></hanla>发送测试功能 </a>或<a target="_blank" rel="external nofollow noopener noreferrer" href="https://help.aliyun.com/knowledge_detail/37178.html"> 升级企业账号</a></p>
              </blockquote>
            </li>
            <li>
              <p>流程分析</p>
              <table>
                <thead>
                  <tr>
                    <th align="center">发送短信流程分析</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/5fcd13a7301547ec8326fe6c098b4a83.png"></td>
                  </tr>
                </tbody>
              </table>
            </li>
            <li>
              <p>搜索短信服务</p>
              <table>
                <thead>
                  <tr>
                    <th align="center">短信服务</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/9f68e6d7cc0a4577821811141fb5672f.png"></td>
                  </tr>
                </tbody>
              </table>
            </li>
            <li>
              <p>个人用户使用测试</p>
              <table>
                <thead>
                  <tr>
                    <th align="center">测试</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/724cf9b8351a4d64b593b20dcd35a667.png"></td>
                  </tr>
                </tbody>
              </table>
            </li>
            <li>
              <p>属性获取工具类</p>
              <figure class="highlight yml">
                <table>
                  <tbody>
                    <tr>
                      <td class="gutter">
                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre>
                      </td>
                      <td class="code">
                        <pre><span class="line"></span><br><span class="line"><span class="comment">#阿里云短信<hanla></hanla></span></span><br><span class="line"><span class="attr">aliyun:</span></span><br><span class="line">  <span class="attr">sms:</span></span><br><span class="line">    <span class="attr">region-id:</span> <span class="string">cn-langzhou</span></span><br><span class="line">    <span class="attr">key-id:</span> <span class="string">LTAI5t7Ltpt38cxPFQLfHgg92</span></span><br><span class="line">    <span class="attr">key-secret:</span> <span class="string">oowxyilBE0KUeTaBiouLvz10xfzEj12</span></span><br><span class="line">    <span class="attr">template-code:</span> <span class="string">SMS_1549509092</span></span><br><span class="line">    <span class="attr">sign-name:</span> <span class="string">阿里云短信测试<hanla></hanla></span></span><br><span class="line"></span><br></pre>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </figure>
              <figure class="highlight java">
                <table>
                  <tbody>
                    <tr>
                      <td class="gutter">
                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre>
                      </td>
                      <td class="code">
                        <pre><span class="line"><span class="keyword">package</span> com.coderitl.srb.sms.utils;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 读取配置文件属性</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = "aliyun.sms")</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SmsProperties</span> <span class="keyword">implements</span> <span class="title class_">InitializingBean</span> {</span><br><span class="line">    <span class="keyword">private</span> String regionId;</span><br><span class="line">    <span class="keyword">private</span> String keyId;</span><br><span class="line">    <span class="keyword">private</span> String keySecret;</span><br><span class="line">    <span class="keyword">private</span> String templateCode;</span><br><span class="line">    <span class="keyword">private</span> String signName;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String REGION_Id;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String KEY_ID;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String KEY_SECRET;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String TEMPLATE_CODE;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String SIGN_NAME;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 当私有成员被赋值后，此方法自动被调用，从而初始化常量</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterPropertiesSet</span><span class="params">()</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        REGION_Id = regionId;</span><br><span class="line">        KEY_ID = keyId;</span><br><span class="line">        KEY_SECRET = keySecret;</span><br><span class="line">        TEMPLATE_CODE = templateCode;</span><br><span class="line">        SIGN_NAME = signName;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </figure>
            </li>
            <li>
              <p><code>YML</code>
                <hanla></hanla>自动感知配置
              </p>
              <ul>
                <li>
                  <p>添加依赖</p>
                  <figure class="highlight xml">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-configuration-processor<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                </li>
                <li>
                  <p>出现如下内容，进行项目重新构建</p>
                  <table>
                    <thead>
                      <tr>
                        <th align="center">①</th>
                        <th align="center">②</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/15010cc4e4234e9e8023c19cdfc4e623.png"></td>
                        <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/67e646548bfb4a0caf74b864c83eaad7.png"></td>
                      </tr>
                    </tbody>
                  </table>
                  <table>
                    <thead>
                      <tr>
                        <th align="center">③</th>
                        <th align="center">④(出现感知)</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/bf48c09252ba4187bfffafde87c89fa6.png"></td>
                        <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/c7fc5c2d49d84a71a2370dccfe8b670a.png"></td>
                      </tr>
                    </tbody>
                  </table>
                </li>
                <li>
                  <p><code>Test</code>
                    <hanla></hanla>包引起的错误<hanla></hanla>(<code>结果都是正常输出</code>)
                  </p>
                  <table>
                    <thead>
                      <tr>
                        <th><code>import org.junit.jupiter.api.Test;</code></th>
                        <th align="center"><code>import org.junit.Test;</code></th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/209e4e41f08e4a0bb5390f9eb6a8cc2c.png"></td>
                        <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/c06b709a34d14c8492f2d95b9fae8d4b.png"></td>
                      </tr>
                    </tbody>
                  </table>
                </li>
                <li>
                  <p><code>SDK</code></p>
                  <table>
                    <thead>
                      <tr>
                        <th align="center">发送请求</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/614ba9855f9944509e2aa3f8e138d518.png"></td>
                      </tr>
                    </tbody>
                  </table>
                </li>
                <li>
                  <p>创建<hanla></hanla><code>SmsService</code></p>
                  <figure class="highlight java">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="keyword">package</span> com.coderitl.srb.sms.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">SmsService</span> {</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">send</span><span class="params">(String mobile, String templateCode, Map&lt;String,Object&gt; param)</span>;</span><br><span class="line">}</span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                  <ul>
                    <li>
                      <p>创建实现<hanla></hanla><code>SmsServiceImpl</code></p>
                      <figure class="highlight java">
                        <table>
                          <tbody>
                            <tr>
                              <td class="gutter">
                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre>
                              </td>
                              <td class="code">
                                <pre><span class="line"><span class="keyword">package</span> com.coderitl.srb.sms.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SmsServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">SmsService</span> {</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">send</span><span class="params">(String mobile, String templateCode, Map&lt;String,Object&gt; param)</span> {</span><br><span class="line"></span><br><span class="line">        <span class="comment">//<hanla></hanla>创建远程连接客户端对象</span></span><br><span class="line">        <span class="type">DefaultProfile</span> <span class="variable">profile</span> <span class="operator">=</span> DefaultProfile.getProfile(</span><br><span class="line">                SmsProperties.REGION_Id,</span><br><span class="line">                SmsProperties.KEY_ID,</span><br><span class="line">                SmsProperties.KEY_SECRET);</span><br><span class="line">        <span class="type">IAcsClient</span> <span class="variable">client</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DefaultAcsClient</span>(profile);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//<hanla></hanla>创建远程连接的请求参数</span></span><br><span class="line">        <span class="type">CommonRequest</span> <span class="variable">request</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CommonRequest</span>();</span><br><span class="line">        request.setSysMethod(MethodType.POST);</span><br><span class="line">        request.setSysDomain(<span class="string">"dysmsapi.aliyuncs.com"</span>);</span><br><span class="line">        request.setSysVersion(<span class="string">"2017-05-25"</span>);</span><br><span class="line">        request.setSysAction(<span class="string">"SendSms"</span>);</span><br><span class="line">        request.putQueryParameter(<span class="string">"RegionId"</span>, SmsProperties.REGION_Id);</span><br><span class="line">        request.putQueryParameter(<span class="string">"PhoneNumbers"</span>, mobile);</span><br><span class="line">        request.putQueryParameter(<span class="string">"SignName"</span>, SmsProperties.SIGN_NAME);</span><br><span class="line">        request.putQueryParameter(<span class="string">"TemplateCode"</span>, templateCode);</span><br><span class="line"></span><br><span class="line">        <span class="type">Gson</span> <span class="variable">gson</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Gson</span>();</span><br><span class="line">        <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> gson.toJson(param);</span><br><span class="line">        request.putQueryParameter(<span class="string">"TemplateParam"</span>, json);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            <span class="comment">//<hanla></hanla>使用客户端对象携带请求对象发送请求并得到响应结果</span></span><br><span class="line">            <span class="type">CommonResponse</span> <span class="variable">response</span> <span class="operator">=</span> client.getCommonResponse(request);</span><br><span class="line">            <span class="type">boolean</span> <span class="variable">success</span> <span class="operator">=</span> response.getHttpResponse().isSuccess();</span><br><span class="line">            <span class="comment">//ALIYUN_RESPONSE_FAIL(-501, "阿里云响应失败"),</span></span><br><span class="line">            Assert.isTrue(success, ResponseEnum.ALIYUN_RESPONSE_FAIL);</span><br><span class="line"></span><br><span class="line">            <span class="type">String</span> <span class="variable">data</span> <span class="operator">=</span> response.getData();</span><br><span class="line">            HashMap&lt;String, String&gt; resultMap = gson.fromJson(data, HashMap.class);</span><br><span class="line">            <span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> resultMap.get(<span class="string">"Code"</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">message</span> <span class="operator">=</span> resultMap.get(<span class="string">"Message"</span>);</span><br><span class="line">            log.info(<span class="string">"阿里云短信发送响应结果："</span>);</span><br><span class="line">            log.info(<span class="string">"code："</span> + code);</span><br><span class="line">            log.info(<span class="string">"message："</span> + message);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//ALIYUN_SMS_LIMIT_CONTROL_ERROR(-502, "短信发送过于频繁"),//<hanla></hanla>业务限流</span></span><br><span class="line">            Assert.notEquals(<span class="string">"isv.BUSINESS_LIMIT_CONTROL"</span>, code, ResponseEnum.ALIYUN_SMS_LIMIT_CONTROL_ERROR);</span><br><span class="line">            <span class="comment">//ALIYUN_SMS_ERROR(-503, "短信发送失败"),//<hanla></hanla>其他失败</span></span><br><span class="line">            Assert.equals(<span class="string">"OK"</span>, code, ResponseEnum.ALIYUN_SMS_ERROR);</span><br><span class="line"></span><br><span class="line">        } <span class="keyword">catch</span> (ServerException e) {</span><br><span class="line">            log.error(<span class="string">"阿里云短信发送<hanla></hanla>SDK<hanla></hanla>调用失败："</span>);</span><br><span class="line">            log.error(<span class="string">"ErrorCode="</span> + e.getErrCode());</span><br><span class="line">            log.error(<span class="string">"ErrorMessage="</span> + e.getErrMsg());</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">BusinessException</span>(ResponseEnum.ALIYUN_SMS_ERROR , e);</span><br><span class="line">        } <span class="keyword">catch</span> (ClientException e) {</span><br><span class="line">            log.error(<span class="string">"阿里云短信发送<hanla></hanla>SDK<hanla></hanla>调用失败："</span>);</span><br><span class="line">            log.error(<span class="string">"ErrorCode="</span> + e.getErrCode());</span><br><span class="line">            log.error(<span class="string">"ErrorMessage="</span> + e.getErrMsg());</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">BusinessException</span>(ResponseEnum.ALIYUN_SMS_ERROR , e);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </figure>
                    </li>
                    <li>
                      <p>生成验证码工具类</p>
                      <figure class="highlight java">
                        <table>
                          <tbody>
                            <tr>
                              <td class="gutter">
                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre>
                              </td>
                              <td class="code">
                                <pre><span class="line"><span class="keyword">package</span> com.coderitl.common.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.text.DecimalFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 生成四位和六位的随机数字</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RandomUtils</span> {</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Random</span> <span class="variable">random</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">DecimalFormat</span> <span class="variable">fourdf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DecimalFormat</span>(<span class="string">"0000"</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">DecimalFormat</span> <span class="variable">sixdf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DecimalFormat</span>(<span class="string">"000000"</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">getFourBitRandom</span><span class="params">()</span> {</span><br><span class="line">		<span class="keyword">return</span> fourdf.format(random.nextInt(<span class="number">10000</span>));</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">getSixBitRandom</span><span class="params">()</span> {</span><br><span class="line">		<span class="keyword">return</span> sixdf.format(random.nextInt(<span class="number">1000000</span>));</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 给定数组，抽取<hanla></hanla>n<hanla></hanla>个数据</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> list</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> n</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> ArrayList <span class="title function_">getRandom</span><span class="params">(List list, <span class="type">int</span> n)</span> {</span><br><span class="line"></span><br><span class="line">		<span class="type">Random</span> <span class="variable">random</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line"></span><br><span class="line">		HashMap&lt;Object, Object&gt; hashMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;Object, Object&gt;();</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 生成随机数字并存入<hanla></hanla>HashMap</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; list.size(); i++) {</span><br><span class="line"></span><br><span class="line">			<span class="type">int</span> <span class="variable">number</span> <span class="operator">=</span> random.nextInt(<span class="number">100</span>) + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">			hashMap.put(number, i);</span><br><span class="line">		}</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 从<hanla></hanla>HashMap<hanla></hanla>导入数组</span></span><br><span class="line">		Object[] robjs = hashMap.values().toArray();</span><br><span class="line"></span><br><span class="line">		<span class="type">ArrayList</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 遍历数组并打印数据</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) {</span><br><span class="line">			r.add(list.get((<span class="type">int</span>) robjs[i]));</span><br><span class="line">			System.out.print(list.get((<span class="type">int</span>) robjs[i]) + <span class="string">"\t"</span>);</span><br><span class="line">		}</span><br><span class="line">		System.out.print(<span class="string">"\n"</span>);</span><br><span class="line">		<span class="keyword">return</span> r;</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br></pre>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </figure>
                    </li>
                    <li>
                      <p>手机号验证正则</p>
                      <figure class="highlight java">
                        <table>
                          <tbody>
                            <tr>
                              <td class="gutter">
                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre>
                              </td>
                              <td class="code">
                                <pre><span class="line"><span class="keyword">package</span> com.coderitl.common.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.regex.Matcher;</span><br><span class="line"><span class="keyword">import</span> java.util.regex.Pattern;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 使用正则表达式进行表单验证</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegexValidateUtils</span> {</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">String</span> <span class="variable">regex</span> <span class="operator">=</span> <span class="string">""</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">check</span><span class="params">(String str, String regex)</span> {</span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            <span class="type">Pattern</span> <span class="variable">pattern</span> <span class="operator">=</span> Pattern.compile(regex);</span><br><span class="line">            <span class="type">Matcher</span> <span class="variable">matcher</span> <span class="operator">=</span> pattern.matcher(str);</span><br><span class="line">            flag = matcher.matches();</span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            flag = <span class="literal">false</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> flag;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 验证邮箱</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> email</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">checkEmail</span><span class="params">(String email)</span> {</span><br><span class="line">        <span class="type">String</span> <span class="variable">regex</span> <span class="operator">=</span> <span class="string">"^\\w+[-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$ "</span>;</span><br><span class="line">        <span class="keyword">return</span> check(email, regex);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 验证手机号码</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * 移动号码段:139、138、137、136、135、134、150、151、152、157、158、159、182、183、187、188、147</span></span><br><span class="line"><span class="comment">     * 联通号码段:130、131、132、136、185、186、145</span></span><br><span class="line"><span class="comment">     * 电信号码段:133、153、180、189</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> cellphone</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">checkCellphone</span><span class="params">(String cellphone)</span> {</span><br><span class="line">        <span class="comment">// String regex = "^((13[0-9])|(14[5|7])|(15([0-3]|[5-9]))|(18[0,5-9]))\\d{8}$"; https://www.jianshu.com/p/1e8eab706a63</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">regex</span> <span class="operator">=</span> <span class="string">"^1(3\\d|4[5-9]|5[0-35-9]|6[567]|7[0-8]|8\\d|9[0-35-9])\\d{8}$"</span>;</span><br><span class="line">        <span class="keyword">return</span> check(cellphone, regex);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 验证固话号码</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> telephone</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">checkTelephone</span><span class="params">(String telephone)</span> {</span><br><span class="line">        <span class="type">String</span> <span class="variable">regex</span> <span class="operator">=</span> <span class="string">"^(0\\d{2}-\\d{8}(-\\d{1,4})?)|(0\\d{3}-\\d{7,8}(-\\d{1,4})?)$"</span>;</span><br><span class="line">        <span class="keyword">return</span>  check(telephone, regex);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 验证传真号码</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> fax</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">checkFax</span><span class="params">(String fax)</span> {</span><br><span class="line">        <span class="type">String</span> <span class="variable">regex</span> <span class="operator">=</span> <span class="string">"^(0\\d{2}-\\d{8}(-\\d{1,4})?)|(0\\d{3}-\\d{7,8}(-\\d{1,4})?)$"</span>;</span><br><span class="line">        <span class="keyword">return</span> check(fax, regex);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 验证<hanla></hanla>QQ<hanla></hanla>号码</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> QQ</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">checkQQ</span><span class="params">(String QQ)</span> {</span><br><span class="line">        <span class="type">String</span> <span class="variable">regex</span> <span class="operator">=</span> <span class="string">"^[1-9][0-9]{4,} $"</span>;</span><br><span class="line">        <span class="keyword">return</span> check(QQ, regex);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </figure>
                    </li>
                  </ul>
                </li>
                <li>
                  <p>控制器</p>
                  <figure class="highlight java">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="keyword">package</span> com.coderitl.srb.sms.controller.api;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.coderitl.common.exception.Assert;</span><br><span class="line"><span class="keyword">import</span> com.coderitl.common.result.ResponseEnum;</span><br><span class="line"><span class="keyword">import</span> com.coderitl.common.result.Result;</span><br><span class="line"><span class="keyword">import</span> com.coderitl.common.utils.RandomUtils;</span><br><span class="line"><span class="keyword">import</span> com.coderitl.common.utils.RegexValidateUtils;</span><br><span class="line"><span class="keyword">import</span> com.coderitl.srb.sms.service.SmsService;</span><br><span class="line"><span class="keyword">import</span> com.coderitl.srb.sms.utils.SmsProperties;</span><br><span class="line"><span class="keyword">import</span> io.swagger.annotations.Api;</span><br><span class="line"><span class="keyword">import</span> io.swagger.annotations.ApiParam;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.redis.core.RedisTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutionException;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.TimeUnit;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@CrossOrigin</span> <span class="comment">//<hanla></hanla>跨域<hanla></hanla></span></span><br><span class="line"><span class="meta">@Api(tags = "短信管理")</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping("/api/sms")</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ApiSmsController</span> {</span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> SmsService smsService;</span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> RedisTemplate redisTemplate;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@GetMapping("/send/{mobile}")</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">send</span><span class="params">(</span></span><br><span class="line"><span class="params">            <span class="meta">@ApiParam(value = "手机号", required = true)</span></span></span><br><span class="line"><span class="params">            <span class="meta">@PathVariable</span> String mobile</span></span><br><span class="line"><span class="params">    )</span> <span class="keyword">throws</span> ExecutionException, InterruptedException {</span><br><span class="line">        log.info(<span class="string">"手机号码: [{}]"</span>, mobile);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 检验手机号为空</span></span><br><span class="line">        Assert.notEmpty(mobile, ResponseEnum.MOBILE_NULL_ERROR);</span><br><span class="line">        <span class="comment">// 是否是合法的手机号码</span></span><br><span class="line">        Assert.isTrue(RegexValidateUtils.checkCellphone(mobile), ResponseEnum.MOBILE_ERROR);</span><br><span class="line">        </span><br><span class="line">        HashMap&lt;String, Object&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> RandomUtils.getFourBitRandom();</span><br><span class="line">        map.put(<span class="string">"code"</span>, code);</span><br><span class="line">        smsService.send(mobile, SmsProperties.TEMPLATE_CODE, map);</span><br><span class="line">        <span class="comment">// 将验证码存储在 redis 用于校验</span></span><br><span class="line">        <span class="comment">// redisTemplate.opsForValue().set("srb:sms:code:" + mobile, code, 5, TimeUnit.MINUTES);</span></span><br><span class="line">        <span class="keyword">return</span> Result.success().message(<span class="string">"短信发送成功"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                </li>
              </ul>
            </li>
          </ul>
          <h4 id="阿里云对象存储服务"><a href="#阿里云对象存储服务" class="headerlink" title="阿里云对象存储服务"></a>阿里云对象存储服务</h4>
          <ul>
            <li>
              <p>搜索<hanla></hanla><code>oss</code></p>
              <table>
                <thead>
                  <tr>
                    <th align="center"><code>oss</code></th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/31650f97df78462ca83cab13849efc77.png"></td>
                  </tr>
                </tbody>
              </table>
            </li>
            <li>
              <p>开通</p>
            </li>
            <li>
              <p>进入管理控制台</p>
              <table>
                <thead>
                  <tr>
                    <th align="center">进入管理控制台</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/0bbdd3c2111e4d4db90e8a05f913ed2a.png"></td>
                  </tr>
                </tbody>
              </table>
            </li>
            <li>
              <p>创建<hanla></hanla><code>Bucket</code></p>
              <ul>
                <li>开启公共<code>读</code></li>
              </ul>
            </li>
            <li>
              <p>文件管理</p>
              <ul>
                <li>
                  <p>概述: 获取地域节点</p>
                  <table>
                    <thead>
                      <tr>
                        <th align="center">地域节点</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/55e23955475d4885a481dee632c58944.png"></td>
                      </tr>
                    </tbody>
                  </table>
                </li>
                <li>
                  <p>上传后获取文件的<hanla></hanla><code>url</code>
                    <hanla></hanla>地址
                  </p>
                  <figure class="highlight java">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 文件上传<hanla></hanla>(serviceImpl)</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> inputStream</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> module</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> fileName</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">upload</span><span class="params">(InputStream inputStream, String <span class="keyword">module</span>, String fileName)</span> {</span><br><span class="line">    <span class="comment">// 创建<hanla></hanla>OSSClient<hanla></hanla>实例。</span></span><br><span class="line">    <span class="type">OSS</span> <span class="variable">ossClient</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OSSClientBuilder</span>().build(</span><br><span class="line">        OssProperties.ENDPOINT,</span><br><span class="line">        OssProperties.KEY_ID,</span><br><span class="line">        OssProperties.KEY_SECRET);</span><br><span class="line">    <span class="comment">// 判断 oss 实例是否存在：如果不存在则创建，如果存在则获取</span></span><br><span class="line">    <span class="keyword">if</span> (!ossClient.doesBucketExist(OssProperties.BUCKET_NAME)) {</span><br><span class="line">        <span class="comment">// 创建<hanla></hanla>bucket</span></span><br><span class="line">        ossClient.createBucket(OssProperties.BUCKET_NAME);</span><br><span class="line">        <span class="comment">// 设置<hanla></hanla>oss<hanla></hanla>实例的访问权限：公共读</span></span><br><span class="line">        ossClient.setBucketAcl(OssProperties.BUCKET_NAME, CannedAccessControlList.PublicRead);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 构建日期路径：avatar/2022/10/02/<hanla></hanla>文件名</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">folder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DateTime</span>().toString(<span class="string">"yyyy/MM/dd"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 文件名：uuid.<hanla></hanla>扩展名</span></span><br><span class="line">    fileName = UUID.randomUUID().toString() + fileName.substring(fileName.lastIndexOf(<span class="string">"."</span>));</span><br><span class="line">    <span class="comment">// 文件根路径</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> <span class="keyword">module</span> + <span class="string">"/"</span> + folder + <span class="string">"/"</span> + fileName;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 文件上传至阿里云</span></span><br><span class="line">    ossClient.putObject(OssProperties.BUCKET_NAME, key, inputStream);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 关闭<hanla></hanla>OSSClient。</span></span><br><span class="line">    ossClient.shutdown();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 阿里云文件绝对路径</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"https://"</span> + OssProperties.BUCKET_NAME + <span class="string">"."</span> + OssProperties.ENDPOINT + <span class="string">"/"</span> + key;</span><br><span class="line">}</span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                  <figure class="highlight java">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="meta">@Resource</span></span><br><span class="line"><span class="keyword">private</span> FileService fileService;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 文件上传</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@ApiOperation("文件上传")</span></span><br><span class="line"><span class="meta">@PostMapping("/upload")</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">upload</span><span class="params">(</span></span><br><span class="line"><span class="params">    <span class="meta">@ApiParam(value = "文件", required = true)</span></span></span><br><span class="line"><span class="params">    <span class="meta">@RequestParam("file")</span> MultipartFile file,</span></span><br><span class="line"><span class="params"></span></span><br><span class="line"><span class="params">    <span class="meta">@ApiParam(value = "模块", required = true)</span></span></span><br><span class="line"><span class="params">    <span class="meta">@RequestParam("module")</span> String <span class="keyword">module</span>)</span> {</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> {</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> file.getInputStream();</span><br><span class="line">        <span class="type">String</span> <span class="variable">originalFilename</span> <span class="operator">=</span> file.getOriginalFilename();</span><br><span class="line">        <span class="comment">// 文件上传成功后的 url 地址</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">uploadUrl</span> <span class="operator">=</span> fileService.upload(inputStream, <span class="keyword">module</span>, originalFilename);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 返回 Result 对象</span></span><br><span class="line">        <span class="keyword">return</span> Result.success().message(<span class="string">"文件上传成功"</span>).data(<span class="string">"url"</span>, uploadUrl);</span><br><span class="line">    } <span class="keyword">catch</span> (IOException e) {</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">BusinessException</span>(ResponseEnum.UPLOAD_ERROR, e);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                  <table>
                    <thead>
                      <tr>
                        <th align="center">上传文件后获取<hanla></hanla><code>URL</code></th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/b952926d38e349839ee2632eaf49293c.png"></td>
                      </tr>
                    </tbody>
                  </table>
                </li>
                <li>
                  <p><code>delete</code>
                    <hanla></hanla>是一个特殊词，前端端使用时尽可能避免,<hanla></hanla>推荐使用<hanla></hanla><code>remove</code>
                  </p>
                  <ul>
                    <li>
                      <p>文件的<hanla></hanla><code>Object Name</code></p>
                      <table>
                        <thead>
                          <tr>
                            <th align="center"><code>Object Name</code></th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/db99751b9646421bbb39909e5d8be3f8.png"></td>
                          </tr>
                        </tbody>
                      </table>
                    </li>
                    <li>
                      <p>删除实现</p>
                      <figure class="highlight java">
                        <table>
                          <tbody>
                            <tr>
                              <td class="gutter">
                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre>
                              </td>
                              <td class="code">
                                <pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据路径删除文件<hanla></hanla>(ServiceImpl)</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> url</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">removeFile</span><span class="params">(String url)</span> {</span><br><span class="line">    <span class="comment">// 创建<hanla></hanla>OSSClient<hanla></hanla>实例。</span></span><br><span class="line">    <span class="type">OSS</span> <span class="variable">ossClient</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OSSClientBuilder</span>().build(</span><br><span class="line">        OssProperties.ENDPOINT,</span><br><span class="line">        OssProperties.KEY_ID,</span><br><span class="line">        OssProperties.KEY_SECRET);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 文件名（服务器上的文件路径）</span></span><br><span class="line">    <span class="comment">// https://oos-com-coderitl.oss-cn-hangzhou.aliyuncs.com/ 截断部分</span></span><br><span class="line">    <span class="comment">// test/2022/10/03/4ad1fa9d-f0eb-444a-b71d-b18e85e499a4.png 保留部分</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">host</span> <span class="operator">=</span> <span class="string">"https://"</span> + OssProperties.BUCKET_NAME + <span class="string">"."</span> + OssProperties.ENDPOINT + <span class="string">"/"</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">objectName</span> <span class="operator">=</span> url.substring(host.length());</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 删除文件</span></span><br><span class="line">    ossClient.deleteObject(OssProperties.BUCKET_NAME, objectName);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 关闭<hanla></hanla>OSSClient。</span></span><br><span class="line">    ossClient.shutdown();</span><br><span class="line">}</span><br></pre>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </figure>
                      <figure class="highlight java">
                        <table>
                          <tbody>
                            <tr>
                              <td class="gutter">
                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre>
                              </td>
                              <td class="code">
                                <pre><span class="line"><span class="meta">@ApiOperation("删除<hanla></hanla>OSS<hanla></hanla>文件")</span></span><br><span class="line"><span class="meta">@DeleteMapping("/remove")</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">remove</span><span class="params">(</span></span><br><span class="line"><span class="params">    <span class="meta">@ApiParam(value = "要删除的文件路径", required = true)</span></span></span><br><span class="line"><span class="params">    <span class="meta">@RequestParam("url")</span> String url)</span> {</span><br><span class="line">    fileService.removeFile(url);</span><br><span class="line">    <span class="keyword">return</span> Result.success().message(<span class="string">"删除成功"</span>);</span><br><span class="line">}</span><br></pre>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </figure>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
          <h4 id="使用-alias-命令自定义别名"><a href="#使用-alias-命令自定义别名" class="headerlink" title="使用 alias 命令自定义别名"></a>使用 alias 命令自定义别名</h4>
          <ul>
            <li>
              <p>关机</p>
              <figure class="highlight yml">
                <table>
                  <tbody>
                    <tr>
                      <td class="gutter">
                        <pre><span class="line">1</span><br></pre>
                      </td>
                      <td class="code">
                        <pre><span class="line"><span class="string">alias</span> <span class="string">myShutdown='shutdown</span> <span class="string">-h</span> <span class="string">now'</span></span><br></pre>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </figure>
            </li>
            <li>
              <p>使用 <code>unalias</code> 命令删除别名</p>
            </li>
            <li>
              <p>如果想要永久保存定义的<hanla></hanla><code>alias</code>，可以将其写入到 <code>/etc/profile</code> 或者 <code>~/.bash_rc </code>中去,<hanla></hanla>再使其生效<hanla></hanla><code>source ~/.bash_rc</code></p>
            </li>
            <li>
              <p>检查默认情况下<hanla></hanla><code>shell</code>
                <hanla></hanla>脚本中是否开启<hanla></hanla><code>alias</code>
                <hanla></hanla>扩展
              </p>
              <figure class="highlight sh">
                <table>
                  <tbody>
                    <tr>
                      <td class="gutter">
                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                      </td>
                      <td class="code">
                        <pre><span class="line">expand_aliases off</span><br><span class="line"><span class="comment"># 开启<hanla></hanla></span></span><br><span class="line">expand_aliases 	on</span><br></pre>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </figure>
            </li>
            <li>
              <p><code>git</code>
                <hanla></hanla>配置
              </p>
              <figure class="highlight sh">
                <table>
                  <tbody>
                    <tr>
                      <td class="gutter">
                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                      </td>
                      <td class="code">
                        <pre><span class="line">git config --global alias.co checkout</span><br><span class="line">git config --global alias.br branch</span><br><span class="line">git config --global alias.ci commit</span><br><span class="line">git config --global alias.st status</span><br></pre>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </figure>
            </li>
            <li>
              <p>自定义快捷方式</p>
              <figure class="highlight sh">
                <table>
                  <tbody>
                    <tr>
                      <td class="gutter">
                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
                      </td>
                      <td class="code">
                        <pre><span class="line"><span class="built_in">alias</span> addAll=<span class="string">'git add .'</span></span><br><span class="line"><span class="built_in">alias</span> ..=<span class="string">'cd ..'</span></span><br><span class="line"><span class="built_in">alias</span> pullMain=<span class="string">'git pull origin main'</span></span><br><span class="line"><span class="built_in">alias</span> pushMain=<span class="string">'git push origin main'</span></span><br><span class="line"><span class="built_in">alias</span> toBlub=<span class="string">'cd D:\\GithubCode\\Private\\source\\_posts'</span></span><br></pre>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </figure>
            </li>
            <li>
              <p>永久配置</p>
              <figure class="highlight sh">
                <table>
                  <tbody>
                    <tr>
                      <td class="gutter">
                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                      </td>
                      <td class="code">
                        <pre><span class="line"><span class="built_in">cd</span> /etc/profile.d</span><br><span class="line"><span class="comment"># 编辑<hanla></hanla>aliases<hanla></hanla>文件 写入自定义快捷方式内容<hanla></hanla></span></span><br><span class="line">vim aliases.sh </span><br></pre>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </figure>
            </li>
          </ul>
          <h4 id="单一服务器模式和单点登录"><a href="#单一服务器模式和单点登录" class="headerlink" title="单一服务器模式和单点登录"></a>单一服务器模式和单点登录</h4>
          <ul>
            <li>
              <p>单点登录</p>
              <table>
                <thead>
                  <tr>
                    <th align="center">流程图</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/bd129e2934e149c2a7f30439d973d7fc.png"></td>
                  </tr>
                </tbody>
              </table>
              <ul>
                <li>一般过程<ol>
                    <li>用户向服务器发送用户名和密码</li>
                    <li>验证服务器后，相关数据<hanla></hanla>(如用户名、用户角色等)<hanla></hanla>将保存在当前会话<hanla></hanla>(<code>session</code>)<hanla></hanla>中</li>
                    <li>服务器向用户返回<hanla></hanla><code>session_id</code>，<code>session</code>
                      <hanla></hanla>信息都会写入到用户的<hanla></hanla><code>Cookie</code>
                    </li>
                    <li>用户后续的请求都将通过<hanla></hanla><code>Cookie</code>
                      <hanla></hanla>中取出<hanla></hanla><code>session_id</code>
                      <hanla></hanla>传给服务器
                    </li>
                    <li>服务器收到<hanla></hanla><code>session_id</code>
                      <hanla></hanla>并对比之前保存的数据，确认用户身份
                    </li>
                  </ol>
                </li>
                <li>缺点<ul>
                    <li>单点性能压力，无法扩展</li>
                    <li>分布式架构中，需要<hanla></hanla><code>session</code>
                      <hanla></hanla>共享方案,<code>session</code>
                      <hanla></hanla>共享方案存在性能瓶颈
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>
              <p><code>SSO(Single Sign On)</code>
                <hanla></hanla>模式:<code>CAS<hanla></hanla>单点登录、OAuth2</code>
              </p>
              <table>
                <thead>
                  <tr>
                    <th align="center"><code>SSO</code></th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/cee44065358f46bcb2aaf41a4d972895.png"></td>
                  </tr>
                </tbody>
              </table>
              <blockquote>
                <p><code>SSO</code>: 在多个应用系统中，只需要登陆一次，就可以访问其他相互信任的应用系统</p>
              </blockquote>
            </li>
          </ul>
          <h4 id="Token-单点登录"><a href="#Token-单点登录" class="headerlink" title="Token 单点登录"></a>Token 单点登录</h4>
          <ul>
            <li>
              <p><code>Token</code>
                <hanla></hanla>模式
              </p>
              <table>
                <thead>
                  <tr>
                    <th align="center"><code>Token</code></th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/ad0ebc0123684574ab93099027d05377.png"></td>
                  </tr>
                </tbody>
              </table>
            </li>
            <li>
              <p>优点</p>
              <ul>
                <li>无状态:<code>token</code>
                  <hanla></hanla>是无状态、<code>session</code>
                  <hanla></hanla>是有状态的
                </li>
                <li>基于标准化:<code>
                    <hanla></hanla>可以采用标准化的 JSON Web Token(JWT)
                  </code></li>
              </ul>
            </li>
            <li>
              <p>缺点</p>
              <ul>
                <li>占用带宽</li>
                <li>无法在服务器端销毁</li>
              </ul>
            </li>
            <li>
              <p><code>JWT</code></p>
              <ul>
                <li>
                  <p>作用: <code>JWT</code>
                    <hanla></hanla>最重要的作用就是对<hanla></hanla><code>token</code>
                    <hanla></hanla>信息的防伪作用
                  </p>
                </li>
                <li>
                  <p>原理:</p>
                  <ol>
                    <li>
                      <p>一个<hanla></hanla><code>JWT</code>
                        <hanla></hanla>由三个部分组成: <code>JWT<hanla></hanla>头</code>、有效载荷、签名哈希
                      </p>
                    </li>
                    <li>
                      <p>最后由这三者组合进行<hanla></hanla><code>base64</code>
                        <hanla></hanla>编码得到<hanla></hanla><code>JWT</code>
                      </p>
                      <table>
                        <thead>
                          <tr>
                            <th align="center">组成</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/851e41b6c0e34ca7be5a111be4ec3d37.png"></td>
                          </tr>
                        </tbody>
                      </table>
                    </li>
                  </ol>
                </li>
                <li>
                  <p>有效载荷</p>
                  <blockquote>
                    <p>有效载荷部分,<hanla></hanla>是<hanla></hanla><code>JWT</code>
                      <hanla></hanla>的主题内容部分，也是一个<hanla></hanla><code>JSON</code>
                      <hanla></hanla>对象。包含需要传递的数据。<code>JWT</code>
                      <hanla></hanla>指定七个<code>默认字段</code>供选择
                    </p>
                  </blockquote>
                  <ol>
                    <li><code>sub</code>: 主题</li>
                    <li><code>iss</code> :<code>JWT</code>
                      <hanla></hanla>签发者
                    </li>
                    <li><code>aud</code>: 接<hanla></hanla><code>JWT</code>
                      <hanla></hanla>的一方
                    </li>
                    <li><code>iat</code>： <code>JWT</code>
                      <hanla></hanla>的签发时间
                    </li>
                    <li><code>exp</code>： <code>JWT</code>
                      <hanla></hanla>的过期时间,<hanla></hanla>这个过期时间必须要大于签发时间
                    </li>
                    <li><code>nbf</code>：定义在什么时间之前，该<hanla></hanla><code>JWT</code>
                      <hanla></hanla>都是不可用的
                    </li>
                    <li><code>jti</code>: <code>JWT</code>
                      <hanla></hanla>的唯一身份标识，主要用来作为一次性<hanla></hanla><code>token</code>，从而回避重放攻击
                    </li>
                  </ol>
                  <blockquote>
                    <p>除默认字段外，我们还可以自定义<code>私有字段</code></p>
                  </blockquote>
                </li>
              </ul>
            </li>
            <li>
              <p><code>JWT</code>
                <hanla></hanla>的问题和趋势
              </p>
              <ol>
                <li><code>JWT</code>
                  <hanla></hanla>默认不加密，但可以加密，生成原始令牌后，可以使用该令牌再次对其进行加密
                </li>
                <li>当<hanla></hanla><code>JWT</code>
                  <hanla></hanla>未加密是，一般私密数据无法通过<hanla></hanla><code>JWT</code>
                  <hanla></hanla>传输
                </li>
                <li><code>JWT</code>
                  <hanla></hanla>不仅可以用于认证、还可以用于信息交换。善用<hanla></hanla><code>JWT</code>
                  <hanla></hanla>有助于减少服务器请求数据库的次数
                </li>
                <li><code>JWT</code>
                  <hanla></hanla>的最大缺点是服务器不保存会话状态，所以在使用期间不可能取消令牌或者更改令牌的权限。也就是说，一旦<hanla></hanla><code>JWT</code>
                  <hanla></hanla>签发，在有效期内将会一直有效
                </li>
                <li><code>JWT</code>
                  <hanla></hanla>本身包含认证信息，因此一旦信息泄露，任何人都可以获得令牌的所有权限。为了减少盗用，<code>JWT</code>
                  <hanla></hanla>的有效期内不易设置太长。对于某些重要操作，用户在使用时应该每次都进行身份验证
                </li>
                <li>为了减少盗用和窃取，<code>JWT</code>
                  <hanla></hanla>不建议使用<hanla></hanla><code>HTTP</code>
                  <hanla></hanla>协议来传输代码，而是使用<hanla></hanla><code>HTTPS</code>
                  <hanla></hanla>协议进行传输
                </li>
              </ol>
            </li>
            <li>
              <p><code>token</code></p>
              <ul>
                <li>
                  <p>添加依赖</p>
                  <figure class="highlight xml">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="comment">&lt;!-- JWT --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.jsonwebtoken<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jjwt<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.7.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                </li>
                <li>
                  <p>生成<hanla></hanla><code>token</code></p>
                  <figure class="highlight java">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 生成 JWT 测试</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="meta">@Test</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testCreateToken</span><span class="params">()</span> {</span><br><span class="line">       <span class="type">String</span> <span class="variable">token</span> <span class="operator">=</span> Jwts.builder()</span><br><span class="line">               .setHeaderParam(<span class="string">"typ"</span>, <span class="string">"JWT"</span>) <span class="comment">//<hanla></hanla>令牌类型</span></span><br><span class="line">               .setHeaderParam(<span class="string">"alg"</span>, <span class="string">"HS256"</span>) <span class="comment">//<hanla></hanla>签名算法</span></span><br><span class="line">               </span><br><span class="line">               .setSubject(<span class="string">"guli-user"</span>) <span class="comment">// 令牌主题</span></span><br><span class="line">               .setIssuer(<span class="string">"coder-itl"</span>)<span class="comment">// 签发者</span></span><br><span class="line">               .setAudience(<span class="string">"coder-itl"</span>)<span class="comment">// 接收者</span></span><br><span class="line">               .setIssuedAt(<span class="keyword">new</span> <span class="title class_">Date</span>())<span class="comment">// 签发时间</span></span><br><span class="line">               .setExpiration(<span class="keyword">new</span> <span class="title class_">Date</span>(System.currentTimeMillis() + tokenExpiration)) <span class="comment">// 过期时间</span></span><br><span class="line">               .setNotBefore(<span class="keyword">new</span> <span class="title class_">Date</span>(System.currentTimeMillis() + <span class="number">20</span> * <span class="number">1000</span>)) <span class="comment">// 20<hanla></hanla>秒后可用</span></span><br><span class="line">               .setId(UUID.randomUUID().toString())</span><br><span class="line">               </span><br><span class="line">               .claim(<span class="string">"nickname"</span>, <span class="string">"coder-itl"</span>)</span><br><span class="line">               .claim(<span class="string">"avatar"</span>, <span class="string">"1.jpg"</span>)</span><br><span class="line">               </span><br><span class="line">               .signWith(SignatureAlgorithm.HS256, tokenSignKey) <span class="comment">// 签名哈希</span></span><br><span class="line">               .compact(); <span class="comment">// 转换成字符串</span></span><br><span class="line">       </span><br><span class="line">       System.out.println(token);</span><br><span class="line">   }</span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                </li>
                <li>
                  <p>验证<hanla></hanla><code>token</code></p>
                  <figure class="highlight java">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testGetUserInfo</span><span class="params">()</span>{</span><br><span class="line">        </span><br><span class="line">        <span class="type">String</span> <span class="variable">token</span> <span class="operator">=</span> <span class="string">"token<hanla></hanla>串"</span>;</span><br><span class="line">        Jws&lt;Claims&gt; claimsJws = Jwts.parser().setSigningKey(tokenSignKey).parseClaimsJws(token);</span><br><span class="line">        </span><br><span class="line">        <span class="type">Claims</span> <span class="variable">claims</span> <span class="operator">=</span> claimsJws.getBody();</span><br><span class="line">        </span><br><span class="line">        <span class="type">String</span> <span class="variable">subject</span> <span class="operator">=</span> claims.getSubject();</span><br><span class="line">        <span class="type">String</span> <span class="variable">issuer</span> <span class="operator">=</span> claims.getIssuer();</span><br><span class="line">        <span class="type">String</span> <span class="variable">audience</span> <span class="operator">=</span> claims.getAudience();</span><br><span class="line">        <span class="type">Date</span> <span class="variable">issuedAt</span> <span class="operator">=</span> claims.getIssuedAt();</span><br><span class="line">        <span class="type">Date</span> <span class="variable">expiration</span> <span class="operator">=</span> claims.getExpiration();</span><br><span class="line">        <span class="type">Date</span> <span class="variable">notBefore</span> <span class="operator">=</span> claims.getNotBefore();</span><br><span class="line">        <span class="type">String</span> <span class="variable">id</span> <span class="operator">=</span> claims.getId();</span><br><span class="line">        </span><br><span class="line">        System.out.println(subject);</span><br><span class="line">        System.out.println(issuer);</span><br><span class="line">        System.out.println(audience);</span><br><span class="line">        System.out.println(issuedAt);</span><br><span class="line">        System.out.println(expiration);</span><br><span class="line">        System.out.println(notBefore);</span><br><span class="line">        System.out.println(id);;</span><br><span class="line">        </span><br><span class="line">        <span class="type">String</span> <span class="variable">nickname</span> <span class="operator">=</span> (String)claims.get(<span class="string">"nickname"</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">avatar</span> <span class="operator">=</span> (String)claims.get(<span class="string">"avatar"</span>);</span><br><span class="line">        </span><br><span class="line">        System.out.println(nickname);</span><br><span class="line">        System.out.println(avatar);</span><br><span class="line">    }</span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                </li>
              </ul>
            </li>
          </ul>
          <h4 id="SEO"><a href="#SEO" class="headerlink" title="SEO"></a>SEO</h4>
          <ul>
            <li>
              <p><code>seo:</code> 是网站为了提高自已的网站排名，获得更多的流量，<code>对网站的结构及内容进行调整和优化</code>，以便搜索引擎 （<code>百度，google</code>
                <hanla></hanla>等）更好抓取到优质网站的内容。
              </p>
            </li>
            <li>
              <p>流程</p>
              <table>
                <thead>
                  <tr>
                    <th align="center">搜索引擎工作流程</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/d7fde3ba2acb41b0bf42c6e71afc3883.png"></td>
                  </tr>
                </tbody>
              </table>
            </li>
            <li>
              <p>常见的<hanla></hanla><code>SEO</code>
                <hanla></hanla>方法
              </p>
              <ul>
                <li>对<hanla></hanla><code>url</code>
                  <hanla></hanla>链接的规范化，多用<hanla></hanla><code>restful</code>
                  <hanla></hanla>风格的<hanla></hanla><code>url</code>，多用静态资源<hanla></hanla><code>url</code>；
                </li>
                <li>注意<hanla></hanla><code>keywords、description、title</code>
                  <hanla></hanla>的设置；
                </li>
                <li><code>h1-h6、a</code>
                  <hanla></hanla>标签的使用
                </li>
              </ul>
            </li>
          </ul>
          <h4 id="服务端渲染与客户端渲染"><a href="#服务端渲染与客户端渲染" class="headerlink" title="服务端渲染与客户端渲染"></a>服务端渲染与客户端渲染</h4>
          <ul>
            <li>
              <p>什么是服务端渲染</p>
              <div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i>
                <p>服务端渲染又称 <code>SSR</code> (<code>Server Side Render</code>)<hanla></hanla>是在服务端完成页面的内容渲染，而不是在客户端完成页面内容的渲染</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th align="center">服务端渲染</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/c30dfd7ba6c946969dffbc72298ad237.png"></td>
                  </tr>
                </tbody>
              </table>
              <ul>
                <li>服务端渲染特点<ul>
                    <li>在服务端生成<hanla></hanla><code>html</code>
                      <hanla></hanla>网页的<hanla></hanla><code>dom</code>
                      <hanla></hanla>元素
                    </li>
                    <li>客户端<hanla></hanla>(<code>浏览器</code>)<hanla></hanla>只负责显示<hanla></hanla><code>dom</code>
                      <hanla></hanla>元素内容
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>
              <p>客户端渲染</p>
              <div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i>
                <p>客户端<hanla></hanla>(浏览器)<hanla></hanla>使用<hanla></hanla><code>Ajax</code>
                  <hanla></hanla>向服务端发起<hanla></hanla><code>http</code>
                  <hanla></hanla>请求，获取到了想要的数据，开始渲染<hanla></hanla><code>html</code>
                  <hanla></hanla>网页，生成的<hanla></hanla><code>dom</code>
                  <hanla></hanla>元素，并最终将网页内容展示给用户
                </p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th align="center">客户端渲染</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/91f565223ce147b49eece9bdc20d6f60.png"></td>
                  </tr>
                </tbody>
              </table>
            </li>
            <li>
              <p>两种方式的优缺点</p>
              <ul>
                <li>客户端渲染<ul>
                    <li>缺点: 不利于网站进行<hanla></hanla><code>SEO</code>，因为网站大量使用<hanla></hanla><code>javascript</code>
                      <hanla></hanla>技术，不利于搜索抓取网页
                    </li>
                    <li>优点: 客户端负责渲染，用户体验型好，服务端只提供数据不关心用户界面的内容，有利于提高服务端的开发效率</li>
                    <li>适用场景: 对<hanla></hanla><code>SEO</code>
                      <hanla></hanla>没有要求的系统，<code>比如后台管理类的系统，如电商后台管理，用户管理等</code>
                    </li>
                  </ul>
                </li>
                <li>服务端渲染<ul>
                    <li>优点：有利于<hanla></hanla><code>SEO</code>，网站通过<hanla></hanla><code>href</code>
                      <hanla></hanla>的<hanla></hanla><code>url</code>
                      <hanla></hanla>将搜索引擎直接引到服务端，服务端提供优质的网页内容给搜索引擎。
                    </li>
                    <li>缺点：服务端完成一部分客户端的工作，通常完成一个需求需要修改客户端和服务端的代码，开发效率低，不利于系统的稳定性。</li>
                    <li>适用场景：对<hanla></hanla><code>SEO</code>
                      <hanla></hanla>有要求的系统，比如：<code>门户首页、商品详情页面</code>等。
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
          <h4 id="Nuxt-js"><a href="#Nuxt-js" class="headerlink" title="Nuxt.js"></a>Nuxt.js</h4>
          <ul>
            <li>
              <p>是什么： <code>Nuxt.js</code> 是一个基于 <code>Vue.js</code> 的轻量级应用框架,<hanla></hanla>可以用来创建服务端渲染 (<code>SSR</code>) 应用，也可充当静态站点引擎生成静态站点应用,<hanla></hanla>具有优雅的代码结构分层和热加载等特性。</p>
            </li>
            <li>
              <p>官网</p>
              <blockquote>
                <p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://zh.nuxtjs.org/">https://zh.nuxtjs.org/</a></p>
              </blockquote>
            </li>
            <li>
              <p>整体流程</p>
              <table>
                <thead>
                  <tr>
                    <th align="center">渲染流程</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/0f1e794c8dd84e60b840e83ab256c2b1.png"></td>
                  </tr>
                </tbody>
              </table>
            </li>
            <li>
              <p><code>Nuxt</code>
                <hanla></hanla>安装
              </p>
              <figure class="highlight yml">
                <table>
                  <tbody>
                    <tr>
                      <td class="gutter">
                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                      </td>
                      <td class="code">
                        <pre><span class="line"><span class="comment"># yarn</span></span><br><span class="line"><span class="string">yarn</span> <span class="string">add</span> <span class="string">nuxt</span></span><br><span class="line"><span class="comment"># npm</span></span><br><span class="line"><span class="string">npm</span> <span class="string">install</span> <span class="string">nuxt</span></span><br></pre>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </figure>
            </li>
            <li>
              <p>项目创建</p>
              <figure class="highlight yml">
                <table>
                  <tbody>
                    <tr>
                      <td class="gutter">
                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
                      </td>
                      <td class="code">
                        <pre><span class="line"><span class="comment"># yarn</span></span><br><span class="line"><span class="string">yarn</span> <span class="string">create</span> <span class="string">nuxt-app</span> <span class="string">&lt;project-name&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># npm</span></span><br><span class="line"><span class="string">npm</span> <span class="string">init</span> <span class="string">nuxt-app</span> <span class="string">&lt;project-name&gt;</span></span><br></pre>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </figure>
            </li>
            <li>
              <p>项目运行</p>
              <figure class="highlight yml">
                <table>
                  <tbody>
                    <tr>
                      <td class="gutter">
                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre>
                      </td>
                      <td class="code">
                        <pre><span class="line"><span class="comment"># yarn</span></span><br><span class="line"><span class="string">cd</span> <span class="string">&lt;project-name&gt;</span></span><br><span class="line"><span class="string">yarn</span> <span class="string">dev</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># npm </span></span><br><span class="line"><span class="string">cd</span> <span class="string">&lt;project-name&gt;</span></span><br><span class="line"><span class="string">npm</span> <span class="string">run</span> <span class="string">dev</span></span><br><span class="line"></span><br><span class="line"><span class="string">The</span> <span class="string">application</span> <span class="string">is</span> <span class="string">now</span> <span class="string">running</span> <span class="string">on</span> <span class="string">http://localhost:3000</span> <span class="string">.</span> <span class="string">Well</span> <span class="string">done!</span></span><br><span class="line"></span><br></pre>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </figure>
            </li>
            <li>
              <p>页面</p>
              <ul>
                <li>创建<hanla></hanla><code>pages</code>
                  <hanla></hanla>目录，之后创建<hanla></hanla><code>vue</code>
                  <hanla></hanla>文件
                </li>
              </ul>
            </li>
            <li>
              <p>导航</p>
              <blockquote>
                <p>使用<hanla></hanla><code>&lt;NuxtLink/&gt;</code>
                  <hanla></hanla>标签可以在程序中的不同页面之间导航，相当于<hanla></hanla><code>a</code>
                  <hanla></hanla>标签的作用，一般情况下我们使用<hanla></hanla><code>&lt;NuxtLink&gt;</code>
                  <hanla></hanla>连接程序内部的不同路由地址，使用<hanla></hanla><code>a</code>
                  <hanla></hanla>标签连接站外地址
                </p>
              </blockquote>
              <figure class="highlight html">
                <table>
                  <tbody>
                    <tr>
                      <td class="gutter">
                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre>
                      </td>
                      <td class="code">
                        <pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">    Hello Nuxt</span><br><span class="line">    <span class="tag">&lt;<span class="name">nuxt-link</span> <span class="attr">to</span>=<span class="string">"/about"</span>&gt;</span>About<span class="tag">&lt;/<span class="name">nuxt-link</span>&gt;</span></span><br><span class="line">    {{ message }}</span><br><span class="line">  <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> {</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">data</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> {</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">message</span>: <span class="string">'test'</span>,</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript">  },</span></span><br><span class="line"><span class="language-javascript">}</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </figure>
            </li>
            <li>
              <p>自动路由</p>
              <blockquote>
                <p>在<hanla></hanla><code>vue</code>
                  <hanla></hanla>项目中我们需要创建页面，并未每一个页面配置路由，而<hanla></hanla><code>Nuxt</code>
                  <hanla></hanla>会根据<hanla></hanla><code>pages</code>
                  <hanla></hanla>路径中的页面自动生成路由配置
                </p>
              </blockquote>
              <ul>
                <li>
                  <p>基本路由: <code>/user</code>
                    <hanla></hanla>指向<hanla></hanla><code>pages/user.vue</code>
                    <hanla></hanla>页面
                  </p>
                </li>
                <li>
                  <p><code>lend</code>
                    <hanla></hanla>指向<hanla></hanla><code>pages/lend/index.vue</code>
                    <hanla></hanla>页面
                  </p>
                </li>
                <li>
                  <p>动态路由页面: <code>_id.vue</code></p>
                  <table>
                    <thead>
                      <tr>
                        <th align="center">动态路由的值</th>
                        <th align="center">目录结构</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/0c85c6a6445e42079f1947dfd6c01a5e.png"></td>
                        <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/895e46c8f47f4c978f257f6195e87951.png"></td>
                      </tr>
                    </tbody>
                  </table>
                </li>
                <li>
                  <p>嵌套路由</p>
                  <table>
                    <thead>
                      <tr>
                        <th align="center">嵌套路由</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/4e42a43bf03a44f7a1b662bd0975ed52.png"></td>
                      </tr>
                    </tbody>
                  </table>
                </li>
              </ul>
            </li>
            <li>
              <p>默认布局</p>
              <div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i>
                <p>如果想要拥有统一的页面风格，例如: 一致的页头和页尾，可以使用<hanla></hanla><code>Layout</code>，布局文件的默认名字是<hanla></hanla><code>default.vue</code>，放在<hanla></hanla><code>layouts</code>
                  <hanla></hanla>目录中
                </p>
                <p>注意: 新创建的<hanla></hanla><code>layout</code>
                  <hanla></hanla>重启前端服务器后应用
                </p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th align="center">基础使用</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/bef0c0cd84f34330b0e131f423e75805.png"></td>
                  </tr>
                </tbody>
              </table>
            </li>
            <li>
              <p>自定义布局</p>
              <figure class="highlight html">
                <table>
                  <tbody>
                    <tr>
                      <td class="gutter">
                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>
                      </td>
                      <td class="code">
                        <pre><span class="line">// 在 layouts 下创建 自定义页面，在需要使用布局的 script 中 配置如下<hanla></hanla></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">export</span> <span class="keyword">default</span> {</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">layout</span>: <span class="string">'my'</span>,</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </figure>
            </li>
            <li>
              <p>配置文件</p>
              <ul>
                <li>
                  <p><code>Meta Tags and SEO</code></p>
                  <blockquote>
                    <p>我们可以在<hanla></hanla><code>nuxt.config.js</code>
                      <hanla></hanla>中配置如下内容,<code>Nuxt</code>
                      <hanla></hanla>会自动生成网站的<hanla></hanla><code>&lt;head&gt;</code>
                      <hanla></hanla>标签，这也是搜索引擎优化的一个必要手段
                    </p>
                  </blockquote>
                  <figure class="highlight js">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = {</span><br><span class="line">    <span class="attr">head</span>: {</span><br><span class="line">      <span class="attr">title</span>: <span class="string">'尚融宝'</span>,</span><br><span class="line">      <span class="attr">meta</span>: [</span><br><span class="line">        { <span class="attr">charset</span>: <span class="string">'utf-8'</span> },</span><br><span class="line">        <span class="comment">// 移动端适配</span></span><br><span class="line">        { <span class="attr">name</span>: <span class="string">'viewport'</span>, <span class="attr">content</span>: <span class="string">'width=device-width, initial-scale=1'</span> },</span><br><span class="line">        {</span><br><span class="line">          <span class="attr">hid</span>: <span class="string">'meta-key-words'</span>,</span><br><span class="line">          <span class="attr">name</span>: <span class="string">'keywords'</span>,</span><br><span class="line">          <span class="attr">content</span>:</span><br><span class="line">            <span class="string">'Java,Spring,SpringBoot,SpringMVC,SPringCloud'</span>,</span><br><span class="line">        },</span><br><span class="line">        {</span><br><span class="line">          <span class="attr">hid</span>: <span class="string">'description'</span>,</span><br><span class="line">          <span class="attr">name</span>: <span class="string">'description'</span>,</span><br><span class="line">          <span class="attr">content</span>:</span><br><span class="line">            <span class="string">'已经学习完毕<hanla></hanla>Java<hanla></hanla>框架'</span></span><br><span class="line">        },</span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">link</span>: [{ <span class="attr">rel</span>: <span class="string">'icon'</span>, <span class="attr">type</span>: <span class="string">'image/x-icon'</span>, <span class="attr">href</span>: <span class="string">'/favicon.ico'</span> }],</span><br><span class="line">    },</span><br><span class="line">  }</span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                  <table>
                    <thead>
                      <tr>
                        <th align="center">自动生成<hanla></hanla><code>head</code></th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/c61f9388cedf4a599576cf9cf2ca1480.png"></td>
                      </tr>
                    </tbody>
                  </table>
                  <blockquote>
                    <p><code>/favicon.ico</code>
                      <hanla></hanla>放在<hanla></hanla><code>static</code>
                      <hanla></hanla>目录下
                    </p>
                  </blockquote>
                </li>
                <li>
                  <p>样式</p>
                  <ol>
                    <li>
                      <p>创建<hanla></hanla><code>assets/css/main.css</code></p>
                      <figure class="highlight css">
                        <table>
                          <tbody>
                            <tr>
                              <td class="gutter">
                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                              </td>
                              <td class="code">
                                <pre><span class="line"><span class="selector-tag">body</span> {</span><br><span class="line">     <span class="attribute">background-color</span>: orange;</span><br><span class="line">}</span><br></pre>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </figure>
                    </li>
                    <li>
                      <p>使用: 在<hanla></hanla><code>nuxt.config.js</code>
                        <hanla></hanla>中配置样式<hanla></hanla>(和<hanla></hanla><code>head</code>
                        <hanla></hanla>同级别)
                      </p>
                      <figure class="highlight js">
                        <table>
                          <tbody>
                            <tr>
                              <td class="gutter">
                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                              </td>
                              <td class="code">
                                <pre><span class="line"><span class="attr">css</span>:[</span><br><span class="line">    <span class="string">'~/assets/css/main.css'</span></span><br><span class="line">]</span><br></pre>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </figure>
                      <table>
                        <thead>
                          <tr>
                            <th align="center">样式使用</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/c9c1868e49f34651b02fbd7e7cc5484b.png"></td>
                          </tr>
                        </tbody>
                      </table>
                    </li>
                  </ol>
                </li>
                <li>
                  <p>端口号修改<hanla></hanla>(和<hanla></hanla><code>head</code>
                    <hanla></hanla>同级别)
                  </p>
                  <figure class="highlight js">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="attr">server</span>:{</span><br><span class="line">    <span class="attr">port</span>: <span class="number">3001</span></span><br><span class="line">}</span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                </li>
              </ul>
            </li>
            <li>
              <p><code>axios</code></p>
              <ul>
                <li>
                  <p>配置<hanla></hanla><code>nuxt.config.js</code></p>
                  <figure class="highlight js">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = {</span><br><span class="line">    <span class="attr">modules</span>:[<span class="string">'@nuxtjs/axios'</span>] <span class="comment">// 引入 axios 模块</span></span><br><span class="line">}</span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                  <figure class="highlight html">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="comment">&lt;!-- axios 基础使用: 客户端渲染 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span><hanla></hanla>您的<hanla></hanla>IP<hanla></hanla>地址是: {{ ip }}<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> {</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">data</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> {</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">ip</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">    }</span></span><br><span class="line"><span class="language-javascript">  },</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">created</span>(<span class="params"></span>) {</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// get(res) | $get(res.data)</span></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">this</span>.<span class="property">$axios</span>.$get(<span class="string">'http://icanhazip.com'</span>).<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> {</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="property">ip</span> = res</span></span><br><span class="line"><span class="language-javascript">    })</span></span><br><span class="line"><span class="language-javascript">  },</span></span><br><span class="line"><span class="language-javascript">}</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                </li>
                <li>
                  <p><code>asyncData</code></p>
                  <figure class="highlight js">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	服务端渲染:</span></span><br><span class="line"><span class="comment">		可已将异步调用改为同步调用，可以使用 async 和 await 关键字使远程调用改变为同步,<hanla></hanla>同时让程序更简介<hanla></hanla></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">// {$axios} =&gt; es6 的解构 (asyncData: 服务端渲染)</span></span><br><span class="line"><span class="keyword">async</span> <span class="title function_">asyncData</span>(<span class="params">{ $axios }</span>) {</span><br><span class="line">    <span class="comment">// 必须是 $xxx</span></span><br><span class="line">    <span class="keyword">let</span> response = <span class="keyword">await</span> $axios.$get(<span class="string">'http://icanhazip.com'</span>)</span><br><span class="line">    <span class="keyword">return</span> {</span><br><span class="line">        <span class="attr">ip2</span>: response, <span class="comment">// 这种写法的问题是: 前面的远程调用是异步的,<hanla></hanla>无法在这里获取到 response</span></span><br><span class="line">    }</span><br><span class="line">},</span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                </li>
                <li>
                  <p><code>axios</code>
                    <hanla></hanla>全局选项
                  </p>
                  <figure class="highlight js">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="comment">// nuxt.config.js</span></span><br><span class="line"><span class="attr">axios</span>:{</span><br><span class="line">    <span class="attr">baseURL</span>: <span class="string">'http://localhost'</span></span><br><span class="line">}</span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                </li>
                <li>
                  <p>创建拦截器插件<hanla></hanla><code>plugins/axios.js</code></p>
                  <figure class="highlight js">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span>(<span class="params">{ $axios, redirect }</span>) {</span><br><span class="line">    $axios.<span class="title function_">onRequest</span>(<span class="function">(<span class="params">config</span>) =&gt;</span> {</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'Making request to '</span> + config.<span class="property">url</span>)</span><br><span class="line">    })</span><br><span class="line"></span><br><span class="line">    $axios.<span class="title function_">onResponse</span>(<span class="function">(<span class="params">response</span>) =&gt;</span> {</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'Making resposne'</span>)</span><br><span class="line">        <span class="keyword">return</span> response</span><br><span class="line">    })</span><br><span class="line"></span><br><span class="line">    $axios.<span class="title function_">onError</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> {</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(error) <span class="comment">// for debug</span></span><br><span class="line">    })</span><br><span class="line">}</span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                  <figure class="highlight js">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="attr">plugins</span>:[<span class="string">'~/plugins/axios'</span>]</span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                </li>
              </ul>
            </li>
          </ul>
          <h4 id="用户登录模块"><a href="#用户登录模块" class="headerlink" title="用户登录模块"></a>用户登录模块</h4>
          <ul>
            <li>
              <p><code>server-base</code>
                <hanla></hanla>引入<hanla></hanla><code>jwt</code>
                <hanla></hanla>依赖
              </p>
              <figure class="highlight xml">
                <table>
                  <tbody>
                    <tr>
                      <td class="gutter">
                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                      </td>
                      <td class="code">
                        <pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.jsonwebtoken<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jjwt<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </figure>
              <ul>
                <li>
                  <p>工具类</p>
                  <figure class="highlight java">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="keyword">package</span> com.coderitl.srb.base.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.coderitl.common.exception.BusinessException;</span><br><span class="line"><span class="keyword">import</span> com.coderitl.common.result.ResponseEnum;</span><br><span class="line"><span class="keyword">import</span> io.jsonwebtoken.*;</span><br><span class="line"><span class="keyword">import</span> org.springframework.util.StringUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.crypto.spec.SecretKeySpec;</span><br><span class="line"><span class="keyword">import</span> javax.xml.bind.DatatypeConverter;</span><br><span class="line"><span class="keyword">import</span> java.security.Key;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JwtUtils</span> {</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">long</span> <span class="variable">tokenExpiration</span> <span class="operator">=</span> <span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">1000</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">tokenSignKey</span> <span class="operator">=</span> <span class="string">"A1t2g3uigu123456"</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Key <span class="title function_">getKeyInstance</span><span class="params">()</span> {</span><br><span class="line">        <span class="type">SignatureAlgorithm</span> <span class="variable">signatureAlgorithm</span> <span class="operator">=</span> SignatureAlgorithm.HS256;</span><br><span class="line">        <span class="type">byte</span>[] bytes = DatatypeConverter.parseBase64Binary(tokenSignKey);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">SecretKeySpec</span>(bytes, signatureAlgorithm.getJcaName());</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">createToken</span><span class="params">(Long userId, String userName)</span> {</span><br><span class="line">        <span class="type">String</span> <span class="variable">token</span> <span class="operator">=</span> Jwts.builder()</span><br><span class="line">                .setSubject(<span class="string">"SRB-USER"</span>)</span><br><span class="line">                .setExpiration(<span class="keyword">new</span> <span class="title class_">Date</span>(System.currentTimeMillis() + tokenExpiration))</span><br><span class="line">                .claim(<span class="string">"userId"</span>, userId)</span><br><span class="line">                .claim(<span class="string">"userName"</span>, userName)</span><br><span class="line">                .signWith(SignatureAlgorithm.HS512, getKeyInstance())</span><br><span class="line">                .compressWith(CompressionCodecs.GZIP)</span><br><span class="line">                .compact();</span><br><span class="line">        <span class="keyword">return</span> token;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 判断 token 是否有效</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> token</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">checkToken</span><span class="params">(String token)</span> {</span><br><span class="line">        <span class="keyword">if</span> (StringUtils.isEmpty(token)) {</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            Jwts.parser().setSigningKey(getKeyInstance()).parseClaimsJws(token);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Long <span class="title function_">getUserId</span><span class="params">(String token)</span> {</span><br><span class="line">        <span class="type">Claims</span> <span class="variable">claims</span> <span class="operator">=</span> getClaims(token);</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">userId</span> <span class="operator">=</span> (Integer) claims.get(<span class="string">"userId"</span>);</span><br><span class="line">        <span class="keyword">return</span> userId.longValue();</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">getUserName</span><span class="params">(String token)</span> {</span><br><span class="line">        <span class="type">Claims</span> <span class="variable">claims</span> <span class="operator">=</span> getClaims(token);</span><br><span class="line">        <span class="keyword">return</span> (String) claims.get(<span class="string">"userName"</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">removeToken</span><span class="params">(String token)</span> {</span><br><span class="line">        <span class="comment">//jwttoken<hanla></hanla>无需删除，客户端扔掉即可。</span></span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 校验 token 并返回 Claims</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> token</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Claims <span class="title function_">getClaims</span><span class="params">(String token)</span> {</span><br><span class="line">        <span class="keyword">if</span> (StringUtils.isEmpty(token)) {</span><br><span class="line">            <span class="comment">// LOGIN_AUTH_ERROR(-211, "未登录"),</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">BusinessException</span>(ResponseEnum.LOGIN_AUTH_ERROR);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            Jws&lt;Claims&gt; claimsJws = Jwts.parser().setSigningKey(getKeyInstance()).parseClaimsJws(token);</span><br><span class="line">            <span class="type">Claims</span> <span class="variable">claims</span> <span class="operator">=</span> claimsJws.getBody();</span><br><span class="line">            <span class="keyword">return</span> claims;</span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">BusinessException</span>(ResponseEnum.LOGIN_AUTH_ERROR);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                </li>
                <li>
                  <p>创建登录的<hanla></hanla><code>VO</code>
                    <hanla></hanla>对象
                  </p>
                  <table>
                    <thead>
                      <tr>
                        <th align="center">封装如下表单信息</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/fe23cdc0a5ae4fa1be0232c9de80b597.png"></td>
                      </tr>
                    </tbody>
                  </table>
                  <figure class="highlight java">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="keyword">package</span> com.coderitl.srb.core.pojo.vo;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@ApiModel(description="登录对象")</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginVO</span> {</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@ApiModelProperty(value = "用户类型")</span></span><br><span class="line">    <span class="keyword">private</span> Integer userType;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiModelProperty(value = "手机号")</span></span><br><span class="line">    <span class="keyword">private</span> String mobile;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiModelProperty(value = "密码")</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">}</span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                </li>
                <li>
                  <p>用户信息对象<hanla></hanla><code>vo</code></p>
                  <table>
                    <thead>
                      <tr>
                        <th align="center">登录之后需要展示用户信息</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/1f9a854282074f1dbcbd60c1b96c139b.png"></td>
                      </tr>
                    </tbody>
                  </table>
                  <figure class="highlight java">
                    <table>
                      <tbody>
                        <tr>
                          <td class="gutter">
                            <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre>
                          </td>
                          <td class="code">
                            <pre><span class="line"><span class="keyword">package</span> com.coderitl.srb.core.pojo.vo;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@ApiModel(description="用户信息对象")</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserInfoVO</span> {</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@ApiModelProperty(value = "用户姓名")</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@ApiModelProperty(value = "用户昵称")</span></span><br><span class="line">    <span class="keyword">private</span> String nickName;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@ApiModelProperty(value = "头像")</span></span><br><span class="line">    <span class="keyword">private</span> String headImg;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@ApiModelProperty(value = "手机号")</span></span><br><span class="line">    <span class="keyword">private</span> String mobile;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@ApiModelProperty(value = "1：出借人 2：借款人")</span></span><br><span class="line">    <span class="keyword">private</span> Integer userType;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@ApiModelProperty(value = "JWT<hanla></hanla>访问令牌")</span></span><br><span class="line">    <span class="keyword">private</span> String token;</span><br><span class="line">}</span><br></pre>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </figure>
                </li>
              </ul>
            </li>
          </ul>
          <h4 id="GET-请求"><a href="#GET-请求" class="headerlink" title="GET 请求"></a>GET 请求</h4>
          <ul>
            <li>
              <p>错误写法</p>
              <table>
                <thead>
                  <tr>
                    <th align="center"><code>get</code>
                      <hanla></hanla>请求是没有请求体的
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/211fc9efce704af781813f7445cb69ec.png"></td>
                  </tr>
                </tbody>
              </table>
            </li>
          </ul>
          <h4 id="Swagger2"><a href="#Swagger2" class="headerlink" title="Swagger2"></a>Swagger2</h4>
          <ul>
            <li>
              <p>切换<hanla></hanla><code>UI</code></p>
              <figure class="highlight xml">
                <table>
                  <tbody>
                    <tr>
                      <td class="gutter">
                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre>
                      </td>
                      <td class="code">
                        <pre><span class="line"><span class="comment">&lt;!-- swagger 1.9.2 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.xiaoymin<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>swagger-bootstrap-ui<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">     <span class="comment">&lt;!--swagger ui--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--   </span></span><br><span class="line"><span class="comment">             &lt;dependency&gt;</span></span><br><span class="line"><span class="comment">                &lt;groupId&gt;io.springfox&lt;/groupId&gt;</span></span><br><span class="line"><span class="comment">                &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;</span></span><br><span class="line"><span class="comment">             &lt;/dependency&gt;</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br></pre>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </figure>
            </li>
            <li>
              <p>访问地址:<code>xxx/doc.html</code></p>
            </li>
            <li>
              <p><code>Token</code>
                <hanla></hanla>全局设置
              </p>
              <table>
                <thead>
                  <tr>
                    <th align="center">文档管理</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/b972d200d334440fb28d8287a1a23be6.png"></td>
                  </tr>
                </tbody>
              </table>
            </li>
            <li>
              <p>调试<hanla></hanla><code>token</code></p>
              <table>
                <thead>
                  <tr>
                    <th align="center">调试</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/296545efb653478996ae4673c08ac014.png"></td>
                  </tr>
                </tbody>
              </table>
            </li>
          </ul>
          <h4 id="前端Cookie"><a href="#前端Cookie" class="headerlink" title="前端Cookie"></a>前端<hanla></hanla>Cookie</h4>
          <ul>
            <li>
              <p>下载</p>
              <figure class="highlight properties">
                <table>
                  <tbody>
                    <tr>
                      <td class="gutter">
                        <pre><span class="line">1</span><br></pre>
                      </td>
                      <td class="code">
                        <pre><span class="line"><span class="attr">npm</span> <span class="string">install js-cookie</span></span><br></pre>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </figure>
            </li>
            <li>
              <p>使用</p>
              <figure class="highlight js">
                <table>
                  <tbody>
                    <tr>
                      <td class="gutter">
                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre>
                      </td>
                      <td class="code">
                        <pre><span class="line"><span class="keyword">import</span> cookie <span class="keyword">from</span> <span class="string">'js-cookie'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 存储<hanla></hanla></span></span><br><span class="line">cookie.<span class="title function_">set</span>(<span class="string">'userInfo'</span>, response.<span class="property">data</span>.<span class="property">userInfo</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 判断 cookie 中是否存有用户信息<hanla></hanla></span></span><br><span class="line"><span class="keyword">let</span> userInfo = cookie.<span class="title function_">get</span>(<span class="string">'userInfo'</span>)</span><br><span class="line"></span><br></pre>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </figure>
            </li>
          </ul>
          <h4 id="Token校验"><a href="#Token校验" class="headerlink" title="Token校验"></a>Token<hanla></hanla>校验</h4>
          <ul>
            <li>
              <p><code>token</code>
                <hanla></hanla>校验
              </p>
              <figure class="highlight js">
                <table>
                  <tbody>
                    <tr>
                      <td class="gutter">
                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre>
                      </td>
                      <td class="code">
                        <pre><span class="line"><span class="comment">// 校验 token 是否合法<hanla></hanla>(局部)</span></span><br><span class="line"><span class="variable language_">this</span>.$axios({</span><br><span class="line">    <span class="attr">url</span>: <span class="string">'/api/core/userInfo/checkToken'</span>,</span><br><span class="line">    <span class="attr">method</span>: <span class="string">'get'</span>,</span><br><span class="line">    <span class="comment">// headers: {</span></span><br><span class="line">    <span class="comment">//   token: userInfo.token,</span></span><br><span class="line">    <span class="comment">// },</span></span><br><span class="line">}).<span class="title function_">then</span>(<span class="function">(<span class="params">response</span>) =&gt;</span> {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'校验成功'</span>)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">userInfo</span> = userInfo</span><br><span class="line">})</span><br></pre>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </figure>
            </li>
            <li>
              <p>拦截器处理检验</p>
              <figure class="highlight js">
                <table>
                  <tbody>
                    <tr>
                      <td class="gutter">
                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre>
                      </td>
                      <td class="code">
                        <pre><span class="line"><span class="comment">// nuxt 的 axios 拦截器检验<hanla></hanla></span></span><br><span class="line"><span class="keyword">import</span> { <span class="title class_">Message</span> } <span class="keyword">from</span> <span class="string">'element-ui'</span></span><br><span class="line"><span class="keyword">import</span> cookie <span class="keyword">from</span> <span class="string">'js-cookie'</span></span><br><span class="line"><span class="comment">// 解构 { $axios, redirect }</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span>(<span class="params">{ $axios, redirect }</span>) {</span><br><span class="line">  <span class="comment">// 请求拦截器</span></span><br><span class="line">  $axios.<span class="title function_">onRequest</span>(<span class="function">(<span class="params">config</span>) =&gt;</span> {</span><br><span class="line">    <span class="keyword">let</span> userInfo = cookie.<span class="title function_">get</span>(<span class="string">'userInfo'</span>)</span><br><span class="line">    <span class="keyword">if</span> (userInfo) {</span><br><span class="line">      <span class="comment">// debugger</span></span><br><span class="line">      userInfo = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(userInfo)</span><br><span class="line">      config.<span class="property">headers</span>[<span class="string">'token'</span>] = userInfo.<span class="property">token</span></span><br><span class="line">    }</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'Making request to '</span> + config.<span class="property">url</span>)</span><br><span class="line">  })</span><br><span class="line"></span><br><span class="line">  $axios.<span class="title function_">onRequestError</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'onRequestError'</span>, error) <span class="comment">// for debug</span></span><br><span class="line">  })</span><br><span class="line">  <span class="comment">// 响应拦截器</span></span><br><span class="line">  $axios.<span class="title function_">onResponse</span>(<span class="function">(<span class="params">response</span>) =&gt;</span> {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'Reciving resposne'</span>, response)</span><br><span class="line">    <span class="keyword">if</span> (response.<span class="property">data</span>.<span class="property">code</span> === <span class="number">0</span>) {</span><br><span class="line">      <span class="keyword">return</span> response</span><br><span class="line">    } <span class="keyword">else</span> <span class="keyword">if</span> (response.<span class="property">data</span>.<span class="property">code</span> === -<span class="number">211</span>) {</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'用户校验失败'</span>)</span><br><span class="line">      <span class="comment">// debugger</span></span><br><span class="line">      cookie.<span class="title function_">set</span>(<span class="string">'userInfo'</span>, <span class="string">''</span>)</span><br><span class="line">      <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span> = <span class="string">'/'</span></span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">      <span class="title class_">Message</span>({</span><br><span class="line">        <span class="attr">message</span>: response.<span class="property">data</span>.<span class="property">message</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">'error'</span>,</span><br><span class="line">        <span class="attr">duration</span>: <span class="number">5</span> * <span class="number">1000</span>,</span><br><span class="line">      })</span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(response)</span><br><span class="line">    }</span><br><span class="line">  })</span><br><span class="line"></span><br><span class="line">  <span class="comment">//<hanla></hanla>通信失败</span></span><br><span class="line">  $axios.<span class="title function_">onResponseError</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'onResponseError'</span>, error) <span class="comment">// for debug</span></span><br><span class="line">  })</span><br><span class="line">}</span><br><span class="line"></span><br></pre>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </figure>
            </li>
          </ul>
          <h4 id="Query-封装"><a href="#Query-封装" class="headerlink" title="Query 封装"></a>Query 封装</h4>
          <ul>
            <li>
              <p>封装数据源</p>
              <table>
                <thead>
                  <tr>
                    <th align="center">手机号、用户类型、用户状态等参数</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td align="center"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img-blog.csdnimg.cn/6c057b3c8d8a43f885fc5d9e70d0d88b.png"></td>
                  </tr>
                </tbody>
              </table>
              <figure class="highlight java">
                <table>
                  <tbody>
                    <tr>
                      <td class="gutter">
                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre>
                      </td>
                      <td class="code">
                        <pre><span class="line"><span class="keyword">package</span> com.coderitl.srb.core.pojo.query;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.swagger.annotations.ApiModel;</span><br><span class="line"><span class="keyword">import</span> io.swagger.annotations.ApiModelProperty;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@ApiModel(description = "会员搜索对象")</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserInfoQuery</span> {</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@ApiModelProperty(value = "手机号")</span></span><br><span class="line">    <span class="keyword">private</span> String mobile;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@ApiModelProperty(value = "状态")</span></span><br><span class="line">    <span class="keyword">private</span> Integer status;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@ApiModelProperty(value = "1：出借人 2：借款人")</span></span><br><span class="line">    <span class="keyword">private</span> Integer userType;</span><br><span class="line">}</span><br></pre>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </figure>
            </li>
          </ul>
        </article>
        <div class="post-copyright">
          <div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://coderitl.github.io">coder-itl</a></span></div>
          <div class="post-copyright__type"><span class="post-copyright-meta">
              <hanla></hanla>文章链接:
            </span><span class="post-copyright-info"><a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.nesxc.com/post/hexocc.html">https://www.nesxc.com/post/hexocc.html</a></span></div>
          <div class="post-copyright__notice"><span class="post-copyright-meta">
              <hanla></hanla>版权声明:
            </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="external nofollow noopener noreferrer">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://coderitl.github.io" target="_blank">coder-itl</a>！</span></div>
        </div>
        <div class="tag_share">
          <div class="post-meta__tag-list"></div>
          <div class="post_share">
            <div class="social-share" data-image="https://cdn.jsdelivr.net/gh/coderitl/hiddenContent@v1.10/day321/48.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div>
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'">
            <script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer=""></script>
          </div>
        </div>
        <nav class="pagination-post" id="pagination">
          <div class="prev-post pull-left"><a href="/2022/09/28/62965.html" title="EasyPOI"><img class="cover" src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/coderitl/hiddenContent@v1.0.6/bbg/11.jpg" onerror="onerror=null;src='/null'" alt="cover of previous post">
              <div class="pagination-info">
                <div class="label">上一篇<hanla></hanla>
                </div>
                <div class="prev_info">EasyPOI</div>
              </div>
            </a></div>
          <div class="next-post pull-right"><a href="/2022/09/14/60023.html" title="MYSQL8.0"><img class="cover" src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/coderitl/hiddenContent@v1.10/day321/31.jpg" onerror="onerror=null;src='/null'" alt="cover of next post">
              <div class="pagination-info">
                <div class="label">
                  <hanla></hanla>下一篇<hanla></hanla>
                </div>
                <div class="next_info">MYSQL8.0</div>
              </div>
            </a></div>
        </nav>
        <hr>
        <div id="post-comment">
          <div class="comment-head">
            <div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论<hanla></hanla></span></div>
          </div>
          <div class="comment-wrap">
            <div>
              <div id="twikoo-wrap"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="aside-content" id="aside-content">
        <div class="card-widget card-info">
          <div class="is-center">
            <div class="avatar-img"><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://i.328888.xyz/2023/03/19/MJUXa.jpeg" onerror="this.onerror=null;this.src='https://i.328888.xyz/2023/03/20/P3kfC.gif'" alt="avatar"></div>
            <div class="author-info__name">coder-itl</div>
            <div class="author-info__description">To read without reflecting is like eating without digesting.</div>
          </div>
          <div class="card-info-data site-data is-center"><a href="/archives/">
              <div class="headline">
                <hanla></hanla>文章<hanla></hanla>
              </div>
              <div class="length-num">119</div>
            </a><a href="/tags/">
              <div class="headline">
                <hanla></hanla>标签<hanla></hanla>
              </div>
              <div class="length-num">21</div>
            </a><a href="/categories/">
              <div class="headline">
                <hanla></hanla>分类<hanla></hanla>
              </div>
              <div class="length-num">13</div>
            </a></div><a id="card-info-btn" target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a>
        </div>
        <div class="card-widget card-announcement">
          <div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>
              <hanla></hanla>公告
            </span></div>
          <div class="announcement_content">本站所有图片来源于网络,<hanla></hanla>侵权请添加管理员删除【3327511395@qq.com】!</div>
        </div>
        <div class="sticky_layout">
          <div class="card-widget" id="card-toc">
            <div class="item-headline"><i class="fas fa-stream"></i><span>
                <hanla></hanla>目录<hanla></hanla>
              </span><span class="toc-percentage"></span></div>
            <div class="toc-content">
              <ol class="toc">
                <li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%9A%E8%9E%8D%E5%AE%9D"><span class="toc-number">1.</span> <span class="toc-text">尚融宝<hanla></hanla></span></a>
                  <ol class="toc-child">
                    <li class="toc-item toc-level-4"><a class="toc-link" href="#MP"><span class="toc-number">1.1.</span> <span class="toc-text">MP</span></a></li>
                    <li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83"><span class="toc-number">1.2.</span> <span class="toc-text">数据库设计规范<hanla></hanla></span></a></li>
                    <li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90%E5%99%A8"><span class="toc-number">1.3.</span> <span class="toc-text">代码生成器<hanla></hanla></span></a></li>
                    <li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8%E7%BA%BF%E5%B7%A5%E5%85%B7"><span class="toc-number">1.4.</span> <span class="toc-text">在线工具<hanla></hanla></span></a></li>
                    <li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%98%BF%E9%87%8C%E4%BA%91%E7%9F%AD%E4%BF%A1%E4%B8%9A%E5%8A%A1%E7%9A%84%E5%BC%80%E9%80%9A"><span class="toc-number">1.5.</span> <span class="toc-text">阿里云短信业务的开通<hanla></hanla></span></a></li>
                    <li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%98%BF%E9%87%8C%E4%BA%91%E5%AF%B9%E8%B1%A1%E5%AD%98%E5%82%A8%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.6.</span> <span class="toc-text">阿里云对象存储服务<hanla></hanla></span></a></li>
                    <li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-alias-%E5%91%BD%E4%BB%A4%E8%87%AA%E5%AE%9A%E4%B9%89%E5%88%AB%E5%90%8D"><span class="toc-number">1.7.</span> <span class="toc-text">使用 alias 命令自定义别名<hanla></hanla></span></a></li>
                    <li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E4%B8%80%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%92%8C%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95"><span class="toc-number">1.8.</span> <span class="toc-text">单一服务器模式和单点登录<hanla></hanla></span></a></li>
                    <li class="toc-item toc-level-4"><a class="toc-link" href="#Token-%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95"><span class="toc-number">1.9.</span> <span class="toc-text">Token 单点登录<hanla></hanla></span></a></li>
                    <li class="toc-item toc-level-4"><a class="toc-link" href="#SEO"><span class="toc-number">1.10.</span> <span class="toc-text">SEO</span></a></li>
                    <li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93%E4%B8%8E%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%B2%E6%9F%93"><span class="toc-number">1.11.</span> <span class="toc-text">服务端渲染与客户端渲染<hanla></hanla></span></a></li>
                    <li class="toc-item toc-level-4"><a class="toc-link" href="#Nuxt-js"><span class="toc-number">1.12.</span> <span class="toc-text">Nuxt.js</span></a></li>
                    <li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E6%A8%A1%E5%9D%97"><span class="toc-number">1.13.</span> <span class="toc-text">用户登录模块<hanla></hanla></span></a></li>
                    <li class="toc-item toc-level-4"><a class="toc-link" href="#GET-%E8%AF%B7%E6%B1%82"><span class="toc-number">1.14.</span> <span class="toc-text">GET 请求<hanla></hanla></span></a></li>
                    <li class="toc-item toc-level-4"><a class="toc-link" href="#Swagger2"><span class="toc-number">1.15.</span> <span class="toc-text">Swagger2</span></a></li>
                    <li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%89%8D%E7%AB%AFCookie"><span class="toc-number">1.16.</span> <span class="toc-text">前端<hanla></hanla>Cookie</span></a></li>
                    <li class="toc-item toc-level-4"><a class="toc-link" href="#Token%E6%A0%A1%E9%AA%8C"><span class="toc-number">1.17.</span> <span class="toc-text">Token<hanla></hanla>校验<hanla></hanla></span></a></li>
                    <li class="toc-item toc-level-4"><a class="toc-link" href="#Query-%E5%B0%81%E8%A3%85"><span class="toc-number">1.18.</span> <span class="toc-text">Query 封装</span></a></li>
                  </ol>
                </li>
              </ol>
            </div>
          </div>
        </div>
      </div>
    </main>
    <footer id="footer" style="background: transparent">
      <div id="footer-wrap">
        <div class="copyright">©2020 - 2023 By coder-itl</div>
        <div class="framework-info"><span>
            <hanla></hanla>框架
          </span><a target="_blank" rel="external nofollow noopener noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div>
        <div class="footer_custom_text">
          <p><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img.shields.io/badge/Frame-Hexo-orange">&nbsp;<img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img.shields.io/badge/Theme-Buffterfly-blue">&nbsp;<img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img.shields.io/badge/CDN-jsDeliver-blueviolet">&nbsp;<img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img.shields.io/badge/Source-Github-9cf">&nbsp;<img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img.shields.io/badge/Theme-Matery-ff69b4">&nbsp;<img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img.shields.io/badge/Python-Python-success">&nbsp;<img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img.shields.io/badge/Python-Flask-red"></p>
          <p><img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img.shields.io/badge/Theme-Butterfly-red?logo=Castorama&amp;logoWidth=18">&nbsp;<img src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://img.shields.io/badge/Frame-Hexo-blue?logo=Grunt&amp;logoWidth=18"></p>
        </div>
      </div>
    </footer>
  </div>
  <div id="rightside">
    <div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div>
    <div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div>
  </div>
  <div id="local-search">
    <div class="search-dialog">
      <nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav>
      <div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span> 数据库加载中<hanla></hanla></span></div>
      <div class="search-wrap">
        <div id="local-search-input">
          <div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div>
        </div>
        <hr>
        <div id="local-search-results"></div>
      </div>
    </div>
    <div id="search-mask"></div>
  </div>
  <div>
    <script src="/js/utils.js"></script>
    <script src="/js/main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script>
    <script src="/js/search/local-search.js"></script>
    <div class="js-pjax">
      <script>
        (() =>
        {
          const init = () =>
          {
            twikoo.init(Object.assign(
            {
              el: '#twikoo-wrap',
              envId: 'https://twikoo-jlw0ln3jv-coderitl.vercel.app/',
              region: 'ap-shanghai',
              onCommentLoaded: function ()
              {
                btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
              }
            }, null))
          }
          const getCount = () =>
          {
            const countELement = document.getElementById('twikoo-count')
            if (!countELement) return
            twikoo.getCommentsCount(
            {
              envId: 'https://twikoo-jlw0ln3jv-coderitl.vercel.app/',
              region: 'ap-shanghai',
              urls: [window.location.pathname],
              includeReply: false
            }).then(function (res)
            {
              countELement.innerText = res[0].count
            }).catch(function (err)
            {
              console.error(err);
            });
          }
          const runFn = () =>
          {
            init()
          }
          const loadTwikoo = () =>
          {
            if (typeof twikoo === 'object')
            {
              setTimeout(runFn, 0)
              return
            }
            getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(runFn)
          }
          if ('Twikoo' === 'Twikoo' || !false)
          {
            if (false) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
            else loadTwikoo()
          }
          else
          {
            window.loadOtherComment = () =>
            {
              loadTwikoo()
            }
          }
        })()

      </script>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script>
    <script defer="" src="https://cdn.jsdelivr.net/npm/hexo-theme-volantis@latest/source/js/issues.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script>
    <script data-pjax="" src="https://cdn.jsdelivr.net/gh/coderitl/FileJsDeliver@v1.1.13/swiper/swiper.min.js"></script>
    <script data-pjax="" src="https://cdn.jsdelivr.net/gh/coderitl/FileJsDeliver@v1.1.13/swiper/swiperindex.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/graingert/wow@1.3.0/dist/wow.min.js"></script>
    <script src="https://www.youxiaohou.com/mactype.user.js"></script>
    <script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script>
    <script>
      let pjaxSelectors = ["head > title", "#config-diff", "#body-wrap", "#rightside-config-hide", "#rightside-config-show", ".js-pjax"]
      var pjax = new Pjax(
      {
        elements: 'a:not([target="_blank"])',
        selectors: pjaxSelectors,
        cacheBust: false,
        analytics: false,
        scrollRestoration: false
      })
      document.addEventListener('pjax:send', function ()
      {
        // removeEventListener scroll 
        window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
        window.scrollCollect && window.removeEventListener('scroll', scrollCollect)
        document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
        if (window.aplayers)
        {
          for (let i = 0; i < window.aplayers.length; i++)
          {
            if (!window.aplayers[i].options.fixed)
            {
              window.aplayers[i].destroy()
            }
          }
        }
        typeof typed === 'object' && typed.destroy()
        //reset readmode
        const $bodyClassList = document.body.classList
        $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
        typeof disqusjs === 'object' && disqusjs.destroy()
      })
      document.addEventListener('pjax:complete', function ()
      {
        window.refreshFn()
        document.querySelectorAll('script[data-pjax]').forEach(item =>
        {
          const newScript = document.createElement('script')
          const content = item.text || item.textContent || item.innerHTML || ""
          Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
          newScript.appendChild(document.createTextNode(content))
          item.parentNode.replaceChild(newScript, item)
        })
        GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()
        typeof chatBtnFn === 'function' && chatBtnFn()
        typeof panguInit === 'function' && panguInit()
        // google analytics
        typeof gtag === 'function' && gtag('config', '',
        {
          'page_path': window.location.pathname
        });
        // baidu analytics
        typeof _hmt === 'object' && _hmt.push(['_trackPageview', window.location.pathname]);
        typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()
        // prismjs
        typeof Prism === 'object' && Prism.highlightAll()
      })
      document.addEventListener('pjax:error', (e) =>
      {
        if (e.request.status === 404)
        {
          pjax.loadUrl('/404.html')
        }
      })

    </script>
    <script async="" data-pjax="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  </div><!-- hexo injector body_end start -->
  <script data-pjax="">
    function history_calendar_injector_config()
    {
      var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
      var item_html = '<div class="card-widget card-history"><div class="card-content"><div class="item-headline"><i class="fas fa-clock fa-spin"></i><span><hanla></hanla>那年今日<hanla></hanla></span></div><div id="history-baidu" style="height: 100px;overflow: hidden"><div class="history_swiper-container" id="history-container" style="width: 100%;height: 100%"><div class="swiper-wrapper" id="history_container_wrapper" style="height:20px"></div></div></div></div>';
      console.log('已挂载<hanla></hanla>history_calendar')
      // parent_div_git.innerHTML=item_html+parent_div_git.innerHTML // 无报错，但不影响使用<hanla></hanla>(支持<hanla></hanla>pjax<hanla></hanla>跳转)
      parent_div_git.insertAdjacentHTML("afterbegin", item_html) // 有报错，但不影响使用<hanla></hanla>(支持<hanla></hanla>pjax<hanla></hanla>跳转)
    }
    if (document.getElementsByClassName('sticky_layout')[0] & amp; & amp;
      (location.pathname === 'all' || 'all' === 'all'))
    {
      history_calendar_injector_config()
    } < /div>

  </script>
  <script data-pjax="" src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>
  <script data-pjax="" src="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-card-history/baiduhistory/js/main.js"></script>
  <script data-pjax="">
    function butterfly_swiper_injector_config()
    {
      var parent_div_git = document.getElementById('recent-posts');
      var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2022/08/13/15497.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/coderitl/Access@v1.0/medias/featureimages/7.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"></a><div class="blog-slider__content"><span class="blog-slider__code">2022-08-13</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2022/08/13/15497.html&quot;);" href="javascript:void(0);" alt=""><hanla></hanla>文件上传下载实战<hanla></hanla></a><div class="blog-slider__text"><hanla></hanla>再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2022/08/13/15497.html&quot;);" href="javascript:void(0);" alt=""><hanla></hanla>详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2022/09/04/27324.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/coderitl/Access@v1.0/medias/featureimages/8.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"></a><div class="blog-slider__content"><span class="blog-slider__code">2022-09-04</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2022/09/04/27324.html&quot;);" href="javascript:void(0);" alt="">Docker<hanla></hanla>安装<hanla></hanla>Oracle</a><div class="blog-slider__text"><hanla></hanla>再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2022/09/04/27324.html&quot;);" href="javascript:void(0);" alt=""><hanla></hanla>详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2022/11/30/42622.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://i.328888.xyz/2023/04/01/i2p4AN.jpeg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"></a><div class="blog-slider__content"><span class="blog-slider__code">2022-11-30</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2022/11/30/42622.html&quot;);" href="javascript:void(0);" alt="">SpringCloud</a><div class="blog-slider__text"><hanla></hanla>再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2022/11/30/42622.html&quot;);" href="javascript:void(0);" alt=""><hanla></hanla>详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2022/12/29/2485.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "https://i.328888.xyz/2023/03/20/P3kfC.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/coderitl/Access@v1.0/medias/featureimages/2.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"></a><div class="blog-slider__content"><span class="blog-slider__code">2022-12-29</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2022/12/29/2485.html&quot;);" href="javascript:void(0);" alt="">Ubuntu-系统<hanla></hanla></a><div class="blog-slider__text"><hanla></hanla>再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2022/12/29/2485.html&quot;);" href="javascript:void(0);" alt=""><hanla></hanla>详情       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
      console.log('已挂载<hanla></hanla>butterfly_swiper')
      parent_div_git.insertAdjacentHTML("afterbegin", item_html)
    }
    var elist = 'undefined'.split(',');
    var cpage = location.pathname;
    var epage = 'all';
    var flag = 0;
    for (var i = 0; i

  </script>
  <script defer="" src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script>
  <script defer="" data-pjax="" src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script>
  <script data-pjax="" src="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.js"></script>
  <script data-pjax="">
    function gitcalendar_injector_config()
    {
      var parent_div_git = document.getElementById('recent-posts');
      var item_html = '<div class="recent-post-item" id="gitcalendarBar" style="width:100%;height:auto;padding:10px;"><style>#git_container{min-height: 280px}@media screen and (max-width:650px) {#git_container{min-height: 0px}}</style><div id="git_loading" style="width:10%;height:100%;margin:0 auto;display: block;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animateTransform></path></svg><style>#git_container{display: none;}</style></div><div id="git_container"></div></div>';
      parent_div_git.insertAdjacentHTML("afterbegin", item_html)
      console.log('已挂载<hanla></hanla>gitcalendar')
    }
    if (document.getElementById('recent-posts') && (location.pathname === '/' || '/' === 'all'))
    {
      gitcalendar_injector_config()
      GitCalendarInit("https://python-github-calenda-4cx5gxbnc-coderitl.vercel.app/api?coderitl", ['#e4dfd7', '#f9f4dc', '#f7e8aa', '#f7e8aa', '#f8df72', '#fcd217', '#fcc515', '#f28e16', '#fb8b05', '#d85916', '#f43e06'], 'coderitl')
    }

  </script>
  <script async="" src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script><!-- hexo injector body_end end -->
  <script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script>
  <script>
    L2Dwidget.init(
    {
      "pluginModelPath": "assets/",
      "model":
      {
        "jsonPath": "/live2dw/assets/shizuku.model.json"
      },
      "display":
      {
        "position": "left",
        "width": 150,
        "height": 300
      },
      "mobile":
      {
        "show": false
      },
      "rect":
      {
        "opacity": 0.7
      },
      "log": false,
      "pluginJsPath": "lib/",
      "pluginRootPath": "live2dw/",
      "tagMode": false
    });

  </script>



</body></html>